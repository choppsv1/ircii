/*
 * ChangeLog: Dealing with the actual changes of code in ircII, leaving
 * NEWS for actual user changes.
 *
 * Matthew Green, 1993.
 *
 * Copyright(c) 1993-2014
 *
 * See the COPYRIGHT file, or do a HELP IRCII COPYRIGHT
 *
 * @(#)$eterna: ChangeLog,v 2.693 2015/11/22 09:53:42 mrg Exp $
 */

20151120
Fri Nov 20 01:16:10 PST 2015 - matthew green <mrg@eterna.com.au>
	source/lastlog.c:
		extra the lastlog printing into its own function and add a
		hack to remove any present trailing ALL_OFF.
	source/log.c:
		remove an #ifdef.
	source/output.c, source/screen.c:
		remove calls to add_to_log() from output.c functions and
		rely entirely on add_to_screen() to do this.  add missing
		calls to add_to_log() in the missing screen and basic
		terminal support sections of add_to_screen().
	script/nicksearch:
		add new script to search for nicks.

20151111
Wed Nov 11 15:00:48 PST 2015 - matthew green <mrg@eterna.com.au>
	Makefile.in:
		make sure we only create sig.inc if successful.
	source/server.c:
		make sure we assign the ssl level to something in servercmd().

20151002
Fri Oct  2 21:14:39 PDT 2015 - matthew green <mrg@eterna.com.au>
	source/translat.c:
		give invalid utf-8 sequences a length of 1, so that we are
		actually able to advance beyond them instead of an infinite
		loop.

20150903
Thu Sep  3 12:34:00 PDT 2015 - matthew green <mrg@eterna.com.au>
	include/ircterm.h, source/output.c, source/screen.c, source/status.c,
	source/term.c, source/window.c:
		use the final column of the display.  provide a way to get
		the old behaviour via TERM_USE_LAST_COLUMN.  adjust a few
		Debug()s to remove the (now provided) function name, and
		add a Debug about screen size setting and also if
		output_line() skips any text.

20150513
Wed May 13 15:44:36 PDT 2015 - matthew green <mrg@eterna.com.au>
	contrib/README, contrib/noansi.c:
		add a small program to strip DOS ansi codes.  from
		cstone@pobox.com.
	include/screen.h, source/screen.c, source/status.c, source/window.c:
		add a size_t len parameter to my_strcpy_ci().
	include/server.h, source/server.c:
		make ssl_level_to_sa_flags() public as server.c wants to
		use it.  fix it to use comparision instead of bitwise checks,
		as the values are not bitwise values.  add an SSL_UNKNOWN
		value to server_ssl_level and use it to avoid overriding
		user-set values when deriving a server name in
		parse_server_info().  fixes a bug reported Jim Westfall.
	include/translat.h, source/input.c, source/screen.c, source/translat.c:
		decode_mb() gains a size_t destlen parameter.
	source/window.c, 
		expand split_up_line()'s internal outputs[] array, and make
		sure we don't overrun it.
	source/term.c:
		add a new TERM_IGNORE_LAST_COLOMN define, and start to begin
		to use the final column.

20150222
Sun Feb 22 04:41:48 PST 2015 - matthew green <mrg@eterna.com.au>
	include/ctcp.h, include/debug.h, include/hook.h, include/output.h,
	source/alias.c, source/edit.c, source/irc.c, source/server.c,
	source/whois.c:
		add format checking to all varargs functions that
		resolve to normal printf arguments, and fix the various
		problems found.

Sat Feb 21 17:42:52 PST 2015 - matthew green <mrg@eterna.com.au>
	include/server.h, source/edit.c, source/irc.c, source/server.c:
		add GCC format checking attribute to send_to_server()
		and fix the two places it was wrong.  now irc realname
		is properly sent again, and we fix an old error in
		redirect handling.

Sat Feb 21 16:46:31 PST 2015 - matthew green <mrg@eterna.com.au>
	source/translat.c:
		don't set irc/display/input_encoding if they're
		unable to iconv_open() with it.  avoids leaving
		the system more non-functional.

20141220
Sat Dec 20 12:31:10 PST 2014 - matthew green <mrg@eterna.com.au>
	source/names.c:
		fix SWITCH_CHANNELS binding, which was calling the
		backend twice, and switch to and then back to the
		previous channel, appearing to do nothing.

Wed Nov 26 13:42:34 PST 2014 - matthew green <mrg@eterna.com.au>
	configure, configure.in:
		for --with-openssl and no argument, don't look in
		the "yes" directory for openssl, but assume it is
		in the default path, as expected below.

20141122
Sat Nov 22 13:25:17 PST 2014 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		fix find_command() to not have potential array bounds issues.
	source/output.c, source/window.c, include/window.h:
		use balance_windows() for now on SIGWINCH, etc.
		recalculate_windows() still has a problem.

20141028
Tue Oct 28 18:31:45 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/debug.c:
		tm_year offset is 1900, not 0.
	source/window.c:
		don't allow 'extra' to become negative, or to adjust
		windows via the change percentage after the first loop.
		abort() if extra ends up negative.  fixes various
		issues seen when some types of resizing are performed.

20141018
Sat Oct 18 06:36:19 PDT 2014
	source/output.c:
		fix a -1 array index introduced recently.

Sat Oct 18 06:26:34 PDT 2014 - matthew green <mrg@eterna.com.au>
	Makefile.in, doc/ircii.spec, doc/ircii.spec.in, source/irc.c:
		make 'dist' target set the version for ircii.spec.

20140831
Sun Aug 31 23:34:55 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/term.c, include/ircterm.h:
		return void for tputs_x(), term_beep(), term_cr(),
		term_underline_on(), term_underline_off(),
		term_standout_on(), term_standout_off(),
		term_clear_screen(), term_move_cursor(),
		term_newline(), term_bold_on(), and term_bold_off().
		fixes build issues on NetBSD 5.x.

Mon Aug 25 12:19:46 PDT 2014 - matthew green <mrg@eterna.com.au>
	doc/ircII.1:
		convert to mandoc format.  from Thomas Klausner
		<tk@giga.or.at>.  fix a couple of errors while there.

Mon Aug 25 11:48:55 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/input.c, source/translat.c:
		fix compliation issues when iconv can't be found.

Mon Aug 25 11:21:20 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/server.c:
		fix argument order in connect_to_server_direct.
		from Jared McNeill.
	source/irc.c:
		various fixes to option parsing.  from Jared McNeill.

20140824
Sun Aug 24 21:40:26 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/ssl.c:
		rewrite ssl_setup_certs() to keep track of what paths/files
		it has seen before, and only update stuff when they change.
		if neither SSL_CA_PATH nor SSL_CA_FILE are set, call
		SSL_CTX_set_default_verify_paths().  this enables the default
		ssl certificates to be used, freeing the end-user from having
		to know the paths to set.
	help/set/ssl_ca_path:
		add an example for SET SSL_CA_PATH.

Sun Aug 24 20:41:30 PDT 2014 - matthew green <mrg@eterna.com.au>
	doc/ircii.spec:
		make this actually work with sources from today that come
		in a tarball with todays date.

Sun Aug 24 20:28:01 PDT 2014 - matthew green <mrg@eterna.com.au>
	Makefile.in:
		avoid double $(DESTDIR) for mandir setting.

Sun Aug 24 14:35:26 PDT 2014 - matthew green <mrg@eterna.com.au>
	doc/ircii.spec:
		updates from Jared McNeill and myself.

Wed Aug 20 22:27:39 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/server.h, source/server.c:
		finish HTTP proxy support by parsing the HTTP reply.

Thu Aug 14 01:02:28 PDT 2014 - matthew green <mrg@eterna.com.au>
	doc/ircII.1, include/debug.h, include/server.h, include/window.h,
	source/debug.c, source/edit.c, source/irc.c, source/server.c,
	source/window.c:
		add HTTP proxy support.  new "proxy" debug level, add
		proxy name and port arguments to parse_server_info() and
		window_get_connected().  new default proxy server/port
		available via "-R server:port" option.  each server can
		also take "NO_PROXY/" prefix (similar to ICB/, etc.) or
		take a "PROXY/<server>:<port>/" to enforce a particular
		proxy usage for this server.  /server and /window server
		also gain a "-proxy server port" option.
		currently, this does not wait for the valid HTTP response
		before attempting to connect, but works otherwise.

Wed Aug 13 18:55:47 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/window.c:
		bring back the old recalculate_windows() but call it
		balance_windows(), and use it for /window balance.

Wed Aug 13 18:48:58 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/irccrypt.h, source/crypt.c, source/dcc.c:
		move CRYPT_BUFFER_SIZE into irccrypt.h from both crypt.c
		and dcc.c.  adjust code to use "long long" type now we
		demand c99, and remove some XXXs.
	source/numbers.c:
		use parsing_server() like the XXX comment says.

Wed Aug 13 18:44:57 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		ensure help text goes to stderr, even if we've parsed
		a "-o log" debug option.

Tue Aug 12 17:22:05 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		alpha-order the help text options.

20140806
Wed Aug  6 18:16:33 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/debug.h, source/debug.c:
		add DB_WINDOW debug level.
	include/screen.h, source/screen.c:
		add screen_get_old_co() and screen_get_old_li() accessors.
	source/window.c:
		rewrite recalculate_windows() to attempt to keep the same
		proportionality.

Wed Aug  6 13:11:14 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/window.c:
		fix the "channel already bound" message to tell you which
		window has it bound, rather than this window.

Wed Aug  6 12:46:33 PDT 2014 - matthew green <mrg@eterna.com.au>
	script/icb:
		add /stats command support
	include/ircaux.h, source/ircaux.c, source/alias.c:
		make my_str*icmp() use const.
	include/server.h, source/icb.c, source/server.c:
		introduce private server data, with a call back to
		free it.  use this in icb to make the
		icb_got_group_waiting_for_members variable per-server.
		apply some const.

20140711
Fri Jul 11 04:29:33 PDT 2014 - matthew green <mrg@eterna.com.au>
	help/set/ssl_ca_chain_file, help/set/ssl_ca_file,
	help/set/ssl_ca_path, help/set/ssl_ca_private_key_file,
	include/config.h.dist, include/ssl.h, include/vars.h,
	source/ssl.c, source/vars.c:
		add 4 variables to control the inputs to 
		SSL_CTX_load_verify_locations() - SSL_CA_FILE and
		SSL_CA_PATH, SSL_CTX_use_certificate_chain_file() -
		SSL_CA_CHAIN_FILE, and SSL_CTX_use_PrivateKey_file() -
		SSL_CA_PRIVATE_KEY_FILE.  they have NULL defaults so
		that the normal defaults are loaded.  not tested against
		a real server etc, yet.

Fri Jul 11 03:45:49 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/server.h, source/server.c:
		add 2 new server flags CONNECTED and SSL_DONE, use them
		to distinguish between when we've finished the non-blocking
		connect and when SSL negotiation has completed to avoid
		spinning the CPU.  call login_to_server() instead of
		server_check_ssl() in the fd is readable section of
		do_server(), which now ensures SSL_connect() is not called
		after it returns success.  move some non blocking code
		around to suit this separation as well.

Fri Jul 11 02:50:36 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/ssl.h, source/ircio.c, source/newio.c, source/ssl.c:
		remove unnecessary ssl_is_pending().

Fri Jul 11 02:01:29 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/ssl.h, source/server.c, source/ssl.c:
		change ssl init status returns into a tri-state OK, FAIL,
		and PENDING.  use this in ssl_init_connection() and also
		in server_check_ssl() to not cpu-spin calling SSL_connect()
		until it works.  however, select() seems to continue to
		return readable for the fd, and we do loop anyway, but with
		other events still handled.  still a CPU issue, but no
		longer a hangs everything issue.
	source/server.c, source/dcc.c, source/irc.c, source/ircio.c,
	source/newio.c:
		convert dgets() to return -2 in the case of "retry again"
		later returns for SSL_read() and SSL_write() calls, bubble
		this upto many dgets() callers and allow them to continue.

Thu Jul 10 19:23:24 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/server.c:
		move the guts of the code to reestablish the old server if
		a new server can't connect into a new function, and call
		that if ssl init fails hard (verify fails), leaving us
		still connected to the original server.

Wed Jul  9 21:19:47 PDT 2014 - matthew green <mrg@eterna.com.au>
	doc/ircII.1:
		add missing options, including debug-only options.
	source/server.c:
		change server_check_ssl() to return a status.  use this to
		avoid calling close_server() on the previous server, so we
		can return to it.
	source/ssl.c:
		only create one SSL_CTX.

Wed Jul  9 20:20:47 PDT 2014 - matthew green <mrg@eterna.com.au>
	doc/ircII.1:	
		alpha-order the option list and descriptions.

Wed Jul  9 20:07:44 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/ssl.c:
		enable SSL verification support.  fix a bug in the error path.
	doc/ircII.1:
		document the SSLIRC*/ server prefixes.  reorder the nickname
		and servername for reality.

20140709
Wed Jul  9 06:40:13 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/server.h, source/edit.c, source/irc.c, source/server.c,
	doc/ircII.1, help/server,help/window/server:
		add new server_default_encryption() to set the default
		encryption level for a particular protocol.  so far only
		IRC is supported.  valid values are "check", "nocheck"
		and "off".  make sure server_ssl_level values are properly
		initialised before use.  make the default for irc use
		new irc_ssl_level.  update help files for ssl support,
		and some older /window server options.
	source/irc.c:
		alpha-order parse_arg() switch.

Fri Jul  4 22:06:46 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/config.h.dist, source/irc.c:
		remove PAUSE_AFTER_MOTD options; always enable this code.
		redo input_pause() to not use irc_io() and clean up irc_io()
		and its' helper functions now that one_key is never true.
	include/output.h, include/screen.h, include/server.h,
	source/output.c, source/server.c:
		constify the first argument to put_it(), send_to_server(),
		say(), yell(), help_put_it() and output_line().

Fri Jul  4 20:05:34 PDT 2014 - matthew green <mrg@eterna.com.au>
	Makefile.inc, configure, configure.in, include/defs.h.in, source/ssl.c:
		add support for --with-openssl switch.  it defaults to on
		and expects to find libcrypto and libssl.  enable support
		for building without openssl by eliding most of ssl.c.

Fri Jul  4 06:51:19 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/ssl.c:
		handle errors properly when trying to setup the connection.
		don't leak memory.
	source/server.c:
		only close the connection if we actually were trying
		to use SSL here.

20140704
Fri Jul  4 05:28:46 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/server.c:
		goto real_continue when continuing the main do_server()
		loop, to ensure the dgets separater is reset.  fix a
		comment to match the code (from rtr.)
	include/ssl.h, source/ircio.c, source/newio.c, source/ssl.c:
		introduce ssl_is_pending() wrapper around SSL_pending()
		and use it in new_select() to make sure we read from
		the SSL socket.  expand ssl_print_error_queue() to take
		a const char *msg as well.  set SSL_MODE_AUTO_RETRY.

Fri Jul  4 05:11:40 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/debug.c:
		include date/time in the debugging messages.

Thu Jul  3 09:57:38 PDT 2014 - tyler retzlaff <rtr@crt0.ca>
	source/ssl.c:
		use SSLv2_client_method when establishing a context
		for connection to a server.
		properly evaluate SSL_connect return value 0 is also
		an error.

Tue Jul  1 21:59:33 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/newio.c:
		clean up some.

Tue Jul  1 21:37:27 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/crypt.c:
		use size_t over int in a few places

Tue Mar 18 17:26:59 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/debug.h, include/ssl.h, source/debug.c, source/ircio.c,
	source/newio.c, source/server.c, source/ssl.c:
		add newio, ssl and server debug levels.  expand the
		ssl_read()/ssl_write() functions to also take an fd,
		and use it instead of keeping it in the SslInfo.  fix
		the ircio build.  call init_io() from init_io_rec().
		only call dgets_clear_ssl_info()/ssl_close_connection()
		if the ssl info actually exists.  move the call to
		ssl_init_connection() into new server_check_ssl() and
		call this from a couple of places.  actually use
		ssl_read() and ssl_write().

Mon Mar 17 17:29:15 PDT 2014 - matthew green <mrg@eterna.com.au>
	Makefile.in, include/newio.h, include/server.h, include/window.h,
	source/edit.c, source/newio.c, source/server.c, source/window.c:
		SSL support stage 1.  this works for non-SSL still, but
		has trouble connecting to SSL servers.  there are some
		new switches, etc.  /window server and /server both have
		new -ssl, -nossl, and -sslnocheck options.  server names
		can now have SSLIRC/ and SSLIRCNOCHECK/ prefixes in
		addition to the existing IRC/ and ICB/ prefixes.  expand
		dgets() and server to deal with calling the SSL functions.
		todo:
		- configure support to find openssl
		- if SSL init fails, revert to previous server
		- send_to_server() needs help
		- close_server() needs help
		- actually verify the certificate against something (we
		  have no methods to pass cert files/dirs in yet)
		- documentation updates

20140317
Mon Mar 17 13:51:05 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		make meta4 sticky again.
	configure.in, configure:
		use AC_PREREQ([2.69]).

Mon Mar 17 11:46:32 PDT 2014 - matthew green <mrg@eterna.com.au>
	configure, configure.in, include/defs.h.in, include/irc.h,
	include/irc_std.h, include/ircterm.h, source/crypt.c, source/irc.c,
	source/ircflush.c, source/status.c, source/term.c, source/wserv.c:
		retire RETSIGTYPE and the AC_TYPE_SIGNAL test that has
		actually been obsolete in ircii since 2004.

20140314
Fri Mar 14 14:17:48 PDT 2014 - matthew green <mrg@eterna.com.au>
	Makefile.in, include/crypt.h, include/irccrypt.h,
	source/cipher-test.c, source/crypt.c, source/ctcp.c, source/dcc.c,
	source/edit.c, source/parse.c, source/vars.c
		rename include/crypt.h as include/irccrypt.h to avoid
		<crypt.h> including this header, not the header that
		defines crypt(3).

Fri Mar 14 12:14:10 PDT 2014 - matthew green <mrg@eterna.com.au>
	doc/example_menu, help/!, help/input, help/menus, help/wait,
	help/alias/special, include/input.h, include/irc.h,
	include/keys.h, include/server.h, script/autoquery,
	script/bigcheese, script/kickmenu, script/log, script/time,
	script/troy, script/version, source/alias.c, source/edit.c,
	source/exec.c, source/help.c, source/input.c, source/irc.c,
	source/keys.c, source/server.c:
		remove support for $"..." expansions and /wait without
		-cmd, and convert all the remaining distribution scripts
		and menus to use /input and /wait -cmd.  remove
		documentation for both.  move the input_pause() function
		into irc.c.  this removes all irc_io() abuse.  remove
		a lot of no longer necessary code in irc_io() including
		the ability to be called recursively, and make it static
		to irc.c.  more could go if input_pause() is reworked.
		remove get_send_line(), change_send_line(), server_waiting(),
		server_waiting_inc(), server_waiting_dec(), lame_wait_nick[],
		wait_index, set_wait_process(), and break_io_processing(),
		and the waiting member of Server structure.

Fri Mar 14 01:11:59 PDT 2014 - matthew green <mrg@eterna.com.au>
	configure, configure.in, include/cast_sbox.h, include/defs.h.in,
	include/irc_std.h, source/cast.c, source/dcc.c:
		stop finding a 32 bit integer in configure and just assume
		that uint32_t exists from <stdint.h>.  remove tests for
		missing errno and sys_errlist[] declarations; these systems
		probably stopped working with C89 was enforced 10 years ago.

Fri Mar 14 01:04:03 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/debug.h, source/debug.c, source/edit.c, source/history.c,
	source/input.c, source/irc.c, source/lastlog.c, source/output.c,
	source/screen.c, source/status.c, source/window.c:
		remove the old K&R/C89 compatible Debug() macros and
		re-implement it with C99 varadic macro support.  use this
		to easily add the function/line number to the output.
		convert debug level to debug sets, and implement sets for
		scroll, load, history, cursor, ircio, lastlog, window
		create and the status bar.

Thu Mar 13 21:14:09 PDT 2014 - matthew green <mrg@eterna.com.au>
	doc/Copyright, help/ircii/copyright, help/note/antiwall,
	help/note/deny, help/note/flag, help/note/key, help/note/news,
	help/note/note, help/note/save, help/note/sent, help/note/service,
	help/note/stats, help/note/wall, help/note/wallops, source/help.c:
		remove support for /help files knowing whether you're an
		IRC operator or not, and adjust the help files to show the
		same information to everyone, but note that some
		functionality is likely restricted.  updated copyrights,
		and add the copyrights for sl.[ch].

Wed Mar 12 16:18:45 PDT 2014 - matthew green <mrg@eterna.com.au>
	configure, configure.in, Makefile.in, include/irc.h:
		use datarootdir over datadir.  move the AIX specific code
		into irc.h out of configure, it doesn't need to be a
		configure-time test.

Wed Mar 12 15:40:33 PDT 2014 - matthew green <mrg@eterna.com.au>
	configure, configure.in, include/defs.h.in, include/irc.h,
	include/irc_std.h, include/scandir.h, source/aes.c, source/alias.c,
	source/crypt.c, source/ctcp.c, source/dcc.c, source/debug.c,
	source/edit.c, source/exec.c, source/funny.c, source/getaddrinfo.c,
	source/getnameinfo.c, source/help.c, source/hook.c, source/irc.c,
	source/ircaux.c, source/ircflush.c, source/ircio.c, source/log.c,
	source/mail.c, source/mksiginc.c, source/newio.c, source/notice.c,
	source/numbers.c, source/output.c, source/scandir.c, source/server.c,
	source/snprintf.c, source/term.c, source/translat.c, source/window.c,
	source/wserv.c:
		major clean up of old compatibility code:
		- don't bother checking for unistd.h, string.h, sys/wait.h
		  or termios.h as we demand they exist for a while now.
		- assume uname(3).
		- convert all remaining index/rindex/bcopy/bzero calls into
		  my_index/memcopy/memset calls, and remove any compat code.
		- make the scandir compat code depend upon 'struct dirent'
		  and stop forcing it to exist for some platforms, and call 
		  it 'irc_scandir' to avoid potential conflicts.
		- remove repeated #includes of standard headers.
		- assume a standard <sys/stat.h>.
		- remove "LYNX_STUFF" code for actions.
		- use  the right types for scandir functions.
		- remove /*VARARGS*/ and unused functions.
		- always include SERVERS_FILE support.
		- remove last vestigates of _IBMR2 and M_UNIX support, and
		  BROKEN_SCANF support.
		- remove dead code in wserv.
		-- remove dead and broken CORECATCH and ALLOC_DEBUG code.

20140311
Wed Mar 12 01:48:44 PDT 2014 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in, source/irc.c:
		convert to autoconf 2.69.  use AC_CHECK_TYPES(), and fix the
		output path for AC_CONFIG_HEADER().  remove now obsolete
		acconfig.h.

Wed Mar 12 01:41:39 PDT 2014 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in:
		move the all but 'ssize_t' out of acconfig.h, there
		doesn't seem to be an easy way to deal with this for
		autoconf-2.6x and 2.13 from the same configure.in.

Wed Mar 12 01:28:41 PDT 2014 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in, include/irc.h,
	source/newio.c:
		remove unset MAIL_DIR.
		assume 'struct linger' exists.
		move most configure define descriptions into configure.in
		from acconfig.h.
		make a comment about using <stdint.h> when forcing c99.

Wed Mar 12 01:14:26 PDT 2014 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in,
	include/irc_std.h:
		remove several unnecessary #undef lines from acconfig.h.
		move description for HAVE_GETADDRINFO, HAVE_GETNAMEINFO,
		and HAVE_RFC2553_NETDB into configure.in
		move the _AIX / COMPAT_43 definition into irc_std.h.

Wed Mar 12 01:03:43 PDT 2014 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in,
	include/icb.h, include/irc.h, include/irc_std.h, source/irc.c,
	source/ircsig.c, source/mail.c, source/term.c, source/wserv.c:
		remove AMS_MAIL (andrew) support.
		remove unused BROKEN_GETPGRP.
		assume we always have sigaction() and setsid().

Wed Mar 12 00:30:10 PDT 2014 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in, include/irc.h:
		begin to prepare for modern autoconf.  move many define
		descriptions into configure.in out of acconfig.h.  use
		AC_CHECK_FUNCS().  move the non blocking check after the
		socks check, as socks turns it off.  move the defines for
		socks into a socks_compat.h, rather than having things be
		mostly hard coded in configure.in and acconfig.h.

Wed Mar 12 00:25:34 PDT 2014 - matthew green <mrg@eterna.com.au>
	configure, configure.in:
		add -Wformat to warning options.

Wed Mar 12 00:16:55 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		break out the extremely deeply nested parts of load() into
		a new load_a_file() function.

Wed Mar 12 00:14:01 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/hook.h, source/edit.c, source/hook.c, source/screen.c:
		convert set_in_on_who() to return the old in_on_who value,
		and use this to reduce the number of lines in some other code.

Tue Mar 11 23:14:55 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/alias.c, source/crypt.c, source/edit.c, source/exec.c,
	source/funny.c, source/getnameinfo.c, source/help.c,
	source/history.c, source/hook.c, source/if.c, source/ignore.c,
	source/input.c, source/irc.c, source/keys.c, source/lastlog.c,
	source/notify.c, source/numbers.c, source/output.c, source/parse.c,
	source/server.c, source/status.c, source/vars.c, source/whois.c,
	source/window.c:
		remove /*ARGSUSED*/ markers.
	source/edit.c:
		turn metaX_hit into an array, and adjust the code to use
		this to its advantage.

Tue Mar 11 22:59:09 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/irc.h, include/server.h, source/alias.c, source/dcc.c,
	source/edit.c, source/exec.c, source/help.c, source/hook.c,
	source/icb.c, source/irc.c, source/names.c, source/notify.c,
	source/numbers.c, source/parse.c, source/screen.c, source/server.c,
	source/status.c, source/whois.c, source/window.c:
		hide from_server.  move 'environ' extern into exec.c.
		always call set_from_server() with a timer's server.
		fix a missing re-set of from_server in some commented out
		code in bind_channel().

Tue Mar 11 04:18:57 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/irc.h, source/alias.c, source/ctcp.c, source/dcc.c,
	source/edit.c, source/exec.c, source/help.c, source/history.c,
	source/hook.c, source/icb.c, source/if.c, source/ignore.c,
	source/input.c, source/irc.c, source/ircaux.c, source/keys.c,
	source/menu.c, source/names.c, source/notice.c, source/notify.c,
	source/numbers.c, source/output.c, source/parse.c, source/queue.c,
	source/screen.c, source/server.c, source/status.c, source/term.c,
	source/vars.c, source/whois.c, source/window.c:
		fix zero[] and one[] to be persistent.  convert
		empty_string[] into empty_string().

Tue Mar 11 04:15:14 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/irc.h, source/alias.c, source/input.c, source/irc.c:
		remove use_input global that was always 1.

Tue Mar 11 02:38:02 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/irc.h, source/edit.c, source/irc.c, source/notice.c:
		hide ircrc_file.

Tue Mar 11 02:07:54 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/irc.h, source/alias.c, source/dcc.c, source/edit.c,
	source/irc.c, source/ircaux.c, source/names.c, source/parse.c,
	source/window.c:
		make zero[] and one[] into zero() and one().

Tue Mar 11 01:59:08 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/edit.h, include/irc.h, include/server.h, source/alias.c,
	source/dcc.c, source/edit.c, source/exec.c, source/icb.c,
	source/irc.c, source/names.c, source/notice.c, source/notify.c,
	source/numbers.c, source/parse.c, source/server.c, source/status.c,
	source/whois.c, source/window.c:
		hide invite_channel, ircquick_file and primary_server.
		remove now never non-zero break_io_processing, and export
		new break_io_processing() for now hidden irc_io_loop.

Tue Mar 11 00:04:38 PDT 2014 - matthew green <mrg@eterna.com.au>
	source/cipher-test.c, source/dcc.c, source/debug.c, source/edit.c,
	source/help.c, source/if.c, source/ircflush.c, source/ircsig.c,
	source/keys.c, source/log.c, source/mail.c, source/menu.c,
	source/output.c, source/reg.c, source/term.c, source/translat.c,
	source/vars.c, source/wserv.c:
		apply static to various variables that are already only
		accessed locally.  update copyrights.

Mon Mar 10 23:39:44 PDT 2014 - matthew green <mrg@eterna.com.au>
	doc/ircII.1, include/irc.h, include/server.h, source/alias.c,
	source/dcc.c, source/edit.c, source/help.c, source/input.c,
	source/irc.c, source/notice.c, source/numbers.c, source/parse.c,
	source/screen.c, source/server.c, source/status.c, source/term.c,
	source/window.c:
		rename "dumb" mode as "non full screen" mode.  hide the
		old "dumb" variable as term_basic().  make oper_command
		a per-server function, allowing multiple concurrent
		/oper and server connections to occur.  hide args_str()
		and nickname.  server_[gs]et_who_info() don't need an
		"int server" argument.
		
Mon Mar 10 23:38:34 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/hook.h, include/irc.h, source/edit.c, source/exec.c,
	source/hook.c, source/irc.c:
		hide send_text_flag.

Mon Mar 10 23:10:41 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/server.h, source/alias.c, source/ctcp.c, source/exec.c,
	source/funny.c, source/icb.c, source/names.c, source/notice.c,
	source/numbers.c, source/parse.c, source/server.c, source/whois.c:
		hide parsing_server_index via parsing_server().

Mon Mar 10 12:25:48 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/edit.h, include/irc.h, source/alias.c, source/ctcp.c,
	source/dcc.c, source/edit.c, source/icb.c, source/input.c,
	source/irc.c, source/ircaux.c, source/mail.c, source/numbers.c,
	source/parse.c, source/server.c, source/vars.c, source/whois.c:
		move alias_buffer() and cut_buffer[] into edit.c and make
		cut_buffer static in there.  hide hostname[], username[],
		realname[], away_set, irc_lib and source_host, send_umode.
		move set_realname() into irc.c.  delete obsolete do_fork.
		mark some previously missed variables static.

Sun Mar  9 17:16:26 PDT 2014 - matthew green <mrg@eterna.com.au>
	include/irc.h, source/irc.c, source/ircaux.c, source/mail.c:
		hide my_path() and add some missing static.

Sun Mar  9 01:35:41 PST 2014 - matthew green <mrg@eterna.com.au>
	include/edit.h, include/irc.h, include/server.h, source/edit.c,
	source/irc.c, source/numbers.c, source/parse.c, source/server.c,
	source/term.c:
		convert who_mask, who_name, who_host, who_server, who_file,
		who_nick, who_real and cannot_open into per-server values
		under a WhoInfo structure hidden inside edit.c.  move a big
		chunk of whoreply() from numbers.c into edit.c.  this enables
		/who -<options> to work concurrently on multiple servers as
		well.  hide use_flow_control, tflag, qflag and bflag.  fix a
		bug in /disconnect where it would cause irc to exit.

Thu Mar  6 17:54:55 PST 2014 - matthew green <mrg@eterna.com.au>
	include/dcc.h, include/irc.h, include/notify.h, include/server.h,
	source/alias.c, source/ctcp.c, source/dcc.c, source/edit.c,
	source/irc.c, source/notify.c, source/screen.c, source/server.c,
	source/status.c, source/vars.c:
		hide irc_version, last_notify_nick, program_name, idle_time,
		client_default_icb and dcc_source_host.  move set_dcchost()
		into dcc.c where it belongs.  convert 'waiting' into a
		per-server thing with real accessors.

20140306
Thu Mar  6 15:38:13 PST 2014 - matthew green <mrg@eterna.com.au>
	source/ircaux.c, source/server.c:
		let connect_by_number() keep errno a valid number if it
		fails to call socket() or bind().  remove bind_local_addr()'s
		unused 2nd argument.  support IPv6 addresses and port numbers
		in here as well.  in connect_to_server_direct(), if
		connect_by_number() returns -1, keep errno, and save it around
		a ouple of other calls that might reset it.

Thu Mar  6 13:46:07 PST 2014 - matthew green <mrg@eterna.com.au>
	include/screen.h, source/alias.c, source/ctcp.c, source/dcc.c,
	source/edit.c, source/hook.c, source/if.c, source/irc.c,
	source/ircaux.c, source/names.c, source/newio.c, source/queue.c,
	source/screen.c, source/server.c, source/term.c, source/whois.c,
	source/window.c:
		hide in_redirect and in_ctcp_flag.  remove 'extern'
		declarations where they're not needed.


Mon Mar  3 10:48:15 PST 2014 - matthew green <mrg@eterna.com.au>
	include/alias.h, include/irc.h, include/output.h, include/server.h,
	include/window.h, source/alias.c, source/edit.c, source/exec.c,
	source/help.c, source/hook.c source/icb.c, source/if.c, source/irc.c,
	source/output.c, source/parse.c, source/server.c, source/window.c:
		hide joined_nick, public_nick, using_server_process
		and window_display.

Sun Mar  2 02:47:30 PST 2014 - matthew green <mrg@eterna.com.au>
	include/screen.h, source/edit.c, source/help.c, source/input.c,
	source/irc.c, source/output.c, source/screen.c, source/server.c,
	source/status.c, source/term.c, source/translat.c, source/window.c:
		hide to_window, current_screen, main_screen and
		last_input_screen.


Sat Mar  1 21:42:55 PST 2014 - matthew green <mrg@eterna.com.au>
	include/ignore.h, source/icb.c, source/ignore.c, source/notice.c,
	source/parse.c, source/whois.c:
		hide ignore_usernames and highlight_char.  remove code that
		assumed that highlight_char was followed by a nul byte.

Sat Mar  1 21:27:27 PST 2014 - matthew green <mrg@eterna.com.au>
	include/translat.h, include/window.h, source/input.c, source/names.c,
	source/output.c, source/screen.c, source/translat.c, source/window.c:
		hide irc_encoding, display_encoding, input_encoding,
		who_level and who_from.  obsolete in_window_command by always
		calling update_all_windows() in windowcmd().

20140228
Fri Feb 28 19:57:13 PST 2014 - matthew green <mrg@eterna.com.au>
	include/hook.h, include/parse.h, source/alias.c, source/ctcp.c,
	source/edit.c, source/exec.c, source/hook.c, source/icb.c,
	source/notice.c, source/parse.c, source/screen.c:
		hide in_on_who, FromUserHost and doing_privmsg.

Fri Feb 28 17:23:17 PST 2014 - matthew green <mrg@eterna.com.au>
	include/edit.h, include/output.h, include/translat.h, include/vars.h,
	include/whois.h, source/alias.c, source/ctcp.c, source/dcc.c,
	source/edit.c, source/hook.c, source/icb.c, source/irc.c,
	source/keys.c, source/log.c, source/notice.c, source/output.c,
	source/parse.c, source/screen.c, source/status.c, source/translat.c,
	source/vars.c, source/whois.c, source/window.c:
		convert loading_global and var_settings into a functions.
		move the code to load "global" into its own function called
		from two source files.  hide irclog_fp, load_depth,
		my_echo_set_message_from and beep_on_level.  change
		add_to_log() to convert fp == NULL internal to set fp equal
		irclog_fp, removing the need for it to be public.
		remove unnecessary externs for dig_table_*[] and move
		DIG_TABLE_SIZE into translat.c itself.

Fri Feb 28 15:32:35 PST 2014 - matthew green <mrg@eterna.com.au>
	include/irc.h, include/numbers.h, source/alias.c, source/edit.c,
	source/funny.c, source/irc.c, source/numbers.c, source/whois.c:
		hide background, irc_path, whois_nick and current_numeric.
		remove unused whois_nick and move wait_nick into edit.c.

Fri Feb 28 02:40:17 PST 2014 - matthew green <mrg@eterna.com.au>
	include/ctcp.h, include/ircterm.h, include/output.h,
	include/window.h, source/ctcp.c, source/irc.c, source/notice.c,
	source/output.c, source/parse.c, source/screen.c, source/term.c,
	source/whois.c, source/window.c:
		hide ctcp_was_crypted, term_reset_flag, underline,
		do_refresh_screen and in_help.  remove redirect_nick[].
		convert the term_*() function pointers into real
		functions with the pointer variables local to term.c.

Fri Feb 28 02:34:02 PST 2014 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		fix the handling of promptlist insertion in add_wait_prompt().

Fri Feb 28 02:14:10 PST 2014 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		fix the handling of edit_char() and the promptlist.

Thu Feb 27 17:20:23 PST 2014 - matthew green <mrg@eterna.com.au>
	include/ctcp.h, include/debug.h, include/exec.h, include/icb.h,
	include/irc.h, include/irc_std.h, include/screen.h, include/server.h,
	source/alias.c, source/ctcp.c, source/dcc.c, source/debug.c,
	source/edit.c, source/exec.c, source/icb.c, source/irc.c,
	source/lastlog.c, source/mkmksiginc.pl, source/mksiginc.c,
	source/names.c, source/notice.c, source/numbers.c, source/parse.c,
	source/screen.c, source/server.c, source/status.c, source/window.c:
		hide ctcp_type[], debuglevel, signals[], max_signo, icb_port,
		irc_port, screen_list, connected_to_server, and never_connected.
		introduce an ARRAY_SIZE() macro and use it in 4 places.  some
		minor constification.

Wed Feb 26 13:42:02 PST 2014 - matthew green <mrg@eterna.com.au>
	include/edit.h, include/newio.h, include/server.h, include/status.h,
	source/alias.c, source/dcc.c, source/edit.c, source/icb.c,
	source/irc.c, source/names.c, source/newio.c, source/numbers.c,
	source/parse.c, source/server.c, source/status.c, source/window.c:
		convert number_of_servers into a function call.  hide
		sent_nick, sent_body and recv_nick.  move all the processing
		around do_status_alarmed into status.c, and rename
		real_status_alarmed() as check_status_alarmed().  convert
		dgets_errno into a function call.

Tue Feb 25 16:59:37 PST 2014 - matthew green <mrg@eterna.com.au>
	Makefile.in, configure, configure.in:
		add three new configure flags:
		  --with-debugging[=flags]       Build with debugging support.
		  --with-warnings[=flags]        Build with GCC warnings.
		  --with-warning-errors[=flags]  Turn warnings into errors.
		that really are just extra CFLAGS, with sane defaults.

Tue Feb 25 15:24:14 PST 2014 - matthew green <mrg@eterna.com.au>
	include/ircterm.h, include/keys.h, include/translat.h, include/window.h,
	source/edit.c, source/keys.c, source/term.c:
		convert term macros into real functions, and hide the termcap
		values all inside term.c.  move the accesses of key_names[],
		keys[] and meta[1-8]_keys[] into keys.c directly with a couple
		of accessors.  remove no longer present variable externs.
		put the keys*[] arrays at the start of keys.c where i've always
		looked for them, and they're now needed to avoid forward decls.

Tue Feb 25 09:59:54 PST 2014 - matthew green <mrg@eterna.com.au>
	include/edit.h, include/screen.h, source/alias.c, source/edit.c,
	source/funny.c, source/help.c, source/input.c, source/irc.c,
	source/menu.c, source/output.c, source/screen.c, source/status.c,
	source/term.c, source/translat.c, source/window.c:
		hide Screen entirely inside screen.c.  move a bunch of
		the data inside edit.c as EditInfo, add accessor for
		the remaining members: promptlist, next, window_stack,
		curosr_window, and size info.  remove unused prev member.
		replace "screen_get_redirect_token(current_screen)" with
		"get_redirect_token()".  simplify promptlist handling.

Tue Feb 25 02:49:36 PST 2014 - matthew green <mrg@eterna.com.au>
	Makefile.in, include/config.h.dist, include/vars.h, source/screen.c,
	source/vars.c:
		make WSERV_PATH a real variable you can /set.
	source/wserv.c:
		fix bugs in SIGWINCH handler that no longer exits upon
		select(2) returning EINTR.

Tue Feb 25 01:46:07 PST 2014 - matthew green <mrg@eterna.com.au>
	include/screen.h, include/window.h, source/output.c, source/screen.c,
	source/status.c, source/window.c:
		hide more of Screen:
		- hide current_window, last_window_refnum, cursor_window,
		  visible_windows, fdin, fpout
		- remove fpin, as it is set but unused otherwise
		- use number_of_windows() in several places
		fix problems with Debug() code since Window was hidden
	source/screen.c:
		fix a fd leak if accept() fails in /window create.  handle
		the case of fdopen() fails in /window create (fixes crash.)
		set program_name, for when screen/wserv want to use it.
		for now, remove the not ready code in wserv.c for screen
		that is causing it to crash.
	source/irc.c:
		add usage info for -DDEBUG compiles as well

Mon Feb 24 23:00:39 PST 2014 - matthew green <mrg@eterna.com.au>
	include/screen.h, include/window.h, source/alias.c, source/edit.c,
	source/help.c, source/input.c, source/irc.c, source/output.c,
	source/screen.c, source/window.c:
		begin to hide Screen:
		- fpin/fdout - already hidden
		- renames wservio to wserv_fd and hides it
		- redirect_* - already hidden
		- hides screennum, current_window, alive, visible_windows,
		  window_list, window_list_end and inputdata
		- make curr_scr_win a macro in front of
		  screen_get_current_window() and introduce
		  set_curr_scr_win() macro.
		- add window_get_prev()

20140221
Fri Feb 21 05:54:40 PST 2014 - matthew green <mrg@eterna.com.au>
	source/server.c:
		fix a bug in server_get_whois_stuff() that was
		causing crashes.

Fri Feb 21 03:53:52 PST 2014 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		check USER before the password file.  it's 2014.

20140220
Fri Feb 21 03:20:42 PST 2014 - matthew green <mrg@eterna.com.au>
	include/window.h, source/help.c, source/irc.c, source/names.c,
	source/output.c, source/screen.c, source/status.c, source/window.c:
		move Window into window.c itself.  add missing accessors
		for hold_mode, nicks, hold_info and a passthrough for
		nicks_has_who_from().

Fri Feb 21 03:05:50 PST 2014 - matthew green <mrg@eterna.com.au>
	include/window.h, source/alias.c, source/help.c, source/hold.c,
	source/menu.c, source/output.c, source/window.c:
		add accessors for Window's top, bottom, cursor, line_cnt,
		scroll, display-size, visible and update members.

Fri Feb 21 02:17:39 PST 2014 - matthew green <mrg@eterna.com.au>
	include/window.h, source/hold.c, source/output.c, source/status.c,
	source/window.c:
		add accessors for Window's status_line, double_status,
		hold_mode, hold_on_next_rite, scrolled_lines and
		new_scrolled_lines.

Thu Feb 20 17:02:17 PST 2014 - matthew green <mrg@eterna.com.au>
	include/irc.h, include/output.h, include/screen.h, include/window.h,
	source/output.c, source/screen.c, source/window.c:
		move several functions out of screen.c into window.c or
		output.c, based upon who structures they operate on.
		output.c gains display_highlight(), display_bold(),
		display_colours(), and rite().
		window.c gains Display, ShrinkInfo, scroll_window().
		add_to_window(), scrollback_forwards(), scrollback_backwards(),
		scrollback_end(), scrollback_start(), redraw_resized(),
		recalculate_windows(), clear_window(), clear_all_windows(),
		recalculate_window_positions(), redraw_all_windows(),
		resize_display(), free_display(), erase_display(),
		split_up_line_alloc(), and window_add_display_line(), plus
		some other static functions only used by these.

Thu Feb 20 15:43:12 PST 2014 - matthew green <mrg@eterna.com.au>
	source/lastlog.c:
		fix a segv when scrollback back from some contexts.
	include/hold.h, include/window.h, source/edit.c, source/hold.c,
	source/menu.c, source/screen.c, source/status.c, source/window.c:
		move several parts of Window* into HoldInfo* only visible
		in hold.c.  several new window functions to wrap the new
		or changed hold functions are introduced.

Thu Feb 20 02:17:09 PST 2014 - matthew green <mrg@eterna.com.au>
	include/names.h, include/window.h, source/menu.c, source/names.c,
	source/screen.c, source/status.c, source/window.c:
		move all window nick list handling into names.c.
		add and use accessors for miscflags, current_channel,
		window_level and menu members of Window.  create a
		window_menu_lines() front end to menu_lines().
	source/crypt.c, source/ignore.c, source/names.c, source/notify.c:
		remove verbose uses of negative flags for list operations.
		just use zero.

Thu Feb 20 01:30:12 PST 2014 - matthew green <mrg@eterna.com.au>
	include/lastlog.h, include/window.h, source/lastlog.c,
	source/screen.c, source/window.c:
		encapsulate the lastlog info in Window into a new
		LastlogInfo, and hide accesses to it inside lastlog.c.
		add new accessors as needed.

Thu Feb 20 00:59:27 PST 2014 - matthew green <mrg@eterna.com.au>
	include/window.h, source/alias.c, source/lastlog.c, source/screen.c,
	source/server.c, source/status.c, source/window.c:
		hide Window's name, prev_server, bound_channel, query_nick,
		notify_level, and log*.

Tue Feb 18 06:51:07 PST 2014 - matthew green <mrg@eterna.com.au>
	include/screen.h, include/window.h, source/alias.c, source/names.c,
	source/screen.c, source/server.c, source/status.c, source/window.c:
		add window_get_refnum(), window_get_sticky(),
		window_set_sticky(), window_get_next() and window_get_screen()
		accessors, hiding several Window * members.
		move new_window() and create_refnum() into window.c.

Mon Feb 17 22:34:42 PST 2014 - matthew green <mrg@eterna.com.au>
	include/window.h, source/alias.c, source/edit.c, source/exec.c,
	source/names.c, source/screen.c, source/server.c, source/status.c,
	source/window.c:
		begin to hide Window references.  add 3 new functions:
		window_get_server(), window_get_server_group(), and
		window_server_delete() that return this windows server
		or server_group, and deal with reallocating server
		numbers after one is deleted.
		several clean ups: remove unnecessary braces, fit in
		80 cols for many places again.

Mon Feb 17 18:13:05 PST 2014 - matthew green <mrg@eterna.com.au>
	include/server.h, source/alias.c, source/edit.c, source/icb.c,
	source/notice.c, source/parse.c, source/server.c, source/whois.c,
	source/window.c:
		remove ircd 2.5 support.

Sat Feb 15 06:04:17 PST 2014 - matthew green <mrg@eterna.com.au>
	Makefile.in, include/alias.h, include/edit.h, include/hook.h,
	include/irc.h, include/irc_std.h, include/output.h,
	include/server.h, include/stack.h, include/whois.h,
	source/edit.c, source/hook.c, source/stack.c:
		remove stack.c, and its invasive unfinished hooks in to
		the rest of the code.
		remove unused struct ArgPosTag.
		move Hook, HookFunc and NumericList definitions into hook.c.
		stop exporting numeric_list and hook_functions.
		move load_depth externs into edit.h.
		move WhoisQueue/WhoisStuff typedefs, and struct whois_stuff_stru
		into whois.h.
		move struct hook_stru, hook_func_stru and numeric_list_stru
		into hook.c.
		remove some old select(), getenv() and errno compat that
		was only good for truly ancient platforms we don't support.

Sat Feb 15 04:52:47 PST 2014 - matthew green <mrg@eterna.com.au>
	include/window.h, source/alias.c, source/names.c, source/screen.c,
	source/server.c, source/status.c, source/window.c:
		convert all traverse_all_windows() users to
		window_traverse() (ie, the recursively OK version).
		rename Win_Trav::flag to Win_Traf::init to more properly
		reflect what it means.  delete traverse_all_windows().

Fri Feb 14 06:06:40 PST 2014 - matthew green <mrg@eterna.com.au>
	include/alias.h, include/crypt.h, include/ctcp.h, include/edit.h,
	include/hook.h, include/irc.h, include/keys.h, include/server.h,
	include/window.h, source/alias.c, source/ctcp.c, source/edit.c,
	source/irc.c, source/server.c, source/whois.c:
		make Alias structure private to alias.c.  make CtcpFlood
		structure private to ctcp.c.  move TimerTimeout() into
		edit.c as timer_timeout() and make TimerList structure
		private to edit.c.  make WhoisQueue structure private
		to whois.c.  make SGroup structure private to server.c.
		remove "global" WhoisQueue head/tail, and only allow
		whois queue actions on a valid server.  fix the one
		caller of server_get_qhead() that wasn't prepared to
		accept NULL return.

20140205
Wed Feb  5 05:57:20 PST 2014 - matthew green <mrg@eterna.com.au>
	source/window.c:
		fix window_kill_swap(), it already knows that the window
		will exist.  don't delete_window() the current window if
		passed NULL, just ignore it.

Tue Feb  4 23:15:00 PST 2014 - matthew green <mrg@eterna.com.au>
	include/irc.h, include/notice.h, include/parse.h:
		split out the functions in notice.c and parse.c to their
		respective headers, creating notice.h in the process.

Tue Feb  4 22:44:18 PST 2014 - matthew green <mrg@eterna.com.au>
	include/ctcp.h, include/server.h, source/ctcp.c, source/server.c:
		move the per-server ctcp flood info into ctcp.c itself
		and access it via struct ctcp_flood_stru / CtcpFlood.
		move Server type and struct into server.c itself now
		that it is only accessed from server.c.

Tue Feb  4 19:33:55 PST 2014 - matthew green <mrg@eterna.com.au>
	include/parse.h, include/server.h, source/alias.c, source/ctcp.c,
	source/dcc.c, source/edit.c, source/funny.c, source/help.c,
	source/icb.c, source/irc.c, source/names.c, source/notice.c,
	source/notify.c, source/numbers.c, source/parse.c, source/server.c,
	source/status.c, source/whois.c, source/window.c:
		move almost all accesses of server_list[] into server.c.
		move parse_server() into server.c.  rename all
		[gs]_server_foo() functions as server_[gs]et_foo() and
		introduced many more.  replace get_server_localaddr()
		and get_server_localaddrlen() with new
		server_get_local_ip_info().

Tue Feb  4 04:05:16 PST 2014 - matthew green <mrg@eterna.com.au>
	Makefile.in, include/irc.h, include/struct.h:
		retire struct.h.  move the 3 remaining typedefs into irc.h
		itself.

Tue Feb  4 03:55:06 PST 2014 - matthew green <mrg@eterna.com.au>
	include/edit.h, include/hold.h, include/input.h, include/lastlog.h,
	include/menu.h, include/screen.h, include/status.h, include/struct.h,
	include/window.h:
		move Hold, Lastlog, WindowMenu, WindowStack, Prompt, and
		ScreenInputData types into their respective headers.

Tue Feb  4 03:29:17 PST 2014 - matthew green <mrg@eterna.com.au>
	include/screen.h, include/struct.h, include/window.h:
		move struct screen_stru and struct window_stru into
		screen.h and window.h respectively.

Tue Feb  4 03:11:23 PST 2014 - matthew green <mrg@eterna.com.au>
	include/names.h, include/struct.h, source/names.c, source/window.c:
		convert ChannelList.connected and ChannelList.status types
		into new enums ChanListConnected and ChanListStatus.  move
		realloc_channels() and swap_channels_win_ptr() from window.c
		into names.c (the latter as channel_swap_win_ptr().)
		move struct channel_stru into names.c itself now it is only
		access from names.c directly.

Tue Feb  4 02:48:52 PST 2014 - matthew green <mrg@eterna.com.au>
	include/names.h, source/edit.c, source/names.c, source/window.c:
		rename channel_is_current() to channel_is_current_window().
		move a big chunk of is_current_channel() into names.c
		as channel_is_on_window().  move two chunks of
		window_set_server() into names.c as
		channels_move_server_simple() and
		channels_move_server_complex().  move win_list_channels()
		into names.c as window_list_channels().

Tue Feb  4 01:42:19 PST 2014 - matthew green <mrg@eterna.com.au>
	include/names.h, source/edit.c, source/names.c, source/screen.c:
		move ChannelList handling from do_channel() and
		add_to_screen() into names.c, using 2 new functions
		channel_window() and channel_is_current().

Tue Feb  4 01:09:19 PST 2014 - matthew green <mrg@eterna.com.au>
	include/names.h, source/funny.c, source/names.c, source/numbers.c:
		move lookup/set for ChannelList status into names.c, with
		new channel_mode_lookup().

Tue Feb  4 00:12:41 PST 2014 - matthew green <mrg@eterna.com.au>
	include/screen.h, include/struct.h, source/window.c:
		move ShrinkInfo into screen.h.  move WindowStack
		into window.c.

Mon Feb  3 23:54:53 PST 2014 - matthew green <mrg@eterna.com.au>
	include/names.h, include/struct.h, source/alias.c, source/menu.c,
	source/names.c, source/screen.c, source/whois.c, source/window.c:
		move NickList handling all into names.c.  add new
		display_nicks_info(), nicks_add_to_window(), and
		nicks_remove_from_window(), and move free_nicks()
		and function_chanusers() into names.c.
		rename some struct names to standardise them.
	source/window.c:
		remove the code in set_query_nick() that tries to
		change the current window nick list based up on /query.
		it was redundant and would remove users after a
		/query nick, /query <nothing> sequence.

Mon Feb  3 22:42:02 PST 2014 - matthew green <mrg@eterna.com.au>
	include/hold.h, include/list.h, include/struct.h, source/hold.c,
	source/screen.c, source/window.c:
		move Hold definition into hold.c, with free_hold().
		move List definition into list.h.  document it a little.

Mon Feb  3 22:24:42 PST 2014 - matthew green <mrg@eterna.com.au>
	source/cast.c:
		keep encryption/decryption state per-key and clear
		it when we don't need it.  clean up a little.

Mon Feb  3 21:29:49 PST 2014 - matthew green <mrg@eterna.com.au>
	include/struct.h, source/ctcp.c:
		move struct _ctcp_entry into ctcp.c itself as
		struct ctcp_stru, as it is already only used here.

Mon Feb  3 20:59:22 PST 2014 - matthew green <mrg@eterna.com.au>
	include/edit.h, include/struct.h, source/edit.c, source/input.c,
	source/screen.c:
		move the prompt list handling all into edit.c, including
		the renamed struct prompt_list definition, leaving just
		pointers around for the per-screen entry.  consolidate
		the processing of an input prompt into the new
		prompt_check_input().  move add_wait_prompt() to edit.c,
		and export new prompt_current_prompt() and
		prompt_active_count() functions.
		clean up input_do_check_prompt() a little.

Mon Feb  3 06:35:45 PST 2014 - matthew green <mrg@eterna.com.au>
	include/dcc.h, include/struct.h, source/alias.c, source/dcc.c:
		move DCC_list internal to dcc.c, including ClientList.
		move the guts of both function_dcclist() and
		function_chatpeers() into dcc.c as new functions
		dcc_list_func() and dcc_chatpeers_func().
		make dcc_searchlist() and dcc erase() static.
		make many function_*() functions static.

Sat Feb  1 20:19:00 PST 2014 - matthew green <mrg@eterna.com.au>
	include/menu.h, include/struct.h, include/window.h, source/menu.c,
	source/screen.c, source/window.c:	
		move struct MenuOptionTag, MenuOption, struct MenuTag,
		Menu, and struct WindowMenuTag into menu.c itself, and
		only export MenuWindow * type externally.  convert uses
		to interfaces exported by menu.c.
		update DISPLAY_AFTER_SCROLL code to be less ugly.

20140201
Sat Feb  1 18:51:26 PST 2014 - matthew green <mrg@eterna.com.au>
	source/input.c:
		compare input position with cursor_x not cursor_y.

Fri Jan 31 04:30:13 PST 2014 - matthew green <mrg@eterna.com.au>
	include/ircaux.h, source/aes.c, source/alias.c, source/cast.c,
	source/cipher-test.c, source/crypt.c, source/ctcp.c, source/dcc.c,
	source/edit.c, source/exec.c, source/flood.c, source/funny.c,
	source/history.c, source/hold.c, source/hook.c, source/icb.c,
	source/ignore.c, source/input.c, source/irc.c, source/ircaux.c,
	source/ircio.c, source/lastlog.c, source/menu.c, source/names.c,
	source/newio.c, source/notify.c, source/parse.c, source/queue.c,
	source/scandir.c, source/screen.c, source/server.c, source/stack.c,
	source/whois.c, source/window.c:
		convert new_malloc(), new_realloc() and new_free() to return
		and take void * instead of u_char *.  update all the callers
		to not cast the return value, and also use sizeof(*var) over
		sizeof(type).

Thu Jan 30 22:42:27 PST 2014 - matthew green <mrg@eterna.com.au>
	include/input.h, include/screen.h, include/struct.h, source/input.c,
	source/screen.c:
		move ScreenInputBufferData and ScreenInputData inside
		input.c directly, and only access them in input.c.
		change Screen to take a pointer to an opaque type (it's
		already all setup and accessed in input.c.)

Thu Jan 30 21:02:05 PST 2014 - matthew green <mrg@eterna.com.au>
	source/input.c, source/screen.c, source/window.c:
		if iconv(3) returns an error, always be sure to end
		processing, regardless of errno itself.  fixes hangs
		when a conversion fails in some cases.  when unsetting
		any of the utf-8 variables, set them to latin1.  fixes
		segv with eg, /set -display_encoding.

20140130
Thu Jan 30 03:23:16 PST 2014 - matthew green <mrg@eterna.com.au>
	source/input.c:
		rename a variable to better reflect its use.

Thu Jan 30 02:08:16 PST 2014 - matthew green <mrg@eterna.com.au>
	source/input.c, source/screen.c, source/window.c:
		don't call cursor_to_input() before calling
		update_input().  it's useless and moves the cursor.
	source/input.c:
		set old_cursor_pos to 0 if it's ahead of cursor_y.
		fixes input line scrolling issues.

Sat Jan 11 12:30:12 PST 2014 - matthew green <mrg@eterna.com.au>
	source/edit.c, source/help.c, source/names.c, source/screen.c,
	source/translat.c:
		remove set but unused variables.

Sat Jan 11 22:51:01 PST 2014 - matthew green <mrg@eterna.com.au>
	include/buffer.h, source/alias.c, source/crypt.c, source/dcc.c,
	source/edit.c, source/exec.c, source/history.c, source/ircaux.c,
	source/ircflush.c, source/ircio.c, source/screen.c, source/server.c,
	source/wserv.c:
		fix various issues found by newer GCC on ubuntu.

20131230
Mon Dec 30 05:16:19 PST 2013 - matthew green <mrg@eterna.com.au>
	source/input.c:
		cursor_to_input() should only operate on the current
		screen.  copy old behaviour of update_input() and
		only write the new part of the display with
		UPDATE_FROM_CURSOR calls.
	source/screen.c:
		fix a merge error with utf-8 patch.

Sun Dec 29 20:08:54 PST 2013 - matthew green <mrg@eterna.com.au>
	source/lastlog.c
		notice when the screen width changes and
		recalculate the per-line array.
	source/term.c:
		use the current screen's lines/colums in
		copy_window_size().  now lastlog notices screen
		size changes.

Sun Dec 29 19:53:31 PST 2013 - matthew green <mrg@eterna.com.au>
	include/lastlog.h, include/struct.c, source/lastlog.c,
	source/screen.c:
		make lastlog_stru only visible in lastlog.c.
		move next_line_back() into lastlog.c and call
		it lastlog_line_back().

Sun Dec 29 19:40:03 PST 2013 - matthew green <mrg@eterna.com.au>
	source/lastlog.c:
		fix the pointer type in free_lastlog_entry().

Sun Dec 29 19:41:33 PST 2013 - matthew green <mrg@eterna.com.au>
	Makefile.in, acconfig.h, configure, configure.in,
	help/set/display_encoding, help/set/input_encoding,
	help/set/irc_encoding, help/set/translation, include/config.h.dist,
	include/defs.h.in, include/input.h, include/irc.h, include/ircterm.h,
	include/screen.h, include/struct.h, include/translat.h, include/vars.h,
	source/alias.c, source/edit.c, source/exec.c, source/input.c,
	source/irc.c, source/screen.c, source/status.c, source/term.c,
	source/translat.c, source/vars.c:
		reapply the UTF-8 patch.  original description:

	Wed Sep 21 08:49:58 EST 2005 - Joel Yliluoma <bisqwit@iki.fi>
		Replaced the ancient TRANSLATION feature
		and the hackish japanese support features
		and all the hardcoded latin1-related stuff
		with iconv-based full character set support
		for input, output and display. Supports all
		the singlebyte and multibyte encodings supported
		by iconv, with or without shift codes.
		As a consequence, the following settings are
		no longer used: TRANSLATION, ISO2022_SUPPORT
		Instead, INPUT_ENCODING, DISPLAY_ENCODING
		and IRC_ENCODING are used for input, terminal
		and network encodings respectively.
		All conversions are done transparently.
		If the system does not have iconv library,
		only ISO-8859-1 is supported (built-in).
		Note that if EIGHT_BIT_CHARACTERS is not set,
		all 7th bits of bytes will be stripped. (Why??)

Sun Dec 29 17:48:35 PST 2013 - matthew green <mrg@eterna.com.au>
	source/input.c:
		fix DEBUG build.
	source/screen.c:
		outputline(): avoid modifying strings just so strlen()
		will work when we already have the length handy.
		split_up_line_alloc(): alloc space for NULL, too.
		next_line_back(): remove static ScreenLines[] since we
		can now use the lastlog entry's.

Sun Dec 29 06:46:11 PST 2013 - matthew green <mrg@eterna.com.au>
	include/lastlog.h, source/lastlog.c, source/screen.c:
		make add_to_lastlog() return the u_char ** it split
		up, if it happened to do that.  fix comments in it
		that have been wrong for over 20 years.
		make split_up_line_alloc() NULL terminate the list.
		use the pre-split list in add_to_window().

Sun Dec 29 06:05:06 PST 2013 - matthew green <mrg@eterna.com.au>
	include/lastlog.h, include/screen.h, include/struct.h,
	source/lastlog.c, source/screen.c, source/window.c:
		begin to store split up messages in the lastlog.
		move free_lastlog() to lastlog.c. and move the
		main guts of it into free_lastlog_entry(), that
		is reused during normal scrolling.
		add a new split_up_line_alloc() that has the same
		signature as split_up_line(), but returns a
		dynamically allocated array of pointers, and
		clears the pointers from split_up_line()'s static
		array.
	source/term.c:
		make copy_window_size() cope with NULL inputs.

Sun Dec 29 03:59:03 PST 2013 - matthew green <mrg@eterna.com.au>
	include/screen.h, include/struct.h, include/window.h,
	source/screen.c, source/window.c:
		make the definition of Display local to screen.c.

20131228
Sat Dec 28 18:16:39 PST 2013 - matthew green <mrg@eterna.com.au>
	doc/ircII.1:
		update to describe -l option.
	source/screen.c:
		use macros not magic numbers.
	source/window.c:
		clean up, and fix a bug in bind_channel().

Sat Dec 28 18:23:03 PST 2013 - matthew green <mrg@eterna.com.au>
	source/lastlog.c, source/parse.c:
		avoid leaking FILE *'s.
	source/server.c:
		avoid leaking memory.
	source/dcc.c, source/exec.c, source/irc.c, source/ircio.c,
	source/mail.c, source/newio.c, source/screen.c,
	source/server.c:
		remove the unused 4th parameter to dgets() and
		cleanup dgets() itself for this.

Thu Feb 21 14:01:23 PST 2013 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		avoid re-setting libexecdir if it is set on the
		command line.

20111115
Tue Nov 15 01:25:01 PST 2011 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		properly bump version.

20111114
Mon Nov 14 15:12:09 PST 2011 - matthew green <mrg@eterna.com.au>
	source/edit.c, help/nuser:
		add a /NUSER command to change your irc and user names.
		largely from Hendrix/zDm via tMH.
	doc/ircii.spec:
		rpm-style spec file, contributed by lukem
	source/edit.c:
		disable "TZ" hack, it fails weirdly with multitime.

Sat Jul  9 22:58:33 PDT 2011 - matthew green <mrg@eterna.com.au>
	configure, configure.ac, Makefile.in, ...:
		install ircio and wserv into libexec dir.

20110428
Thu Apr 28 15:13:02 PDT 2011 - matthew green <mrg@eterna.com.au>
	source/mkmksiginc.pl, source/mksiginc.c:
		adjust the C/CPP for each signal to allow eg SIGRTMAX
		to be a C expression not just a CPP one.  fixes a
		problem on modern centos reported by rob windsor.

20110228
Tue Feb  1 02:57:58 PST 2011 - matthew green <mrg@eterna.com.au>
	source/screen.c:
		avoid trying to print high-bit unprintable chars
	source/window.c:
		avoid implicit int
	include/ignore.h, source/ignore.c, source/edit.c:
		add /SAVE -IGNORE support

Tue Jan 26 20:59:24 PST 2010 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		match "TZ" not "TV".  ooops.

20090520
Wed May 20 22:17:27 PDT 2009 - matthew green <mrg@eterna.com.au>
	source/exec.c, source/crypt.c:
		order alarm/signal correctly to avoid spurious SIGALRM
		causing irc to exit.

Fri May  1 17:56:12 PDT 2009 - matthew green <mrg@eterna.com.au>
	configure, configure.in:
		check for getaddrinfo/getnameinfo in -lmedia, for qnx.

Fri May  1 00:35:38 PDT 2009 - matthew green <mrg@eterna.com.au>
	include/cast_sbox.h:
		remove K&R C support.
	include/keys.h, include/hook.h, include/vars.h:
		remove trailing , from enum lists.

Mon Apr 27 19:02:10 PDT 2009 - matthew green <mrg@eterna.com.au>
	include/irc.h, source/irc.c, source/term.c, source/wserv.c:
		add a new MY_SIGNAL_REINIT() that expands to
		nothing on BSD platforms.

Mon Apr 27 18:26:02 PDT 2009 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in,
	include/exec.h, include/irc.h, include/ircterm.h,
	include/scandir.h, source/exec.c, source/irc.c, source/ircaux.c,
	source/scandir.c, source/term.c, source/wserv.c:
		remove support the following systems:
			DGUX, Interactive UNIX 2/3, UNICOS, AIX 3,
			MUNIX/M_UNIX, NeXT, SVR3, ULTRIX, Dynix/ptx,
			HPUX7, HPUX8
		remove support for the follow features:
			<sgtty.h>, <termio.h>, non POSIX wait,
			non POSIX nonblocking

Sun Apr 26 01:30:12 PDT 2009 - matthew green <mrg@eterna.com.au>
	source/ircaux.c:
		if bind_local_addr() fails, notify the user that
		IRCHOST is probably wrong

20081115
Sun Nov 16 00:18:05 PST 2008 - matthew green <mrg@eterna.com.au>
	translation/*
		re-add these, missed in 20080314

Tue Oct 28 09:21:11 PDT 2008 - matthew green <mrg@eterna.com.au>
	include/config.h.dist:
		bump the default lastlog size to 440

20080414
Mon Apr 14 14:45:10 PDT 2008 - matthew green <mrg@eterna.com.au>
	sourec/icb.c:
		maintain the channel list for icb as well.  this makes
		/on nickname, /on channel_nick, $chanusers() and
		$onchannel() work for icb.

20080314
Fri Mar 14 10:06:58 PDT 2008 - matthew green <mrg@eterna.com.au>
	Makefile.in, acconfig.h, configure, configure.in,
	help/set/display_encoding, help/set/input_encoding,
	help/set/irc_encoding, help/set/translation, include/config.h.dist,
	include/defs.h.in, include/input.h, include/irc.h,
	include/ircterm.h, include/screen.h, include/struct.h,
	include/translat.h, include/vars.h, source/alias.c, source/edit.c,
	source/exec.c, source/input.c, source/irc.c, source/newio.c,
	source/screen.c, source/status.c, source/term.c, source/translat.c,
	source/vars.c:
		revert the utf-8 changes.  they cause way too much
		cpu time / slowness when lastlog gets large.  there
		should be a re-implementation coming in the future.

Tue Jun 26 13:31:29 EST 2007 - matthew green <mrg@eterna.com.au>
	help/on/icb_who:
		describe /on icb_who, not something else
	script/icb:
		understand /annoy

Wed Jun 20 13:14:31 PDT 2007 - matthew green <mrg@eterna.com.au>
	source/names.c:
		fix a bug in walk_channels() i introduced in late 93.
		symptom was /on channel_signoff not working.
Mon Mar 12 13:20:59 PDT 2007 - matthew green <mrg@eterna.com.au>
	source/exec.c:
		rename _child_died to waitpid_child_died.

Tue Jan 30 12:17:30 EST 2007 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		in icb_put_public(), split the line at a space boundary
		if it exists within the last 10 characters.
Wed Sep 27 17:26:35 EST 2006 - matthew green <mrg@eterna.com.au>
	source/server.c:
		in connect_to_server_direct() reorder some code to avoid
		using from_server when it is -1.  mostly from Bernd
		Eckenfels <ecki@lina.inka.de>.
	include/ircterm.h, source/crypt.c, source/dcc.c, source/log.c,
	source/newio.c, source/server.c:
		remove final remaining _Windows code.

Sat Sep  2 12:12:20 PDT 2006 - matthew green <mrg@eterna.com.au>
	source/input.c:
		don't reduce the screen zone by WIDTH twice.  this fixes
		a problem where the input line would scroll to the next
		part at 20 chars before the end of line.

Mon Aug 28 12:51:32 PDT 2006 - matthew green <mrg@eterna.com.au>
	Makefile.in, source/wterm.c:
		make wterm.c be a real file that defines STTY_ONLY and
		then includes term.c.

Sun Aug 27 16:04:39 PDT 2006 - matthew green <mrg@eterna.com.au>
	include/buffer.h, include/irc.h, include/irc_std.h, source/alias.c,
	source/ctcp.c, source/edit.c, source/help.c, source/hook.c,
	source/irc.c, source/ircaux.c, source/keys.c, source/output.c:
		remove all windows and msdos code, and some other unused
		things as well.

20060821
Tue Aug 22 05:57:18 EST 2006 - matthew green <mrg@eterna.com.au>
	source/edit.c: disallow these commands in ICB mode:
		ADMIN CONNECT CTCC CTCP DCC DEOP DIE HASH HOST ISONLUSERS
		NOTE NOTICE OPER REDIRECT REHASH REQUEST RESTART USERHOST
		WALL WALLOPS WHOWAS.
	source/hook.c:
		be much safer about access the hook_functions[] list and
		bounds check it in several places.  note via XXX a place
		where ircii will fail when when more than 2048 hooks are
		installed for a particular lists.  re-factor some code to
		avoid deep indentation.
	source/parse.c:
		as the XXX comment said over 10 years ago, only pass
		numbered commands from 1 to 999 to numbered_command().

Tue Aug  8 18:13:21 EST 2006 - matthew green <mrg@eterna.com.au>
	source/vars.c, source/input.c:
		rework the input prompt bug fix, based on work from flier.
	source/input.c:
		fix update_input() when term_echo is not set.  from flier.

Fri Aug  4 10:24:39 EST 2006 - matthew green <mrg@eterna.com.au>
	script/icb:
		for /ping on ICB, use /msg server ping.

20060725
Tue Jul 25 19:03:57 PDT 2006 - matthew green <mrg@eterna.com.au>
	script/listidle:
		update this from http://tris.net/software/listidle.irc

Tue Jul 25 03:52:10 PDT 2006 - matthew green <mrg@eterna.com.au>
	Makefile.in, include/Makefile.in, include/config.h.dist,
	include/hook.h, include/hook.h.proto, include/keys.h,
	include/keys.h.proto, include/vars.h, include/vars.h.proto,
	incldue/count.l, source/vars.c:
		add a new check in init_variables() to ensure that the
		irc_variable[] table is properly sorted.  we still depend
		on the list on vars.h to also be sorted, but this is at
		least one step better.  sort the entries that were not
		properly sorted.  delete include/*.h.proto,
		include/count.l, include/Makefile.in and convert the
		generated lists into enum's.  no longer require lex to
		build.  remove LEX and LEXLIB.
	configure, configure.in:
		remove AC_PROG_LEX and don't output include/Makefile.
	help/set/use_old_msg:
		delete USE_OLD_MSG variable as the support for it has not
		been available for some time.
	help/set/iso2022_support:
		delete, was an empty file.

Tue Jul 25 02:42:19 PDT 2006 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		adjust the iconv "const" check to match more cases.

Sun Jul 23 03:00:53 PDT 2006 - matthew green <mrg@eterna.com.au>
	help/digraph, help/bind/enter_digraph, help/set/eight_bit_characters:
		replace references to /set translation with updated ones
	source/vars.c:
		properly reorder irc_encoding and irchost.

20060721
Fri Jul 21 19:25:30 PDT 2006 - matthew green <mrg@eterna.com.au>
	include/config.h.dist, include/vars.h.proto, include/vars.h,
	source/vars.c:
		add defaults for STATUS_SCROLLED and STATUS_SCROLLED_LINES
		variables.  add %P%s to the default status format.
	source/status.c:
		add two new status format functions: %P for STATUS_SCROLLED
		and %s for STATUS_SCROLLED_LINES.  increase MAX_FUNCTIONS
		(really should fix this properly.)  clean up some obsolete
		code.
	source/screen.c:
		update the status bar when scrolling.
	help/set/status_scrolled, help/set/status_scrolled_lines,
	help/set/status_format:
		document the new status features.
	help/set/status_hold_lines:
		fix a typo.

20060718
Tue Jul 18 21:46:59 PDT 2006 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		call set_input_raw() from get_history(), not set_input().
		now ^V/^B/etc work properly from history.
	source/irc.c:
		fix a sign issue in the DEBUG code.

Tue Jul 18 17:54:29 EST 2006 - matthew green <mrg@eterna.com.au>
	script/redirx:
		update this to v1.3 from http://tris.net/software/redirx.irc.

20060705
Wed Jul  5 16:34:25 PDT 2006 - matthew green <mrg@eterna.com.au>
	include/hook.h, include/hook.h.proto, source/alias.c, source/cast.c,
	source/hook.c, source/input.c, source/names.c, source/screen.c,
	source/server.c, source/stack.c, source/translat.c, source/whois.c,
	source/window.c:
		change a few variables type to properly match their usage.
		remove a whole bunch of casts, and, unfortunately add a few
		more.

20060704
Tue Jul  4 18:05:48 PDT 2006 - matthew green <mrg@eterna.com.au>
	source/input.c, source/vars.c:
		ensure that the INPUT_PROMPT is properly initialised
		otherwise a default empty INPUT_PROMPT will cause
		temporary input prompts (such as "Help?") to become
		the input prompt.

Thu Sep 22 08:14:11 EST 2005 - matthew green <mrg@eterna.com.au>
	source/alias.c, source/crypt.c, source/dcc.c, source/edit.c,
	source/exec.c, source/help.c, source/icb.c, source/ignore.c,
	source/input.c, source/irc.c, source/ircaux.c, source/mail.c,
	source/names.c, source/notice.c, source/screen.c, source/server.c,
	source/status.c, source/term.c, source/translat.c, source/vars.c,
	source/window.c:
		fix signed verses unsigned problems.  fix int verses
		socklen_t problems.

Thu Sep 22 06:16:06 EST 2005 - matthew green <mrg@eterna.com.au>
	configure, configure.in, source/translat.c, source/input.c,
	source/screen.c, include/irc.h:
		add a test to see whether the 2nd argument to iconv()
		is const or not, rather than hard coding it cost for
		NetBSD and not for everything else.

20050921
Wed Sep 21 08:49:58 EST 2005 - Joel Yliluoma <bisqwit@iki.fi>
	Makefile.in, configure.in, include/defs.h.in,
	include/config.h.dist,
	help/set/display_encoding, help/set/irc_encoding,
	help/set/input_encoding, help/set/translation,
	help/set/iso2022_support,
	include/input.h, include/irc.h, include/screen.h,
	include/struct.h, include/translat.h, include/ircterm.h,
	include/vars.h.proto, include/vars.h,
	source/alias.c, source/edit.c,
	source/input.c, source/screen.c, source/status.c,
	source/term.c, source/translat.c, source/vars.c,
	translation/*, ChangeLog:
		Replaced the ancient TRANSLATION feature
		and the hackish japanese support features
		and all the hardcoded latin1-related stuff
		with iconv-based full character set support
		for input, output and display. Supports all
		the singlebyte and multibyte encodings supported
		by iconv, with or without shift codes.
		As a consequence, the following settings are
		no longer used: TRANSLATION, ISO2022_SUPPORT
		Instead, INPUT_ENCODING, DISPLAY_ENCODING
		and IRC_ENCODING are used for input, terminal
		and network encodings respectively.
		All conversions are done transparently.
		If the system does not have iconv library,
		only ISO-8859-1 is supported (built-in).
		Note that if EIGHT_BIT_CHARACTERS is not set,
		all 7th bits of bytes will be stripped. (Why??)
	source/exec.c:
		include unistd.h if exists
		- compiles cleaner with -Wall
	source/keys.c:
		^U mapped to ERASE_TO_BEG_OF_LINE instead
		of ERASE_LINE - now analogous to how ^K works;
		bash does the same.

Fri Jul  8 18:55:06 EST 2005 - matthew green <mrg@eterna.com.au>
	configure, configure.in:
		don't pass -Xc to sunpro on solaris.  from grant@netbsd.org.

Sat Jan 22 23:11:12 EST 2005 - matthew green <mrg@eterna.com.au>
	source/lastlog.c:
		in bits_to_lastlog_level(), add spaces before all but
		the first level, not after each of them.

Mon Jan  3 22:13:47 EST 2005 - matthew green <mrg@eterna.com.au>
	source/names.c:
		call set_channel_by_refnum() in rename_channel(), so that
		the window->current_channel changes as well.

20050101
Sat Jan  1 18:29:46 EST 2005 - matthew green <mrg@eterna.com.au>
	include/server.h:
		add comments to describe the difference between
		from_server and parsing_server_index variables.
	source/keys.c, source/edit.c, include/keys.h.proto, include/keys.h:
		change the function echo() to echocmd(), mirroring most other
		commands being foocmd().
	source/status.c:
		change a type to u_char to avoid a warning.
	source/server.c, doc/ircII.1:
		add support for $IRCSERVERSFILE, that replaces the
		default LIBDIR/ircII.servers.
	source/edit.c, source/server.c, help/msg:
		add a -server flag to /msg, to allow one to send a
		message to a server in a different window.
	source/icb.c, source/names.c, source/names.h:
		add a new rename_channel() instead of abusing the
		add_channel() interface, for when ICB groups are
		renamed.
	source/server.c:
		in get_server_localaddrlen() and get_server_localaddr()
		properly bounds check against number_of_servers.

20040820
Fri Aug 20 12:16:35 EST 2004 - matthew green <mrg@eterna.com.au>
	include/config.h.dist:
		include status_user[123] in DEFAULT_STATUS_FORMAT.

20040711
Sun Jul 11 03:06:51 EST 2004 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		be sure to save the ICB group status for reconnection time.

Thu Jul  8 23:19:03 EST 2004 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		set sent_nick in ICB mode as well.  makes /msg . work for ICB.

Sun Jul  4 00:53:46 EST 2004 - matthew green <mrg@eterna.com.au>
	source/ctcp.c:
		in do_ctcp() don't skip leading ':' like we used to long ago.

20040703
Sat Jul  3 20:23:17 EST 2004 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		add a comment. ircio needs snprintf* too
	include/irc_std.h:
		fix a prototype.
	configure.in, configure, Makefile.in:
		fix pax -s call: it takes BRE's not ERE's.  should remove a
		NetBSD pkgsrc patch..
	include/ircaux.h, source/ircaux.c, source/term.c:
		remove "new_stty()".

Wed Apr 14 23:59:40 EST 2004 - matthew green <mrg@eterna.com.au>
	script/listidle:
		make sort-of work.  partially from tristan.

Mon Feb 16 21:01:16 EST 2004 - matthew green <mrg@eterna.com.au>
	source/mkmksiginc.pl, source/mksiginc.c, source/exec.c, source/exec.h:
		remove (most) uses of NSIG - auto generate the array max size
		instead.  should fix solaris builds.
	help/topic, script/default:
		document ICB topic support, and make the default /topic work.

20040216
Mon Feb  9 22:43:03 EST 2004 - matthew green <mrg@eterna.com.au>
	help/expressions:
		document A++ and A-- binary operators
	help/foreach:
		begin to document /for
	source/alias.c:
		remove OLD_ALIAS_ALLOC method

20040106
Tue Jan  6 19:08:39 EST 2004 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/buffer.h, include/ctcp.h,
	include/debug.h, include/defs.h.in, include/hook.h,
	include/hook.h.proto, include/irc.h, include/output.h, include/server.h,
	include/whois.h, source/crypt.c, source/ctcp.c, source/debug.c,
	source/help.c, source/hook.c, source/if.c, source/ignore.c,
	source/menu.c, source/notify.c, source/output.c, source/server.c,
	source/stack.c, source/whois.c, INSTALL:
		remove any non-<stdarg.h> style varadic function support.
		ircii now require an ANSI C compiler.

Tue Jan  6 00:53:50 EST 2004 - matthew green <mrg@eterna.com.au>
	include/vars.h.proto, include/vars.h, include/config.h.dist,
	source/names.c, source/vars.c:
		add new /SET SWITCH_TO_QUIET_CHANNELS that allows
		SWITCH_CHANNELS binding to ignore "quiet" channels.
		from Magnus Tjernstrom <d92-mtm@ludd.luth.se>.

Wed Dec 17 01:33:29 EST 2003 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		set ircquick_file not ircrc_file, if $IRCQUICK is set.
	source/server.c:
		fix a few bugs with server process code, partially
		inspired by PR#647.
	source/window.c:
		don't send PART to ICB servers.

20031208
Mon Dec  8 21:30:39 EST 2003 - matthew green <mrg@eterna.com.au>
	source/newio.c:
		be defensive about accessing rec_io[] out of bounds.
		should stop PR#643.

Mon Dec  8 18:39:13 EST 2003 - matthew green <mrg@eterna.com.au>
	source/ircio.c:
		initialise res.  from mats@snowbee.dyns.cx in PR#647.
	source/screen.c:
		turn back on bold/highlight/underline if any of them
		are toggled, as termcap may turn off everything.  idea
		from Rado Smiljanic <am3a035@math.uni-hamburg.de> in PR#609.

Mon Dec  8 12:51:51 EST 2003 - matthew green <mrg@eterna.com.au>
	source/server.c:
		remove \n from a say().
	acconfig.h, configure, configure.in, include/defs.h.in,
	source/edit.c:
		look for tzset(3), and use it when setting/unsetting
		the TZ environment variable.
	script/icb:
		add a /hush alias.
	configure, configure.in:
		don't always enable emacs meta keys, from sec@42.org
		in PR#683.
	source/edit.c:
		reapply a change from march 1997 that got lost in 2002:
			don't send "NAMES" for hostmasked channels (eg,
			#foo:*.edu).  fixes PR#187
		fixes PR#675.
	script/redirx:
		new script from tristan@ethereal.net.  automatically
		shortens urls seen on channel.
	source/term.c:
		do nothing if (dumb) in set_term_eight_bit(). PR#651
	help/assign, help/echo, help/exec, help/server, help/squit, help/wait,
	help/alias/functions, help/load/edit, help/load/netsplit,
	help/load/repeat, help/on/on, help/set/full_status_line,
	help/set/help_pager, script/compl.mods, script/imap, script/netsplit,
	script/nocolour, source/ctcp.c, source/exec.c, source/status.c,
	source/term.c, source/window.c:
		fix spelling of "its" vs "it's".  from splite@purdue.edu
		in PR#654.

Tue Dec  2 16:38:08 EST 2003 - matthew green <mrg@eterna.com.au>
	script/multichan:
		add an example script for maintaining multiple server
		and channel configurations.

Wed Oct 22 11:12:20 EST 2003 - matthew green <mrg@eterna.com.au>
	source/cast.c, source/crypt.c, source/aes.c, include/crypt.h:
		change crypt functions to take size_t not int.
	script/icb:
		add an icb /away frontend.

Wed Jul 16 15:22:47 EST 2003 - matthew green <mrg@eterna.com.au>
	help/on/icb_cmdout, help/on/icb_motd, include/hook.h,
	include/hook.h.proto source/hook.c source/icb.c:
		rename /on icb_motd to icb_cmdout and also make sure that
		if the hook fires, we don't print a spurious not understood
		message.

Wed Jul 16 09:23:00 EST 2003 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		add /on TOPIC support.

Sun Jul 13 05:25:02 EST 2003 - matthew green <mrg@eterna.com.au>
	aclocal.m4, configure, configure.in:
		check if we can use "-Xc" on solaris..

Sat Jul 12 16:55:41 EST 2003 - matthew green <mrg@eterna.com.au>
	source/cast.c:
		don't regenerate the key for every message.
	Makefile.in, include/crypt.h, source/aes.c, source/cipher-test.c,
	source/crypt.c, source/ctcp.c, source/rijndael.c:
		rename rijndael cipher to AES.

Sat Jul 12 16:45:17 EST 2003 - matthew green <mrg@eterna.com.au>
	Makefile.in, doc/crypto, help/encrypt, include/ctcp.h,
	source/cipher-test.c, source/crypt.c, source/ctcp.c, source/irc.c,
	source/notice.c, source/parse.c, source/sed.c, source/whois.c:
		remove "SED" cipher support entirely..

Sat Jul 12 14:41:59 EST 2003 - matthew green <mrg@eterna.com.au>
	include/irc_std.h, source/cast.c, source/rijndael.c, source/sed.c:
		add a new IRCII_RCSID_NAMED() macro that can set the name
		of the rcsid string.  redefined IRCII_RCSID in terms of
		this, and use the new one in the included sources files.
	Makefile.in, source/cipher-test.c:
		add a new test-rig for the /crypt ciphers..

Sat Jul 12 14:25:23 EST 2003 - matthew green <mrg@eterna.com.au>
	include/irc.h, include/status.h, source/irc.c, source/status.c,
	source/vars.c:
		avoid the final gcc warning by splitting the variable
		list functions into two classes.

Sat Jul 12 05:18:58 EST 2003 - matthew green <mrg@eterna.com.au>
	configure, configure.in:
		add -lnsl -lsocket unconditionally on solaris.

20030709
Wed Jul  9 13:43:35 EST 2003 - matthew green <mrg@eterna.com.au>
	source/names.c:
		avoid using -1 as an array index.  fixes some
		core dumps pointed out by bisqwit.

Wed Jul  9 02:30:34 EST 2003 - Joel Yliluoma <bisqwit@iki.fi>
	include/vars.h.proto, include/vars.h, source/vars.c,
	include/config.h.proto, include/config.h, source/dcc.c,
	help/set/bind_local_dcchost, help/set/dcchost:
		Add /set bind_local_dcchost feature to select
		whether outgoing dcc requests should be bound
		to a local net interface.

Wed Jul  9 02:16:16 EST 2003 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		/DCC does not require a server (/dcc raw)

Wed Jul  9 01:03:28 EST 2003 - Joel Yliluoma <bisqwit@iki.fi>
	include/vars.h.proto, include/vars.h, source/vars.c,
	include/config.h.proto, include/config.h, source/dcc.c,
	help/set/dccport, help/set/dcchost:
		Added /set dccport feature to select the
		TCP port to use in dcc requests.
	source/newio.c
		Enabled SO_REUSEADDR, which makes it faster to
		regain access to a previously listened port.
	help/timer:
		expand.

20030706
Mon Jul  7 01:28:08 EST 2003 - matthew green <mrg@eterna.com.au>
	include/irc.h, source/irc.c, source/term.c:
		turn on_signal_occured into an array and stack
		signals up (overflow at 16 signals; it should be
		enough and avoids any soft of malloc in signal
		handlers..)

Mon Jul  7 00:31:31 EST 2003 - matthew green <mrg@eterna.com.au>
	source/mkmksiginc.pl, source/mksiginc.c, Makefile.in,
	configure, configure.in:
		add a perl program to generate a C program that we
		compile and run on the target to generate a list of
		valid signal names.  this replaces the generation
		of sig.inc in configure.
	source/exec.c:
		reverse test of SIGCLD/SIGCHLD.  this code needsa
		an enema... we should de-support old systems...

Sun Jul  6 19:16:16 EST 2003 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		move a big chunk of irc_io() into a new function to
		process one screen irc_do_a_screen().
	source/screen.c:
		actually avoid dumping core in an error condition, not
		just have a comment that says /* error */.

Sun Jul  6 18:49:42 EST 2003 - matthew green <mrg@eterna.com.au>
	help/on/os_signal:
		new documentation.

Sun Jul  6 18:40:22 EST 2003 - matthew green <mrg@eterna.com.au>
	configure, configure.in:
		also try looking in /usr/include/asm/signal.h.  fixes
		problems on linux.  from jorgenam@ifi.uio.no.
	include/hook.h, include/hook.h.in, source/hook.c, source/irc.c,
	source/status.c:
		add support for /on OS_SIGNAL_LIST.  from jorgenam@ifi.uio.no.
	include/irc.h, source/irc.c:
		various clean ups.
	include/irc_std.h, include/ircterm.h, source/crypt.c, source/irc.c,
	source/ircflush.c, source/status.c, source/term.c, source/wserv.c:
		change sigfunc from void (func *)(void) to void (func *)(int)
		and change all signal-handler functions accordingly.

Thu Mar 27 15:14:47 EST 2003 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		fix long messages in /msg.

Tue Mar 18 18:07:06 EST 2003 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		implement/honour /set beep_on_msg in ICB.

Sun Mar 16 15:36:00 EST 2003 - matthew green <mrg@eterna.com.au>
	configure, configure.in:
		turn off emacs meta keys by default, it hurts non-english
		speakers too much.
	source/keys.c:
		fix the emacs meta key bindings for M-b and M-d.

20030315
Sat Mar 15 16:25:09 EST 2003 - matthew green <mrg@eterna.com.au>
	source/status.c:
		more new bugs - status_make_printable() over the entire
		string, not all but the last 3 chars.  process the removal
		of \f for right justification even if we have filled the
		status bar width already.

Sat Mar 15 01:10:00 EST 2003 - matthew green <mrg@eterna.com.au>
	source/names.c:
		fix another error from recreate_modes().

20030314
Fri Mar 14 23:09:29 EST 2003 - matthew green <mrg@eterna.com.au>
	source/status.c:
		fix some errors introduced recently.

Fri Mar 14 10:45:53 EST 2003 - matthew green <mrg@eterna.com.au>
	source/status.c:
		clean up make_status(); split it the guts into a
		make_status_one().
	source/names.c:
		fix an error introduced in recreate_modes().

20030313
Thu Mar 13 21:52:42 EST 2003
	source/ircaux.c:
		don't strcpy the empty_string; just assign a nul.
	source/alias.c, source/dcc.c, source/edit.c, source/help.c,
	source/ignore.c, source/names, source/notify.c, source/numbers.c,
	source/server.c, source/whois.c:
		avoid potential buffer overflows by using the
		nul-terminating my_strm*() routines.
	source/names.c:
		rewrite recreate_mode() to be more friendly.
	source/ctcp.c:
	source/status.c:
		avoid buffer overflows in ctcp and status buffers.
		noted by Timo Sirainen <tss@iki.fi> in PR#617.

Thu Mar 06 13:49:30 EST 2003 - matthew green <mrg@eterna.com.au>
	source/alias.c:
		next_unit(): '|' should use C '|' not '||'.  from ?.
	source/edit.c:
		use \ as a quote character to /msg, so that one can
		/msg \/oink and avoid the /oink alias.

Sun Feb 16 13:13:20 EST 2003 - matthew green <mrg@eterna.com.au>
	help/@:
		add missing help file.  PR#605
	source/server.c:
		don't remove fake entries, it causes trouble!

20030106
Tue Jan  7 04:39:05 EST 2003 - matthew green <mrg@eterna.com.au>
	source/reg.c:
		just call it "my_tolower" and be done with it.
	source/exec.c:
		for EXEC -OUT, make sure that public messages are treated
		like public (not private) messages.  fixes exec -out on ICB.

20021226
Thu Dec 26 20:06:59 EST 2002 - matthew green <mrg@eterna.com.au>
	source/keys.c:
		don't bind char 231 to EMACS_FORWARD_CHAR but to
		SELF_INSERT, noted by moof.
	source/edit.c:
		don't look for comma's in ICB group or usernames as they
		are legal.  PR#602.  don't reset the command to "NOTICE"
		before ICB may want to check it for being "PRIVMSG".
	source/edit.c, help/msg:
		if we are doing a /msg, don't check if the channel name is
		the same as the target, but instead send a message, as they
		have separate name spaces.

Sun Dec  8 13:57:31 EST 2002 - matthew green <mrg@eterna.com.au>
	contrib/japanese_support, contrib/README:
		the japanese (iso2022) support has been integrated,
		so remove the patch.

Sat Dec  7 22:08:17 EST 2002 - matthew green <mrg@eterna.com.au>
	source/server.c:
		fix a bug in /on raw_send, from bisqwit.
	source/numbers.c:
		reset_nickname() doens't need a ArgList argument.
		PargsArgs() for 432, 433 and 437 numbers.

20021207
Sat Dec  7 02:08:54 EST 2002 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		make timers run in level crap by default
	source/parse.c:
		make the final /notify output level crap by default,
		this and the above are part of PR#563.

Sat Dec  7 01:26:42 EST 2002 - matthew green <mrg@eterna.com.au>
	source/window.c:
		use the server.h API for get_server_nickname().
	source/numbers.c:
		remove nickname_in_use().  move the broken functionality
		to reset_nickname() and fix it.  should fix PR#588.
	source/notice.c:
		reset attempting_to_connect to 0, don't decrememnt it.
	source/server.c:
		add new reconnect_to_server(server, prev_server) function
		and use it.  in connect_to_server(), don't overwrite the
		server_index value with the return value from
		connect_to_server_{direct,process}().  avoids a potential
		data segment smashing bug.

Fri Dec  6 19:32:30 EST 2002 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		dcc_raw_connect(): ipv4 sockaddr is 'struct sockaddr_in',
		not 'struct in_addr'.  initialise "res".  both from bisqwit.

Sun Nov 17 22:46:43 EST 2002 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		also look for tgetent() in -lncurses.

20021117
Sun Nov 17 18:30:30 EST 2002 - matthew green <mrg@eterna.com.au>
	source/dcc.c, include/dcc.h:
		re-sync the dcc_types[] array and the DCC_TYPES defines,
		fixing PR#597.

Sun Nov 17 13:20:24 EST 2002 - matthew green <mrg@eterna.com.au>
	source/ircaux.c:
		fix -h.  don't listen() always!  PR#598 & PR#600.

20021103
Sun Nov  3 01:01:15 EST 2002 - matthew green <mrg@eterna.com.au>
	source/mail.c:
		back out removal of message_from(.., LOG_CURRENT).  mail
		stuff should probably go there anyway.

20021101
Thu Oct 31 23:05:10 EST 2002 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		disable KICK, KILL, LEAVE, LINKS, PART, SERVLIST, SQUERY,
		STATS, SUMMON, TIME, TRACE and USERS for ICB.

Thu Oct 31 15:00:55 EST 2002 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		notice the new style icb group name change message.  PR#596.

20021031
Thu Oct 31 01:21:46 EST 2002 - matthew green <mrg@eterna.com.au>
	help/on/icb_who, help/on/icb_motd:
		new help pages
	source/hook.c, source/icb.c:
		rework /on icb_who so that it actually works and is useful.
	Makefile:
		actually build sl.c

Thu Oct 31 00:55:20 EST 2002 - matthew green <mrg@eterna.com.au>
	help/on/icb_error, help/on/icb_status:
		these document the right hook, not /help on notice.
	include/hook.h, include/hook.h.proto, source/hook.c, source/icb.c:
		implement /on icb_who and /on /icb_motd.

20021012
Sat Oct 12 22:09:05 EST 2002 - matthew green <mrg@eterna.com.au>
	source/screen.c, source/status.c, source/term.c:
		filter a few more chars that affect terminal output.  PR#593.

Fri Oct  4 15:30:36 EST 2002 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		reset & check meta[5678]_hit if we use them, just like
		everything else except meta4_hit.

Fri Oct  4 14:46:35 EST 2002 - matthew green <mrg@eterna.com.au>
	source/sl.c, include/sl.h:
		stringlist handling functions, from netbsd-current.
	source/help.c:
		replace help_paused_lines with a stringlist.  this not only
		stops core dumps for non-standard terminal sizes (as reported
		in debian PR#66446), but also reduces memory usage.

20020912
Fri Sep 13 05:22:38 EST 2002 - matthew green <mrg@eterna.com.au>
	source/cast.c, source/screen.c:
		fix a couple more portability bogons.

Thu Sep 12 16:23:02 EST 2002 - matthew green <mrg@eterna.com.au>
	include/cast_sbox.h:
		make this build with K&R C again.
	source/exec.c:
		don't redefine killpg().
	source/getaddrinfo.c:
		remove ANSI-only C code.
	source/getnameinfo.c:
		fix an error in the function header.
	source/window.c:
		avoid redefining MAXINT.

Tue Sep 10 21:49:57 EST 2002 - matthew green <mrg@eterna.com.au>
	include/irc_std.h:
		protect prototypes on new functions.
	include/cast_sbox.h:
		force all the constants to unsigned.
	source/irc.c, source/getaddrinfo.c, source/getnameinfo.c,
	source/inet_pton.c, source/inet_ntop.c, include/irc_std.h,
	source/hook.c, source/screen.c, source/icb.c:
		convert ANSI-only C to portable code.

Tue Sep 10 20:32:07 EST 2002 - matthew green <mrg@eterna.com.au>
	Makefile.in:
		fix a few spurious issues picked up by IRIX make.

20020908
Sun Sep  8 22:38:47 EST 2002 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		remove one use of getnameinfo().  just convert the 32 bit
		value into a "a.b.c.d" IP address and let getaddrinfo()
		deal with it later.. dcc works again now.

Sun Sep  8 22:09:29 EST 2002 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		fix a 64-bit problem with dcc.

Sun Sep  8 16:03:37 EST 2002 - matthew green <mrg@eterna.com.au>
	script/icb, source/edit.c, source/icb.c:
		support IBC /join -invite and /join -force.

Sun Sep  8 15:08:27 EST 2002 - matthew green <mrg@eterna.com.au>
	configure, configure.in:
		fix an informative message that was listed as an error.
	source/icb.c, source/edit.c, include/edit.h:
		make do_channel() public, not static.  in icb_put_group(),
		call do_channel() before randomly sending a join to the
		server.  should check for -force.
	source/dcc.c:
		more type clean up in register_dcc_offer().

20020907
Sat Sep  7 17:16:11 EST 2002 - matthew green <mrg@eterna.com.au>
	source/edit.c, source/mail.c, source/numbers.c, source/window.c:
		remove message_from(..., LOG_CURRENT) in a few places.  remove
		some comments that say to remove a couple of other instances
		of these as well.  inspired by PR#563 (not fixed.)

Sat Sep  7 16:59:55 EST 2002 - matthew green <mrg@eterna.com.au>
	source/screen.c:
		don't be smart when parsing screen bold, underline, inverse
		or "off" markers - it doesn't work.  fixes PR#519.

Sat Sep  7 09:26:25 EST 2002 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		clean up register_dcc_offer() some.  properly set
		Client->remname so that dcc works properly.

20020906
Sat Sep  7 01:44:49 EST 2002 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		accept --with-non-blocking=none.
	include/irc.h, include/irc_std.h:
		move the RFC2553 / addrinfo / etc code to irc_std.h.  add new
		source_host and dcc_source_host extern u_char *'s.  define a
		SOCKADDR_STORAGE and SS_FAMILY define, based on INET6.
	include/server.h:
		remove local_addr from Server struct.  add a SOCKADDR_STORAGE
		and int length.  change get_server_localaddr() to return this,
		and add a get_server_localaddrlen().
	include/struct.h:
		remove struct in_addr remote and replace it with a u_char
		*remname that we lookup when necessary.
	include/vars.h.proto, include/vars.h, source/vars.c, source/irc.c,
	help/set/dcchost:
		add /set dcchost.  changes what "irc -H" set.
	source/dcc.c, source/irc.c, source/ircaux.c, source/server.c:
		remove MyHostName, MyHostAddr, forced_ip_addr and
		forced_ip_addr_storage.  add dcc_source_host.  remove
		process_hostname().  defer "irc -H" lookup until later.
		cleanup lots of INET6.  store the full sockaddr in the
		server_list[] rather than just the IP address.  remove any
		DCC means IPv4 code.  simplify connect_by_number() and
		bind_local_addr() now that they don't do DCC listens.
	source/dcc.c:
		add a new dcc_sockname() to dcc.c and use it to print the IP &
		port for a given connection.  add new listen_dcc() to handle
		dcc send/chat initiation.  change dcc_open() drastically to
		suite.  handle a failure to accept() in process_incoming_chat().
		lots of little cleanup.  we can now support IPv6 DCC.

Thu Sep  5 14:09:35 EST 2002 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in, include/irc.h:
		always provide a socklen_t.

Thu Sep  5 13:16:21 EST 2002 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in,
	source/inet_pton.c, source/inet_ntop.c:
		always provide inet_pton(3) and inet_ntop(3).
	source/ircaux.c:
		fix struct sockaddr_storage vs. INET6 build problem.

Thu Sep  5 12:12:03 EST 2002 - matthew green <mrg@eterna.com.au>
	Makefile.in:
		let ircio get at getaddrinfo.o.
	acconfig.h, configure.in, configure, incldue/defs.h.in:
		don't bother looking for gethostbyname() in -lresolv anymore.
		look for gethostbyname2() for our getaddrinfo().
	source/getaddrinfo.c, source/getnameinfo.c:
		define our own "myoffsetof" macro.
	source/ircaux.c:
		only set sockaddr.sa_len if it exsists...

20020904
Thu Sep  5 02:35:28 EST 2002 - matthew green <mrg@eterna.com.au>
	Makefile.in:
		regen depends.
	acconfig.h, aclocal.m4, configure, configure.in, source/getaddrinfo.c,
	source/getnameinfo.c, include/irc.h, include/defs.h.in, source/dcc.c:
		restructure ipv6 & getaddrinfo() tests.  always provide a
		version of getaddrinfo() and getnameinfo(), and use these
		everywhere.  a lot of the configure work was taken from
		lukemftp.
	help/alias/functions, help/dcc/talk help/dcc/tmsg, include/dcc.h,
	include/struct.h, include/talkd.h, script/tabkey, source/alias.c,
	source/dcc.c, source/edit.c:
		remove /dcc talk, /dcc tmsg and /dcc summon.
	include/ircaux.h, source/ircaux.c, source/irc.c, source/server.c:
		now we have getaddrinfo always, switch to a single
		connect_by_number() implementation.

20020903
Tue Sep  3 11:44:58 EST 2002 - matthew green <mrg@eterna.com.au>
	help/on/ctcp_reply, help/on/flood, help/on/notice, include/flood.h,
	script/bigcheese, script/columns, script/default, script/mudlike,
	script/oldping, script/service, script/traces, source/ctcp.c,
	source/flood.c, source/icb.c, source/notice.c, source/parse.c,
	source/whois.c:
		change /on flood, /on ctcp_reply, /on notice and /on
		encrypted_notice to all show the "target" as $1.  this is
		a backwards incompatible change but sripts can use
		"if (V > 20020902)" to check for the changed interface.
		update all scripts to cope.  fixes PR#587.

20020902
Mon Sep  2 12:20:30 EST 2002 - matthew green <mrg@eterna.com.au>
	source/edit.c
		reset new my_echo_set_who_level hack variable at the end
		of my_echo().
	configure.in, configure:
		don't look for -lresolv on *bsd.  fix --with-non-blocking.

20020830
Fri Aug 30 15:44:13 EST 2002 - matthew green <mrg@eterna.com.au>
	source/window.c:
		reset who_level to LOG_CRAP not 0.
	source/screen.c, source/edit.c, include/edit.h:
		GC some unused code.  in add_to_screen(), if who_level was set by
		my_echo(), use it in preference to who_from, so that xecho -level
		works for channel data as well.  fixes PR#575.
	source/parse.c:
		call message_from() with the right log level, not LOG_MSG always.

Fri Aug 30 14:21:02 EST 2002 - matthew green <mrg@eterna.com.au>
	source/term.c:
		only decrement screen->co for the main screen; the value given
		to us by wserv for non-main screen's is already adjusted and
		was being decreased once per refresh_screen() call.

Fri Aug 30 12:50:40 EST 2002 - matthew green <mrg@eterna.com.au>
	acconfig.h, include/defs.h.in:
		add #undef WITH_EMACS_META_KEYS
	configure.in, configure:
		add a --with-emacs-meta-keys switch to enable meta key support
	source/keys.c:
		support --with-emacs-meta-keys.

Fri Aug 30 11:21:33 EST 2002 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		add an "int" return type to a main() test program.  warn about
		non blocking in one missing case.
	include/ircaux.h:
		add connect_by_number2() in INET6 case.  move SA_LEN compat here.
	include/server.h:
		add "struct addrinfo *res, *res0" elements in INET6 case.
	source/irc.c:
		cleanup INET6 code.
	source/ircaux.c:
		restructure INET6 version connect_by_number() into
		connect_by_number2(), and make the former call the new function.
		the new function takes pointers to struct addrinfo pointers for
		the res0 and current res0.  this allows non blocking connects to
		work with multi-homed servers that do not listen on all interfaces
		or network protocols (IPv4/IPv6).  fixes PR#533.
	source/server.c:
		pass a server_index to connect_to_server_{process,direct}() and
		use this to determine if we already have a res/res0 for this
		server, and pass these to connect_by_number2() appropriately.
		in do_server(), fix a INET6 getpeername() issue.  also, if we
		lose connection to a server we haven't logged into, and we have
		res/res0, call connect_to_server() again directly. initialise/clean
		up the res0 in add_to_server_list(), remove_from_server_list()
		and in new login_to_server_nonnblocking().  INET6/nonblocking
		code clean up.

Thu Aug 29 21:31:55 EST 2002 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in, source/edit.c:
		look for setenv(3) and unsetenv(3) and add ircii commands
		/setenv and /unsetenv if they exist.
	source/alias.c, include/status.h, source/status.c:
		add a new format_clock() that contains part of the guts of
		update_clock(), which now uses format_clock().  call format_clock()
		instead of update_clock() in alias_date() ($Z).

20020829
Thu Aug 29 19:49:28 EST 2002 - matthew green <mrg@eterna.com.au>
	source/ircaux.c:
		split connect_by_number() into new/old socket API versions
		(#ifdef INET6), and remove the ESIX crap from the new one.
		fix a bug in the multiple-host records case where we would
		not notice a connection had succeeded but try everything
		and report success or failure for the last.
	include/log.h, source/log.c, source/window.c:
		change the signature on do_log() so that the passed in FILE *
		becomes a FILE ** we can modify, rather than return.  fixes
		core dumps when using /log.  from flier <flier@scrollz.com>.
	source/server.c:
		avoid from_server overflows (Matt Dunford <zoot@zotikos.com>)
	help/on/ctcp, help/on/dcc_raw, help/on/exec, help/on/exec_errors,
	help/on/exec_exit, help/on/exec_prompt, help/on/flood, help/on/hook,
	help/on/notify_signoff, help/on/notify_signon:
		fixes from Matt Dunford <zoot@zotikos.com>, with a couple of
		minor touchups by myself.

Tue Aug 27 20:46:14 EST 2002 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		detect linux /usr/include/ncurses earlier so that
		we actually find <termcap.h>.

Tue Aug 27 00:06:01 EST 2002 - matthew green <mrg@eterna.com.au>
	help/basics, help/cat, help/commands, help/connect:
		minor fixes from Matt Dunford <zoot@zotikos.com>.

20020822
Thu Aug 22 23:12:10 EST 2002 - matthew green <mrg@eterna.com.au>
	source/names.c:
		fix !channel handling.  fixes PR#571.

Thu Aug 22 16:59:10 EST 2002 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		don't check for v?snprintf twice.
	Makefile.in:
		don't build rijndael library (yet).
	source/server.c:
		fix some pedantic C issues picked up by the HPUX C compiler.
	script/fkeys:
		new script to make function keys work.  it's gross but it
		works.  from Stefan `Sec` Zehl <sec@42.org> in PR#574.
	script/2.8script, script/default, script/newaway
		unify & backwards compat-ify alias "n.o".  from "Mario
		'BitKoenig' Holbe" <Mario.Holbe@RZ.TU-Ilmenau.DE> in PR#580.
	source/irc.c:
		avoid core dumps with "irc --- nick".  from Oleg Drokin
		<green@linuxhacker.ru> in PR#576.

Thu Aug 22 04:04:38 EST 2002 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		split up the message properly; we were not including the
		length of our nickname.

Fri Jun 21 11:40:10 EST 2002 - matthew green <mrg@eterna.com.au>
	source/irc.c, doc/ircII.1:
		irc -t is now the default.  use -T to get ti/te sequences.

20020403
Wed Apr  3 16:37:16 EST 2002 - matthew green <mrg@eterna.com.au>
	help/cat:
		change literal ^_ and ^B into control chars.  from William
		Katz <druid@dorsai.org>.

20020402
Tue Apr  2 19:10:57 EST 2002 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		use the size of the buffer, not sizeof (char *).  fixes PR#569.

Tue Apr  2 17:42:06 EST 2002 - matthew green <mrg@eterna.com.au>
	include/status.h, source/alias.c, source/irc.c, source/status.c:
		back out most of the previous; redo it via adding a new
		UPDATE_TIME flag for update_clock(); only when this is
		passed do we update the local min/hour and check for timers
		going off, etc.
	include/hook.h.proto, include/hook.h, source/dcc.c, help/on/dcc_list:
		add new /on dcc_list, ala window_list.

Thu Mar 28 23:52:17 EST 2002 - matthew green <mrg@eterna.com.au>
	source/window.c:
		don't call add_channel() with a key of "".
	source/names.c:
		don't create a mode if we just have an empty key.
	source/server.c:
		fix a warning from no nonblocking connects.

20020328
Thu Mar 28 01:59:34 EST 2002 - matthew green <mrg@eterna.com.au>
	include/status.h, source/alias.c, source/irc.c, source/status.c:
		move the static int hour/min from update_clock() to irc_io(),
		and add a pair of int * arguments to update_clock() to pass
		them in.  use these only if provided.  update all callers.
		i believe this fixes the status-clock-does-not-update bug.

Thu Mar 28 01:06:55 EST 2002 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		add a --enable-non-blocking=[no|posix|bsd|sysv] to force the
		type of non blocking connects used, or to disable it entirely.

Thu Mar 28 00:15:39 EST 2002 - matthew green <mrg@eterna.com.au>
	script/autoquery, help/load/autoquery:
		new script from Friedrich Delgado Friedrichs
		<friedel@nomaden.org> that causes ircII to create
		new /query windows for each nick involved in /msg.
	include/strsep.h, source/strsep.c, Makefile.in, source/edit.c,
	source/irc.c, source/numbers.c, source/screen.c, source/window.c:
		copy netbsd libc/strsep.c and borg it into my_strsep().
		use this to replace using strtok() everywhere, except for
		a few places next_arg() fit instead.
	source/ircaux.c:
		look for EAI_FAMILY if EAI_ADDRFAMILY is missing.  BSD/OS,
		from PR#566.
	include/names.h, source/names.c, source/window.c, source/edit.c,
	source/icb.c, source/irc.c, source/parse.c, source/window.c:
		add a u_char *key argument to add_channel() and use it in
		/window channel.
	source/window.c:
		fix /set xterm_options/screen_options.

Tue Mar 26 04:44:56 EST 2002 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		call message_from() for the icb group, in the default case
		of an info message, so that they go to the group.

Mon Mar 25 15:47:26 EST 2002 - matthew green <mrg@eterna.com.au>
	source/window.c:
		set default nick and port in window_get_connected() before
		we call add_to_server_list().  fixes core dump in /window
		server new.server.

20020325
Mon Mar 25 01:47:38 EST 2002 - matthew green <mrg@eterna.com.au>
	include/server.h, source/server.c, source/window.c:
		add a new "fake server" concept that new servers are
		added as, until connect_to_server_*() returns some sort
		of success and enters the server.  after these return,
		we garbage collect all fake server entries.  this keeps
		the server list as clean as before.

Mon Mar 25 00:57:07 EST 2002 - matthew green <mrg@eterna.com.au>
	include/alias.h, include/dcc.h, include/hook.h.proto,
	include/hook.h, include/input.h, include/whois.c:
		remove unused extern globals.  XXX mark some others.
	source/edit.c:
		fix /whois for ICB.
	source/server.c:
		fix "irc -icb nick icb.server.com" again.

Mon Mar 25 00:13:12 EST 2002 - matthew green <mrg@eterna.com.au>
	include/server.h, include/window.h, source/edit.c, source/notice.c,
	source/numbers.c, source/server.c, source/window.c:
		move `int attempting_to_connect;' inside the server_list[]
		and maintain it on a per-server basis.  remove the
		connect_next_nick, connect_next_password,
		connect_next_icbgroup, connect_next_icbmode,
		connect_next_server_group, connect_next_as_icb and
		connect_next_as_irc globals.  to keep the functionality always
		add /server entries to the server list when processing them so
		we can store this information there from the start.  modify
		CHOOSE_PORT to take a server argument as a version.  make
		/window server pay attention to multiple -flags.

Sun Mar 24 21:26:42 EST 2002 - matthew green <mrg@eterna.com.au>
	help/window/where:
		very old missing help file.

Sat Mar 23 16:25:34 EST 2002 - matthew green <mrg@eterna.com.au>
	include/window.h, source/server.c, source/window.c:
		add a new window_set_prev_server(int server) function, that
		sets the prev_server for every window whose server is the
		same as "server".  call this from login_to_server().

Sat Mar 23 15:24:33 EST 2002 - glen mccready <gkm@pobox.com>
	include/server.h, source/server.c, source/window.c:
		unstatic add_server_to_server_group().  implement
		`/window server .'.  still doesn't quite work as the
		prev_server isn't set properly yet.

20020322
Fri Mar 22 02:48:54 EST 2002 - matthew green <mrg@eterna.com.au>
	source/alias.c:
		revert change from Tue Mar 19 00:28:36 EST 2002 to:
		alias_server_version(), function_querynick(),
		function_winserver(), function_winservergroup(),
		function_winvisible(), function_winnum(), function_winnam(),
		function_winrows(), function_wincols() and function_channels().

20020321
Thu Mar 21 14:16:01 EST 2002 - matthew green <mrg@eterna.com.au>
	doc/ircII.1:
		document server server groups, and expand the examples.

Thu Mar 21 14:03:10 EST 2002 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		ensure that "/save -all" works.  PR#559.

Thu Mar 21 13:48:02 EST 2002 - matthew green <mrg@eterna.com.au>
	source/alias.c, include/defs.h.in, configure, configure.in:
		look for and include <crypt.h> for crypt(3) prototype.
	include/window.h, include/server.h, source/window.c, source/server.c:
		integrate server groups more tightly.  allow one to express
		them in the $IRCSERVER format as ``:group:'' before the
		server name.  eg, IRC/:group:server.name:port.

Thu Mar 21 03:58:58 EST 2002 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		add a new NOICB command flag and reject any such commands
		attempted on an ICB server.  don't send an info command
		to the ICB server, but do still allow it locally.

Thu Mar 21 02:36:54 EST 2002 - matthew green <mrg@eterna.com.au>
	source/names.c:
		in both lookup_channel() and has_voice(), verify that our
		arguments are sane, and return failure if they aren't. PR#560.

Thu Mar 21 00:38:27 EST 2002 - matthew green <mrg@eterna.com.au>
	help/server, source/server.c, include/server.h:
		implement /server -group <group> <server>, which sets the
		server group for the name <server> to <group>.  <group> is
		handled just as window server groups, and infact uses the
		same data structures.
	help/window/addgroup:
		reference help/window/delgroup.
	source/ircaux.c:
		minor optimisations for malloc_str*().
	source/ircflush.c, source/ircio.c, source/wserv.c:
		add prototypes for main() so we get no warnings.
	source/server.c, source/whois.c:
		work around -Wuninitalised breakage.

Wed Mar 20 03:20:08 EST 2002 - matthew green <mrg@eterna.com.au>
	script/tabkey:
		fix $tk.followadd().  from Mario.Holbe@RZ.TU-Ilmenau.DE
		in PR#565.

Tue Mar 19 00:28:36 EST 2002 - matthew green <mrg@eterna.com.au>
	source/alias.c:
		fix alias_chanop(), alias_modes() (from PR#562),
		alias_server_version(), function_querynick(),
		function_winserver(), function_winservergroup(),
		function_winvisible(), function_winnum(), function_winnam(),
		function_winrows(), function_wincols() and function_channels()
		to use the correct server, not the current windows server.
	include/ignore.h, source/ignore.c, help/alias/functions:
		new ignore_list_string() function.  rearrange ignore_list(),
		add a new external ignore_list_string(), and update
		ignore_list() callers.  document.

Mon Mar 18 23:52:11 EST 2002 - matthew green <mrg@eterna.com.au>
	source/ircaux.c, include/ircaux.c:
		add malloc_strncpy() and malloc_strncat() functions that
		have an "size_t extra" parameter, indicating how much
		extra space to allocate for this string.  useful for
		replacing two calls to malloc_str*() with one and a
		call to my_str*(), and avoiding the extra malloc.

Mon Mar 18 01:16:42 EST 2002 - matthew green <mrg@eterna.com.au>
	help/set/tab, help/set/decrypt_program, help/set/show_stars,
	help/set/iso2022_support:
		add missing help docs.  PR#558.
	help/set/pause_after_motd help/set/status_dquery:
		remove obsolete docs.  PR#558.
	incldue/alias.h:
		remove unused alias_illegals extern.

Mon Mar 11 23:50:42 EST 2002 - matthew green <mrg@eterna.com.au>
	help/on/window_list, include/hook.h, include/hook.h.proto,
	source/hook.c, source/window.c:
		add a new /on window_list that hooks into the output of
		/window list.  part of PR#551.

Mon Mar 11 20:25:46 EST 2002 - matthew green <mrg@eterna.com.au>
	source/screen.c, source/window.c, include/window.h:
		change create_additional_screen() to take an "int" arg of the
		screen type (ST_xxx), and to use this when determining the
		type of screen to create..  change /window create to look for
		either a -xterm or -screen option to force one or the other.
		add some more debug output.  now one can open new xterm's from
		a screen session.

Mon Mar 11 01:00:41 EST 2002 - matthew green <mrg@eterna.com.au>
	help/expressions:
		add a note warning about the dangers of ircII expression
		evaluation, and to use ( and ) to properly force the correct
		association.
	source/icb.c:
		add /on flood support to ICB.  PR#524.

20020310
Sun Mar 10 20:10:51 EST 2002 - matthew green <mrg@eterna.com.au>
	source/numbers.c:
		password_sendline: server index is in data not line: PR#547.
	source/server.c:
		add_to_server_list: be careful not to clear valid passwords:
		PR#547.

Sun Mar 10 19:14:11 EST 2002 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		if we don't find gethostbyname in -lresolv, try -lnsl. PR#537.

Sun Mar 10 18:16:23 EST 2002 - matthew green <mrg@eterna.com.au>
	source/notice.c:
		fix a bug from 8 years ago: don't send flooded notices as
		public notices.  fixes PR#549.
	source/edit.c:	
		display sub-second timer information, from flier in PR#554.
	source/numbers.c:
		add a hack to fix PR#552: set the nick on numeric 001 if
		it is wrong.

Sun Mar 10 01:55:57 EST 2002 - matthew green <mrg@eterna.com.au>
	source/hook.c:
		add fuzzy matching so that, eg, "/on send" will show all the
		current hooks starting with "send".  idea from poxaV.

20020309
Sat Mar  9 02:34:44 EST 2002 - matthew green <mrg@eterna.com.au>
	source/ctcp.c, source/dcc.c:	
		add some beep support, if beep_on_level has CTCP or
		DCC.  from dive@endersgame.net.
	Makefile.in:
		regen depends.

Sat Mar  9 02:05:25 EST 2002 - matthew green <mrg@eterna.com.au>
	source/irc.c, source/input.c, source/screen.c:
		add some debug code.  in input_update() don't overwrite
		buffer_pos or str_start on resize.  use set_current_screen(),
		don't set current_screen manually.  clean up
		screen_wserv_message() some.

20020306
Wed Mar  6 21:18:30 EST 2002 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		fix a Debug().
	source/term.c:
		restructure term_resize() slightly.
	source/screen.c:
		add some debugging to create_additional_screen(). clean up unix
		sockets.  default screen size from the master, not 80x24.
		call recalculate_windows after getting a wserv message.
	source/wserv.c:
		remove ircIIpid and related code, obsolete.  include some more
		headers so we find TIOCGWINSZ where it can be.  fix got_sigwinch()
		bugs.  fixed arg checking bugs.  fixed control socket path bug.
		don't perror with our tty.  call got_sigwinch() at startup.

Tue Jan 22 20:24:56 EST 2002 - matthew green <mrg@eterna.com.au>
	source/vars.c:
		set the default IRCHOST variable.  from flier.

Tue Jan 22 13:46:53 EST 2002 - matthew green <mrg@eterna.com.au>
	script/autoop:
		fix from Bernd Eckenfels <ecki@lina.inka.de> for nicks
		ending in backslash.
	help/alias/special:
		fix an example. from David Murn <davey@doa.org> in
		debian PR#113884.

Tue Jan 22 03:05:27 EST 2002 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		only look at wservin for non-main screen's.
	source/screen.c:
		implement screen_wserv_message().
	source/term.c:
		modify term_resize() to cope with wserv messages.

Tue Jan 22 01:15:29 EST 2002 - matthew green <mrg@eterna.com.au>
	Makefile.in:
		link ircII.1 to irc.1, finally.
	include/screen.h, include/struct.h, source/irc.c, source/wserv.c,
	source/screen.c:
		add a new control socket for WSERV sessions, for coping with
		screen size changes.
	include/config.h.dist, include/var.h, include/var.h.proto,
	include/hook.h, include/hook.h.proto, include/keys.h,
	include/keys.h.proto, source/crypto.c, source/vars.c:
		add a new /set decrypt_program. from flier.
	source/icb.c:
		clear the ICB $userhost() when it isn't known.

Wed Jan 16 00:33:45 EST 2002 - matthew green <mrg@eterna.com.au>
	source/crypt.c:
		put a newline between crypto key & text for external programs.
		noticed by flier <flier@scrollz.com>.

Wed Dec 19 00:54:04 EST 2001 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		don't wipe out the current channel in icb_put_action().
	source/server.c:
		rework logic on what server to choose next to avoid skipping
		one accidentally.

Wed Dec 19 00:11:03 EST 2001 - matthew green <mrg@eterna.com.au>
	source/icb.c, source/edit.c, include/icb.h:
		new icb_put_action() function.  make icb_put_public()
		obey window_display.
	include/ircterm.h, include/struct.h, source/alias.c, source/funny.c,
	source/help.c, source/input.c, source/menu.c, source/output.c,
	source/screen.c, source/status.c, source/term.c, source/window.c:
		move lower_mark, upper_mark, input_line, str_start, zone
		and cursor from screen.c into the per-screen struct.  also
		move the static lines & columns variables from input.c and
		term.c here as well.  this handles the input prompt on other
		screen's properly.  move the CO and LI variables from term.c
		into the per-screen struct as well.  call new_window() at
		the top of init_screen() to setup the master screen structure
		earlier.  TODO: have some way of wserv telling the master
		ircii about screen changes.  but at least for now the input
		prompt should work much better.

Tue Dec 18 17:34:06 EST 2001 - matthew green <mrg@eterna.com.au>
	include/irc_std.h:
		add UPP and CPP macros for char ** conversions.

Mon Dec 17 22:17:22 EST 2001 - Joel Yliluoma <bisqwit@iki.fi>
	source/edit.c, source/irc.c, include/edit.h:
		Added support for microsecond resolution in /TIMER.
		Todo: Add named timers some day.
	source/dcc.c:
		Fixed crashing when closing DCC RAW_LISTEN socket.
	help/exec:
		Updated the documentation (found a flaw).

Mon Dec 17 21:55:24 EST 2001 - matthew green <mrg@eterna.com.au>
	source/alias.c, help/alias/functions:
		new $filestat($file) that returns size, uid, gid, mode,
		filename of passed in $file.  inspired by a change in
		the debian bug database.

20011210
Fri Nov 30 10:03:10 EST 2001 - matthew green <mrg@eterna.com.au>
	script/times:
		add a public_other /on as well
	source/irc.c:
		call check_wait_status until it returns < 0.  from bisqwit.

Tue Sep 18 11:37:03 EST 2001 - matthew green <mrg@eterna.com.au>
	source/alias.c:
		fix $mid(0, ...).  from tristan in private email.

Fri Sep  7 02:49:55 EST 2001 - Joel Yliluoma <bisqwit@iki.fi>
	help/exec, source/alias.c, source/exec.c, include/exec.h,
	include/alias.h:
		Added -FILTER switch to /EXEC, and documented it,
		Now external programs can be scripted to select
		recipients on multiple servers.

Fri Sep  7 02:49:52 EST 2001 - Joel Yliluoma <bisqwit@iki.fi>
	source/server.c, include/hook.h, include/hook.h.proto, source/hook.c,
	help/on/raw_send:
		RAW_SEND -list support had vanished from my last
		update, added it back.
	source/screen.c:
		mIRC-colour codes work better now.
		Rewritten the indent code, colour codes
		now work in CONTINUED_LINE too.
	help/on/msg:
		Updated the documentation of /msg.
	source/screen.c, source/edit.c, source/edit.h:
		Allow multiple different target redirection.

20010807
Tue Aug  7 21:08:32 EST 2001 - matthew green <mrg@eterna.com.au>
	source/window.c, source/screen.c:
		set connect_next_as_irc/connect_next_as_icb before calling
		connect_to_server() always.
	source/alias.c, source/crypt.c, source/ctcp.c, source/dcc.c,
	source/edit.c, source/exec.c, source/funny.c, source/help.c,
	source/hook.c, source/icb.c, source/ignore.c, source/ircaux.c,
	source/ircflush.c, source/ircio.c, source/mail.c, source/names.c,
	source/numbers.c, source/parse.c, source/rijndael.c, source/screen.c,
	source/server.c, source/stack.c, source/status.c, source/translat.c,
	source/vars.c, source/whois.c, source/window.c:
		convert sprintf() to snprintf() now that we have that always.

Tue Aug  7 15:42:19 EST 2001 - matthew green <mrg@eterna.com.au>
	help/icb:
		add a link to http://www.icb.net/
	source/output.c:
		avoid core dumps on empty MOTD lines.  from Bernd Eckenfels
		<ecki@lina.inka.de>.
	include/buffer.h, source/output.c, source/hook.c:
		move PUTBUF macros into new buffer.h, and use them in do_hook.
	configure.in, configure:
		look for sendmail in /usr/sbin first.
	source/output.c:
		use snprintf() everywhere here.

Fri Jul 27 01:19:04 EST 2001 - matthew green <mrg@eterna.com.au>
	source/input.c:
		in update_input(), add some sanity checking on lower_mark,
		upper_mark & str_start.
	source/alias.c:
		fix an underrun in $mid().  pointed out by jnelson@epicsol.org
		in PR#536.

20010720
Fri Jul 20 10:49:26 EST 2001 - matthew green <mrg@eterna.com.au>
	source/screen.c:
		in output_line(), don't fwrite() in the CHARSET & COLOUR tag
		cases, unless we have a greater than zero length.

Fri Jul 20 06:57:28 EST 2001 - matthew green <mrg@eterna.com.au>
	source/screen.c:
		in output_line(), don't blindly step through the string to
		decode the colour or charset tags, make sure we don't step
		past the nul.
	source/lastlog.c:
		in bits_to_lastlog_level(), the max length of the levels is
		closer to 120 than 80.. adjust a buffer size.

20010612
Tue Jun 12 23:12:34 EST 2001 - matthew green <mrg@eterna.com.au>
	source/irc.c, source/window.c, source/server.c:
		provide no default quit message anywere.
	source/parse.c:
		fix is_channel() for ICB.

Sun May 20 06:48:11 EST 2001 - Joel Yliluoma <bisqwit@iki.fi>
	include/vars.h.proto, include/vars.h, include/irc.h,
	include/config.h.dist, source/screen.c, source/vars.c:
		applied the japanese patch (from galibert@mines.u-nancy.fr),
		which also fixes the ^V/^B/^_/color handling over broken lines.
	source/dcc.c, source/irc.c:
		dcc working with masquerades (new -H switch; IPv4 only)
	source/notice.c, source/server.c:
		fixed -q again (prevent also .ircquick)
	source/alias.c, help/alias/functions:
		added new functions: SHELLFIX, URLENCODE functions.
	Makefile.in:
		remove rijndael-alg-ref.c, rijndael-api-ref.c and config.h on
		make distclean.

Mon Feb 12 23:53:22 EST 2001 - matthew green <mrg@eterna.com.au>
	include/server.h, source/funny.c, source/status.c:
		add usermode `z' support.
	doc/ircII.1: document the ircII.servers & ircII.motd files.

Mon Feb 12 23:42:30 EST 2001 - matthew green <mrg@eterna.com.au>
	source/snprintf.c, Makefile.in, acconfig.h, configure, configure.in:
		look for snprintf() and vsnprintf() and provide replacements if
		they do not exist.  nothing uses this (yet).

Tue Jan  2 22:26:14 EST 2001 - matthew green <mrg@eterna.com.au>
	source/server.c:
		don't call get_connected() but just call window_set_server() for
		the relevant windows, if we fail to connect.  fixes PR#227.

Tue Jan  2 17:09:21 EST 2001 - matthew green <mrg@eterna.com.au>
	help/alias/functions, include/ignore.h, include/notify.h,
	source/alias.c, source/ignore.c, source/notify.c:
		4 new functions, inspired by PR#66:
		  IGNORED(NICK TYPE)    Returns "ignored", "highlighted", "dont"
					or "0", depending on what ignore action
					will be applied to this NICK and TYPE of
					ignorance.  TYPE must be one of MSGS,
					PUBLIC, WALLS, WALLOPS, INVITES,
					NOTICES, NOTES, CTCP or CRAP.
		  NOTIFY(TYPE)          Returns either the TYPE "here", "gone"
					or "all" lists, default being "here".
		  SCREENS()             Returns a list of the current screen.
		  WINDOWS()             Returns a list of the current windows.
	inspired by PR#66.
	include/vars.h.proto, include/vars.h, include/config.h.dist,
	source/output.c, source/vars.c, help/set/star_prefix:
		new /set star_prefix variable that replaces the hard coded
		"*** " prefix from many messages, and replaces it with the
		expanded value of this variable, so that /set star_prefix $Z
		works.  inspired by PR#48.
	source/numbers.c:
		be saner in reset_nickname().  deal with various bugs here.
		inspired by PR#287.

Tue Jan  2 11:50:23 EST 2001 - matthew green <mrg@eterna.com.au>
	include/vars.h.proto, include/vars.h, include/config.h.dist,
	include/names.h, source/alias.c, source/names.c, source/status.c,
	source/vars.c, help/set/status_voice:
		add new /set status_voice and %v status_format modifier,
		part of PR#11.

20010101
Mon Jan  1 22:07:31 EST 2001 - matthew green <mrg@eterna.com.au>
	source/notice.c, irc.c:
		load "global" before .ircrc, when using -b.  fixes PR#498.
	source/window.c:
		avoid a core dump when re-binding a channel.  fixes PR#497.
	script/listidle, help/load/listidle:
		new listidle script from tristan in PR#466.
	source/numbers.c:
		re-do numeric 437 processing.  fixes PR#500.
	source/edit.c:
		handle /me for ICB.  fixes PR#492.
	source/whois.c:
		kill some debug messages.
	source/term.c:
		kill some "#ifdef mips" lossage.

Mon Jan  1 12:34:26 EST 2001 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in,
	include/ircterm.h, source/term.c:
		check for fwrite/fputc and only redefine them if they are
		not already present (and if "mips", like it was).  make the
		fake macros more robust and correct.

20001231
Tue Dec 19 16:25:55 EST 2000 - matthew green <mrg@eterna.com.au>
	source/menu.c:
		fix a core dump, noted by "David O'Shea"
		<s341595@student.uq.edu.au> in PR#503.
	source/term.c:
		give cygwin a 2K buffer.

Mon Dec  4 21:34:19 EST 2000 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		apply patch from <jnelson@acronet.net> to avoid sending
		"NAMES " to the server in cases it was not meant. PR#501.

20001120
Mon Nov 20 00:07:40 EST 2000 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		in send_text(), don't do dcc chat/talk or command expansion
		if the target is actually the current channel.  stops things
		like groups named `/quit' from being obnoxious.

Mon Nov  6 02:00:46 EST 2000 - matthew green <mrg@eterna.com.au>
	configure, configure.in:
		add a `--with-efence' option to include the Electric Fence
		malloc debugging library.
	include/ircterm.h:
		support ncurses tputs(3) variant.

Wed Oct 25 08:35:55 EST 2000 - matthew green <mrg@eterna.com.au>
	source/output.c:
		s/buf/putbuf/ in !stdarh.h code. PR#496 from Andreas Ley
		<andy@rz.uni-karlsruhe.de>.

20001024
Tue Oct 24 12:52:46 EST 2000 - matthew green <mrg@eterna.com.au>
	source/names.c:
		in mark_not_connected(), clear the channel status.  fixes
		PR#495.

Fri Oct 13 22:18:52 EST 2000 - matthew green <mrg@eterna.com.au>
	include/crypt.h, source/cast.c, source/crypt.c, source/rijndael.c,
	source/sed.c:
		toss the generic CBC code for now.  make cast.c like it was,
		and use the built-in rijndael CBC code.  generate a 32-byte
		IV for the start of the connection.  disable the rijndael
		code while it doesn't work.
	source/irc.c:
		call srandom() when we start.

20001009
Mon Oct  9 02:13:16 EST 2000 - matthew green <mrg@eterna.com.au>
	Makefile.in:
		regenerate dependancies

Mon Oct  9 02:04:32 EST 2000 - matthew green <mrg@eterna.com.au>
	source/rijndael.c, source/cast.c, source/crypt.c, source/sed.c,
	include/crypt.h:
		further crypto handling simplification.  complete the rijndael
		cipher (using the new generic CBC-mode handling code).

Sun Oct  8 08:47:31 EST 2000 - matthew green <mrg@eterna.com.au>
	source/rijndael/:
		add Rijndael reference source 2.1.
	Makefile.in:
		update for Rijndael support.  clean up some things.
	configure.in, configure:
		remove --with-cast.  crypto is always there now.
	include/crypt.h, source/ctcp.c:
		simplify ctcp crypto handling.

20001007
Sat Oct  7 21:58:27 EST 2000 - matthew green <mrg@eterna.com.au>
	source/edit.c, source/alias.c, source/irc.c, include/irc.h:
		remove internal_version, and make irc_version be this YYYYMMDD
		string instead.

Sat Oct  7 16:36:19 EST 2000 - matthew green <mrg@eterna.com.au>
	source/edit.c, source/alias.c:
		PR#482 & #483 from maximum entropy <entropy@zippy.bernstein.com>
		fix off-by-one error calling getcwd.
	source/irc.c:
		fix some typos
	source/screen.c:
		more robust mIRC code from PR#480 from
		<wiz@danbala.tuwien.ac.at>.
	source/ircaux.c:
		pr#488 from ecki@lina.inka.de: fix off-by-one overflow in
		strmcpy().
	configure.in, configure:
		Reimplemented gethostbyname() check from Arkadiusz Miskiewicz
		<misiek@pld.org.pl> in PR#486.

Tue Sep 19 02:45:35 EST 2000 - matthew green <mrg@eterna.com.au>
	doc/ircII.1, include/irc.h, source/irc.c, source/term.c:
		add new -t command line argument to make ircII not use the
		termcap "ti" and "te" sequences.  fixes PR#484.  add -T to
		turn them on (if present) for completeness.

4.4Z
Thu Aug 31 22:19:55 EST 2000 - matthew green <mrg@eterna.com.au>
	source/window.c:
		fix "/window new move -3".  patch from
		<jnelson@epicsol.org> in PR#477.
	source/flood.c:	
		apply forcer's hack-patch to work around the problem
		described in PR#471.
	source/names.c:
		avoid using CHAN_LIMBO as a bit flag, cuz it isn't.  part
		of PR#472.

Thu Aug 10 10:50:23 EST 2000 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		allocate enough space in the ICB /whois for the string to
		be written.  found by moof/libefence.

4.4Y
Sat Aug  5 22:19:20 EST 2000 - matthew green <mrg@eterna.com.au>
	source/window.c, source/server.c, include/window.h:
		in window_get_connected(), don't kill the current window's
		version of current_channel.  if that is going to happen,
		window_set_server() will do it.  fixes my PR#442.

Sat Aug  5 15:12:39 EST 2000 - matthew green <mrg@eterna.com.au>
	source/window.c, help/window/nostatus:
		implement /window nostatus to entirely disable the
		status line.  can be confusing with mulitle visible windows
		with nostatus!  inspired by PR#455.

Sat Aug  5 14:36:58 EST 2000 - matthew green <mrg@eterna.com.au>
	source/ircaux.c:
		set "err" in all cases, so we know when we have actually
		succeeded.  fixes connections to the local machine.

Fri Aug  4 17:42:13 EST 2000 - matthew green <mrg@eterna.com.au>
	include/config.h.dist, include/vars.h, include/vars.h.proto,
	source/names.c, source/vars.c:
		add /set hide_channel_keys {on|off}, inspired by PR#467
		(whose patch was based on over 5 year old code).

4.4X
Fri Aug  4 12:18:10 EST 2000 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		use a local static "buffer", fixes lossage.

4.4V
Wed Aug  2 18:41:22 EST 2000 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		don't ignore empty fields, fill them in as normal.

Wed Jul 19 03:12:37 EST 2000 - matthew green <mrg@eterna.com.au>
	include/irc.h, source/alias.c, source/ctcp.c, source/edit.c,
	source/exec.c, source/help.c, source/history.c, source/ignore.c,
	source/irc.c, source/lastlog.c, source/mail.c, source/menu.c,
	source/names.c, source/notice.c, source/numbers.c, source/screen.c,
	source/server.c, source/translat.c, source/window.c:
		remove all uses of the global buffer, and delete it.

Sun Jul 16 14:23:48 EST 2000 - matthew green <mrg@eterna.com.au>
	source/names.c:
		don't use the global "buffer".

Thu Jul 13 13:15:08 EST 2000 - matthew green <mrg@eterna.com.au>
	help/on/icb_status, help/on/icb_error:
		document the recently added icb_status and icb_error hooks.
	source/edit.c:
		fix `/join -' dumping core, PR#458.

Sun Jun 11 17:39:05 EST 2000 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		fix my PR#444: moderator sign off message wrongly parsed.

Sun Jun 11 17:17:21 EST 2000 - matthew green <mrg@eterna.com.au>
	include/config.h.dist, include/vars.h, include/vars.h.prot,
	source/irc.c, source/screen.c, source/vars.c
	help/set/foreground_colour, help/set/background_colour:
		add two new /set variables: foreground_colour and
		background_colour, and use these.  add new -r switch to
		reverse the default values.  from forcer@mindless.com,
		and is the best fix for his PR#446.
	help/set/colour:
		document this recent variable.

Sun Jun 11 17:03:16 EST 2000 - matthew green <mrg@eterna.com.au>
	source/term.c, include/ircterm.h:
		use termcap 'ti' and 'te' sequences when starting and leaving
		(or when suspending).  should fix colour reset problems as
		seen in PR#429.
	include/config.h.lynx:
		kill.

Mon May 29 00:35:44 EST 2000 - matthew green <mrg@eterna.com.au>
	help/set/xterm_geomoptstr, help/set/xterm_options, help/set/xterm_path,
	include/config.h.lynx, include/config.h.dist, include/vars.h.proto,
	source/screen.c, source/vars.c, include/vars.h:
		add new /set xterm_geomoptstr variable to change the "-geom"
		option to the xterm program, necessary for, eg, rvxt. fixes
		PR#449 from <jmf@digitalexp.com>.
	include/struct.h, source/names.c:
		remove the 'cached' mode string.  it was getting wrong with
		channel keys and it seems useless now anyway.

4.4U
Thu May 11 13:04:07 EST 2000 - matthew green <mrg@eterna.com.au>
	source/server.c:
		make /disconnect * work.
	source/dcc.c, source/newio.c, source/server.c, source/screen.c,
	source/window.c:
		rename refresh and timeout functions/variables as these
		are defined in most <curses.h> files.
	source/translat.c:
		fopen() likes "r" not "R".
	source/notify.c:
		in do_notify(), don't change from_server and leave it
		changed if we have an ICB server for primary.
	source/edit.c:
		don't send IRC PRIVMSG to ICB servers.
	help/disconnect:
		document this command.

Sat Apr 15 04:57:21 PDT 2000 - matthew green <mrg@eterna.com.au>
	help/lastlog:
		document /lastlog <pattern> <count> <start> support.
	source/edit.c:
		fix ICB /topic.  apply patch from Roman Gollent
		<roman@babe.pobox.com> to make /topic * work.

Tue Apr 11 00:24:12 EST 2000 - matthew green <mrg@eterna.com.au>
	source/names.c:
		fix a problem found by forcer: in remove_channel(), if we can
		work out the refnum of the window this channel is on, pass it
		to is_current_channel(), rather than always passing -1.
	source/output.c:
		do not use a static buffer for vasprintf(). put_it() and
		friends are sometimes re-entrant.  picked up by forcer and
		electric fence.
	configure.in, configure:
		explicitly test for struct sockaddr's "sa_len" member.
	source/alias.c:
		fix off-by-one malloc error.

4.4T
Mon Apr  3 17:43:02 EST 2000 - matthew green <mrg@eterna.com.au>
	Makefile.in, source/irc.c, source/ircaux.c, source/ircio.c,
	source/file.c:
		remove dated, unused and definately insecure PRIV_PORT code.
	include/irc_std.h:
		introduce my_str{len,cpy,ncpy}() macros that (char *)ifiy
		the correct arguments, to avoid warnings from u_char *'s.
	source/alias.c:
		use my_str{len,cpy,ncpy}().
	include/config.h.dist, include/config.h.lynx:
		enable EIGHT_BIT_CHARACTERS by default.

Sat Apr  1 18:10:33 EST 2000 - matthew green <mrg@eterna.com.au>
	include/count.l, include/hook.h, include/hook.h.proto, include/keys.h,
	include/keys.h.proto, include/vars.h, include/vars.h.proto:
		make count preserve $Id strings that are in .proto files, and
		add additional $Id strings for the generated .h files.

Sat Apr  1 17:31:35 EST 2000 - matthew green <mrg@eterna.com.au>
	configure, configure.in, include/alias.h, include/crypt.h,
	include/ctcp.h, include/dcc.h, include/edit.h, include/exec.h,
	include/flood.h, include/funny.h, include/help.h, include/history.h,
	include/hold.h, include/hook.h, include/hook.h.proto, include/icb.h,
	include/if.h, include/ignore.h, include/input.h, include/irc.h,
	include/ircaux.h, include/ircterm.h, include/keys.h,
	include/keys.h.proto, include/lastlog.h, include/list.h, include/mail.h,
	include/menu.h, include/names.h, include/notify.h, include/numbers.h,
	include/output.h, include/parse.h, include/queue.h, include/screen.h,
	include/server.h, include/stack.h, include/status.h, include/struct.h,
	include/translat.h, include/vars.h, include/vars.h.proto,
	include/whois.h, include/window.h, source/alias.c, source/cast.c,
	source/crypt.c, source/ctcp.c, source/dcc.c, source/edit.c,
	source/empty_metakeys.inc, source/exec.c, source/flood.c,
	source/funny.c, source/help.c, source/history.c, source/hold.c,
	source/hook.c, source/icb.c, source/if.c, source/ignore.c,
	source/input.c, source/irc.c, source/ircaux.c, source/keys.c,
	source/lastlog.c, source/list.c, source/mail.c, source/menu.c,
	source/names.c, source/notice.c, source/notify.c, source/numbers.c,
	source/output.c, source/parse.c, source/queue.c, source/reg.c,
	source/screen.c, source/sed.c, source/server.c, source/stack.c,
	source/status.c, source/term.c, source/translat.c, source/vars.c,
	source/whois.c, source/window.c:
		convert from char to u_char for everything that can be.

Fri Mar 31 23:49:42 EST 2000 - matthew green <mrg@eterna.com.au>
	Makefile.in:
		remove $DESTDIR from exec_prefix; it is already in the prefix.

Tue Mar 28 10:31:13 EST 2000 - glen mccready <gkm@pobox.com>
	source/server.c:
		clean up server handling a bit.  fix false "Connected" message.
		should consider removing server_list[].connected in favor of a
		flag and add more status tracking flags.

Sun Mar 26 02:37:03 EST 2000 - matthew green <mrg@eterna.com.au>
	source/screen.c:
		when scrolling backwards, check how many lines in the
		lastlog we have and then make sure we don't scroll
		beyond that.  fixes PR#430.  rewrite a recent fix to
		part of the split_up_window() function.
	source/server.c:
		in /server -delete, call close_server().

Thu Mar 23 17:13:51 EST 2000 - matthew green <mrg@eterna.com.au>
	help/exec, help/set/exec_protection:
		add a reference to /set exec_protection in /help exec, noted
		by matthewa@materna.nl in PR#431.
	script/columns, script/times:
		add an evil hack to let these two be loaded together.  fixes
		PR#425 from Hubert Feyrer <feyrer@rfhs8012.fh-regensburg.de>.

Tue Mar 21 11:08:26 EST 2000 - matthew green <mrg@eterna.com.au>
	configure.in, configure:
		a fix IPv4-only nodes that have getaddrinfo(), from
		Jun-ichiro itojun Hagino <itojun@iijlab.net>.

4.4S
Fri Mar 17 15:07:25 EST 2000 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		properly fix the terrible bug in send_text().

4.4R
Fri Mar 17 02:19:20 EST 2000 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		fix a terrible bug in send_text().

4.4Q
Thu Mar 16 23:58:40 EST 2000 - matthew green <mrg@eterna.com.au>
	source/ctcp.c:
		avoid using %ld as an argument to send_ctcp_reply().

Thu Mar 16 22:55:12 EST 2000 - matthew green <mrg@eterna.com.au>
	configure, configure.in, Makefile.in:
		use a find & chmod chain to ensure the permissions
		of the installed help files is correct.

Sun Mar  5 08:04:22 EET 2000 - Joel Yliluoma <bisqwit@iki.fi>
	configure, configure.in, acconfig.h:
		add $crypt() function.
		source/screen.c:
		fixed the mirc colour support again.
		(something had broken it)
	help/cat:
		add help file for this.

Wed Feb 23 00:06:05 EET 2000 - Joel Yliluoma <bisqwit@iki.fi>
	source/alias.c, help/alias/functions:
		added crypt() support and help files.

Thu Mar 16 12:36:40 EST 2000 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		deal with /join, /invite, /who, /nick and /topic again.

Wed Mar 15 14:18:30 EST 2000 - glen mccready <gkm@pobox.com>
	include/ircterm.h, source/term.c, source/irc.c, source/screen.c:
		streamline term.c fp handling.  use term_flush()
		where appropriate rather than calling fflush()
		directly.  there's a div by zero work around, too.

4.4P
Wed Mar 15 17:51:07 EST 2000 - matthew green <mrg@eterna.com.au>
	source/screen.c, source/irc.c, include/irc.h:
		in add_to_window(), don't add something to the end
		of a string, but allocate our own buffer to do this,
		and then add the ALL_OFF char.  eliminte the char []
		`global_all_off'.  fixes off-by-one errors caused
		by vasprintf() support for output.c.
	source/irc.c:
		fix PR#428: /set -irchost dumps core.

Sat Mar 11 17:31:43 EST 2000 - matthew green <mrg@eterna.com.au>
	help/encrypt, source/crypt.c:
		unless the new -showkeys option is specified to the
		/encrypt command, do not show the keys for each user.

Sat Mar 11 15:33:06 EST 2000 - matthew green <mrg@eterna.com.au>
	help/set/lastlog_level, include/lastlog.h, script/screen,
	source/lastlog.c, source/output.c:
		add lastlog level HELP, that is where all HELP
		messages are sent to.

Fri Mar  3 20:38:59 EST 2000 - matthew green <mrg@eterna.com.au>
	include/status.h source/alias.c source/irc.c source/status.c:
		change update_clock() to take a buffer and a length to
		write a string to, rather than using a static buffer.
	source/screen.c:
		in rite(), do not increase new_scrolled_lines if we
		are redrawing.
	source/screen.c:
		in split_up_lines(), if we get a string that seems to
		be empty, don't pass it to malloc_strcpy() because we
		don't have a handle on the owner of the string.  in
		this case, we copy " " and then free it later.

Fri Mar  3 12:24:59 EST 2000 - matthew green <mrg@eterna.com.au>
	configure, configure.in, include/crypt.h, include/defs.h.in,
	include/edit.h, include/irc.h, include/ircterm.h, source/alias.c,
	source/cast.c, source/crypt.c, source/edit.c, source/icb.c,
	source/irc.c, source/ircsig.c, source/log.c, source/notify.c,
	source/parse.c, source/screen.c, source/sed.c, source/status.c:
		remove solaris warnings.  part of this changed meant going
		to more unsigned char uses in alias.c.  ideally, we should
		use unsigned chars everywhere but calling stdlib functions
		will cause warnings.
	source/help.c:
		manage the opening and closing of FILE *help_fp in a much
		saner way to stop it ever being used in an unstable fashion.

Fri Mar  3 02:29:06 EST 2000 - matthew green <mrg@eterna.com.au>
	help/bind/meta5_character, help/bind/meta6_character, help/bind/keys,
	help/bind/meta7_character, help/bind/meta8_character, include/edit.h,
	include/keys.h, include/keys.h.proto, include/struct.h, source/edit.c,
	source/empty_metakeys.inc, source/keys.c, source/screen.c:
		add meta[5678]_character /bindings.  we split the
		initialiser for meta[35678] out into empty_makekeys.inc
		because we use it 5 times.

Fri Mar  3 00:59:01 EST 2000 - matthew green <mrg@eterna.com.au>
	source/screen.c:
		in redraw_window(), if we have scrolled lines, lets
		redraw all of the displayed lines, rather than skipping
		the last line.  in scrollback_end(), reset
		new_scrolled_lines to 0 as well.  in scrollback_start(),
		call a series of next_line_back() calls to find out how
		many (output) lines there are in the last log (as opposed
		to individual lastlog entries, which may span several
		output lines), so that scrollback_start() can actually
		work correctly now.

4.4O
Thu Mar  2 23:15:18 EST 2000 - matthew green <mrg@eterna.com.au>
	source/debug.c:
		fflush(stderr); at the end of debug() -- just to make
		sure debug messages get written out in a timely fashion.
	include/screen.h, source/screen.c:
		make redraw_window() static to screen.c; it was the only
		user anyway.
	source/screen.c:
		modify redraw_window() to take an additional "backscroll"
		parameter and pass true in this parameter when calling the
		function from back/forward scrolling functions, and false
		elsewhere.  remove the "int skip" parameter from the
		next_line_back() function.  it causes the function to skip
		lines for what appears to be no good reason, and this is,
		in addition to the above change to redraw_window() have
		cause the majority of scroll bugs.

Thu Mar  2 00:17:18 EST 2000 - matthew green <mrg@eterna.com.au>
	source/server.c:
		add support for [server]:port addreses, including
		[IP:v6] style ones, so that one can use IPv6 addresses
		as well as ports, nicks, etc.
	include/irc.h, include/vars.h.proto, include/vars.h, source/irc.c,
	source/vars.c:
		implement /set irchost; from <tristan@ethereal.net>
	help/set/irchost:
		add documentation for above.
	include/config.h.dist, include/config.h.lynx, include/vars.h,
	include/vars.h.proto, source/numbers.c, source/vars.c,
	help/set/no_ask_nickname:
		implement /set no_ask_password on; stops reset_nickname()
		in numbers.c from prompting the user for a password, so
		that a script can take care of the error instead.
	include/output.h, include/status.h, source/irc.c,
	source/output.c, source/screen.c, source/status.c:
		convert all signal handlers (except for coredump()) to
		the `set a variable, return, and let someone else perform
		the task we want' style.  ie, don't be unsafe in signal
		handlers and call things like stdio and malloc!
	source/icb.c:
		handle many /ignore requests.

Wed Mar  1 21:17:19 EST 2000 - matthew green <mrg@eterna.com.au>
	Makefile.in, configure, configure.in:
		ignore CVS dirs when installing things more
		carefully.  support `$DESTDIR' in Makefile.in
		(this from Arkadiusz Miskiewicz <misiek@pld.org.pl>),
		and use @libdir@ and @mandir@ rather than using
		${prefix}/foo for these.
	source/ircaux.c:
		use index(foo, ' '); over sindex(foo, " "); from
		Mark Mielke <mark@mielke.cc>.
	source/edit.c, help/exec.c:
		fix typos; from Mark Mielke <mark@mielke.cc>.
	source/status.c:
		remove the uses of the global "buffer" from status.c.
		inspired by a PR from Mark Mielke <mark@mielke.cc>
	source/edit.c, source/screen.c:
		make sure we translate everything, even in dumb mode,
		everywhere.  from: Alexander Trump <assa@assa.tlt.ru>.
	source/edit.c:
		fix /set auto_unmark_away variable; it has been broken
		for at least 5 years.  fixes PR#377.
	source/alias.c, help/alias/functions:
		implement wincols() and winrows() functions that return
		the number of columns and rows (respectively) in the
		current window, or -1.
	source/wserv.c, configure.in, configure, acconfig.h:
		fix AIX support.  mostly from Graovac
		<ddavid@lamar.ColoState.EDU>.
	source/server.c, source/window.c:
		server_itsname() return "<None>" for no server name.
	source/edit.c:
		yell() not say() when we don't load an executable file.
	script/2.8script:
		remove some damage.
	source/names.c:
		avoid adding channel "0" to the channel list. PR#277
	source/exec.c:
		/exec output is level crap by default; make it so.
	source/dcc.c:
		if a /dcc get fails because we couldn't create the
		local file, _don't_ delete the offer from our list!
	source/queue.c:
		for `/queue' when no queue commands have ever been
		run, we used to dump core from calling toupper("Top").
		call toupper() on the copied string rather than on
		the passed in string.h, and then copying.  PR#403
	source/names.c, include/names.h:
		add support for +c (colourless) and +R (registered
		users only) channel modes.  from jim efaw in PR#420.
	source/names.c:
		add support to properly join !channels.
	source/crypt.c:
		fix /encrypt -sed when cast support also enabled.
		from Jim Efaw <jimefaw@eggroll.com>.

Tue Feb 29 19:52:50 EST 2000 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in,
	source/output.c:
		add checks for vasprintf(3), vsnprintf(3) and
		snprintf(3) (the latter not used in the ircII
		yet?).  rework the screen output routines (yell(),
		say(), put_it() and help_put_it() to use vasprintf()
		if it exists, then fallback vsnprintf() and finally
		back to vsprintf() like the old code.  this should
		allow lines with extremely large output (such as
		many-kilobyte aliases) to be displayed correctly
		(vasprintf()) or at least truncated (vsnprintf())
		and not dumping core.

Mon Feb 28 12:09:24 EST 2000 - matthew green <mrg@eterna.com.au>
	include/alias.h, source/alias.c, source/irc.c:
		malloc_str*() the space for char *command_line,
		rather than having a buffer in bss.
	include/ircaux.h, source/ircaux.c:
		add a malloc_strcat_ue() that unescapes backslashes
		(like strmcat_ue()).
	source/alias.c:
		modify expander_addition() and alias_special_char()
		to take a malloc() maintained buffer, rather than a
		BIG_BUFFER_SIZE one, by replacing str*() calls with
		malloc_str*() calls in many places.  remove a hack
		that would try to stop core dumps when this buffer
		became overflowed that now should never happen.
		modify alias_expand() to use the changed functions
		from above, including malloc_strcat_ue().  also,
		remove BIG_BUFFER_SIZE from the rest of alias.c:
		alias_currdir(), function_strip(), function_encode(),
		function_decode(), function_dcclist(),
		function_chatpeers(), function_chanusers(),
		note: function_pid(), function_ppid() and
		function_idle() all use the global "buffer" still.
	source/edit.c:
		remove a dependancy on BIG_BUFFER_SIZE in parse_line().
		note all the uses of BIG_BUFFER_SIZE and the global
		"buffer".  yes, it is time to get rid of the global
		buffer and the BIG_BUFFER_SIZE define.


Sun Feb 27 18:46:01 EST 2000 - matthew green <mrg@eterna.com.au>
	source/window.c, include/window.h:
		add a 'Win_Trav' that we use in window_traverse()
		now, as our status of where we are in traversal.
		note that we have to set:
			Win_Trav stuff;
			stuff.flag = 1;
		before calling window_traverse initially.
	include/vars.h.proto, include/vars.h, source/screen.c,
	source/vars.c, help/set/xterm_path:
		add /set xterm_path <path>

Sun Feb 27 18:02:08 EST 2000 - matthew green <mrg@eterna.com.au>
	source/window.c:
		fix window_get_connected() to note the nick to use
		once a server is found, if the nick isn't already
		specified.  fixes problem with multiple server:port
		combinations with different nicks.

4.4N
Sun Feb 27 12:36:35 EST 2000 - matthew green <mrg@eterna.com.au>
	include/window.h, source/server.c, source/window.c:
		rename set_window_server() to window_set_server().
	source/window.c, source/server,c. source/notice.c,
	source/irc.c, source/numbers.c, include/server.h:
		retire WIN_OLDCONN flag.  this means we can revert
		get_connected() to take only one argument.  in
		window_set_server(), always transfer the channels
		to the new server if WIN_TRANSFER, because
		WIN_OLDCONN is now gone.

Sat Feb 26 13:41:31 EST 2000 - matthew green <mrg@eterna.com.au>
	script/icb, source/edit.c:
		deal with /join, /invite, /who, /nick and /topic in
		the script.
	source/parse.c:
		give all static functions a `p_' prefix like about
		1/2 of them already have.

Sun Feb 13 03:00:37 EST 2000 - matthew green <mrg@eterna.com.au>
	include/hook.h, include/hook.h.proto, source/hook.c,
	source/window.c, help/on/window_swap:
		add new hook WINDOW_SWAP that is triggered when ever
		a window is swapped.
	include/struct.h, source/edit.c, source/names.c, source/screen.c,
	source/window.c:
		revert /window bind to original behavior: property of
		a window, not a channel.

Tue Feb  1 16:40:18 EST 2000 - matthew green <mrg@eterna.com.au>
	source/icb.c:
		deal with the fact that ICB groups can be renamed.

Mon Jan 31 15:01:41 EST 2000 - matthew green <mrg@eterna.com.au>
	source/icb.c, source/edit.c:
		change icb_put_msg2() to honour window_dislay, and
		using this implement /whois for ICB mode (as
		"/m server whereis").

4.4M
Fri Jan  7 09:55:29 EST 2000 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in,
	source/irc.c, source/ircaux.c, source/server.c:
		add IPv6 support from Arkadiusz Miskiewicz
		<misiek@misiek.eu.org> as given in PR#402.
	source/icb.c:
		make SHOW_CHANNEL_NAMES work on ICB.

Tue Dec 21 02:38:00 EET 1999 - Joel Yliluoma <bisqwit@iki.fi>
	source/edit.c, help/cat:
		added /CAT command to easify avoiding security
		risks when otherwise /exec cat would be used.
		/CAT adds a line to specified file (to end).

Sat Dec 18 22:32:18 EST 1999 - matthew green <mrg@eterna.com.au>
	help/icb:
		fix some typoes from <kleink@serpens.swb.de> in
		PR#395.
	Makefile.in:
		regenerate dependancies after adding ircflush.c
		to the list of them.  this fixes PR#396.
	configure.in:
		s/PREFIX/prefix/ so that it it works.
	ircbug.in:
		automatically determine how to suppress newlines,
		fixing PR#398.
	source/edit.c:
		re-set from_level correctly in my_echo; fixes PR#387,
		#399 and #412 (patch supplied in this one from Hans
		Hasselaar <hansh@ircnet.dk>).

Thu Dec  9 21:42:41 EST 1999 - matthew green <mrg@eterna.com.au>
	script/default:
		new script that is a suggested default `.ircrc'
		for people to use.
	script/times:
		new script that adds times to msgs, dcc and channel
		traffic.
	script/otherstatus:
		new script to let you have a bold or underlined
		status bar.
	all the above are derived from parts of mrg's setup.

Thu Dec  9 15:08:09 EST 1999 - matthew green <mrg@eterna.com.au>
	soruce/icb.c:
		one can now send long lines and have them broken
		up correctly.

Sat Oct 23 06:10:21 EEST 1999 - Joel Yliluoma <bisqwit@iki.fi>
	source/screen.c:
		fixed the mirc colour support, did not work correctly.
	help/set/make_notice_msg:
		described MAKE_NOTICE_MSG

Wed Oct 20 21:11:56 EST 1999 - matthew green <mrg@eterna.com.au>
	help/load/screen, help/load/tabkey, scripts/tabkey,
	scripts/screen:
		move default ^X^X binding to `screen' script, and
		make it swap scripts, like screen(1) does.

Wed Sep  8 03:07:24 EEST 1999 - Joel Yliluoma <bisqwit@iki.fi>
        source/parse.c, source/vars.c, include/vars.h.proto
                added boolean set MAKE_NOTICE_MSG

Sat Sep  4 19:03:22 EEST 1999 - Joel Yliluoma <bisqwit@iki.fi>
        help/alias/functions
                described the hasvoice() and dcclist() functions.
                described the chatpeers() function.
        source/alias.c
                added chatpeers() function.

Sun Jul 25 05:50:15 EEST 1999 - Joel Yliluoma <bisqwit@iki.fi>
        source/alias.c, source/names.c, source/irc.c
                added .ircquick file support.
                added hasvoice() and dcclist() functions.

4.4L
Mon Aug 23 21:43:51 EST 1999 - matthew green <mrg@eterna.com.au>
	configure.in, configure, source/ircaux.c, include/config.h.dist,
	include/config.h.lynx, include/defs.h.in:
		fix up ZCAT/ZSUFFIX auto-finding support to work and
		be used.
	Makefile.in:
		set help & translation paths properly when building
		both help.c and translation.c.

Mon Aug 23 19:52:26 EST 1999 - matthew green <mrg@eterna.com.au>
	configure.in, configure, acconfig.h, include/defs.h.in:
		add SOCKS version 5 support (from agc@netbsd.org).
	Makefile.in:
		fix some more $(srcdir) lossage with autoconf
		and autoheader runs.
	source/server.c:
		make sure varaiable is not uninitialised (from
		agc@netbsd.org).

Mon Aug 23 12:30:29 EST 1999 - matthew green <mrg@eterna.com.au>
	configure.in, configure, Makefile.in, include/Makefile.in,
	include/config.h, source/Makefile.in:
		add support for building outside of the source
		tree, largely from glen.  config.h.dist is copied
		to the build tree now.  neat.

4.4K
Sun Aug 22 04:07:03 EST 1999 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		fix usage string to be a real C string again.
	source/icb.c:
		fix an off by one error in long msg handling.

Sun Aug 22 01:32:35 EST 1999 - matthew green <mrg@eterna.com.au>
	INSTALL, configure, configure.in, include/irc.h, source/help.c,
	source/mail.c, source/wserv.c:
		add patches from Gerben_Wierda@RnA.nl to fix NeXT
		support.
	source/window.c:
		apply PR#378 from forcer: WINDOW KILL_OTHERS crashes
		with more than 2 windows.
	source/ircaux.c:
		do not copy a string onto itself.  it fails.  fixes
		several PRs: 379, 380, 381, 385, 386, 388 and 390.
	include/ircterm.h
		FreeBSD uses int/int for tputs function too.  maybe
		ncurses does?
	acconfig.h, configure, configure.in, include/defs.h.in:
		apply patch from Tod McQuillin <devin@lm.com> in
		PR#382 to fake a `ssize_t' for older systems.
	source/window.c:
		deal with CHANNEL_NAME_WIDTH == 0.  fixes PR#384.
	configure, configure.in:	
		--datadir is now used and sets where $IRCLIB exists
		(as ${datadir}/irc).  fixes PR#383.

Wed Jul 21 09:48:45 EST 1999 - matthew green <mrg@eterna.com.au>
	source/edit.c, help/brick:
		add `/brick channel nick' command.

4.4J
Thu Jul 15 12:18:44 EST 1999 - matthew green <mrg@eterna.com.au>
	help/load/icb, script/icb:
		add `/register'
	include/config.h*, include/server.h, include/icb.h,
	source/irc.c, source/server.c, doc/ircII.1:
		add -P switch to set deafult ICB port.  have a
		define `ICB_PORT' (that is 7326) for the default.
	source/cast.c, source/dcc.c, include/irc_std.h,
	include/cast_sbox.h:
		replace 'cast_t' with 'castkey' and 'u_32int_t'
		with 'u_32int' as _t is not my name space.
	source/cast.c:
		fix several bugs noted by Michael Katzenmayer
		<katzenmayer@erfnet.com>:  castkey had u_char instead
		of u_int, and some packaging problems introduced since
		the CBC changes.

Thu Jun 17 16:38:34 EST 1999 - matthew green <mrg@eterna.com.au>
	source/alias.c, help/alias/functions:
		new $SERVERTYPE() function that returns either
		`IRC2.X' (X between 5 and 11 so far), or `ICB'.
		idea from tristan@ethereal.net.

4.4I
Sat May 22 00:00:11 EST 1999 - matthew green <mrg@eterna.com.au>
	include/crypt.h:
		rename CAST128ED to CAST128ED-CBC so that newer
		implementations will fail to operate with prior
		versions, rather than attempt to work and lose.

Fri May 21 18:29:15 EST 1999 - matthew green <mrg@eterna.com.au>
	configure, configure.in, acconfig.h, include/defs.h.in,
	source/crypt.c:
		use /dev/urandom if possible.  avoid using the
		implementation namespace a bit...
	source/wserv.c:
		fix this for unix domain 4.4BSD machines.
	source/term.c:
		ensure we catch all ESC aliases...
	source/parse.c:
		let older /on join's work again.
	source/icb.c:
		make sure we properly disconnect a server.  for
		public and private messages, be sure not to overflow
		the 255 byte ICB limit.
	source/exec.c:
		for /exec's that have output elsewhere, make sure
		that they go to the right server.
	source/cast.c:
		change CAST-128 implmentation from EBC mode to CBC
		mode.  this is incompatible with previous versions
		but as EBC is less secure, too bad.

Mon Mar  8 14:13:54 EST 1999 - matthew green <mrg@eterna.com.au>
	configure, configure.in, acconfig.h, include/defs.h.in,
	source/cast.c, source/crypt.c:
		look for and, if we find it, use /dev/random as
		a source of randomness for crypto code.
	source/icb.c, source/edit.c, include/icb.h:
		add a new icb_put_funny_stuff() that handles doing
		irc-like /names and /list.
	script/global:
		load tabkey & icb by default.

Fri Mar  5 15:24:11 EST 1999 - matthew green <mrg@eterna.com.au>
	include/server.h, script/icb, source/edit.c, source/icb.c,
	source/irc.c, source/parse.c, source/server.c,
	source/whois.c source/window.c:
		add an extra argument to the parse_server_info()
		stuff, that returns anything beyond the nick.
		this is used by the ICB code to set default group
		and mode.  you can specify that a server is ICB
		in the IRCSERVER and related lists by prepending
		it with IRC/.  eg set IRCSERVER to:
		`ICB/icb.network.net:7326::mynick:channel'.

4.4H
Thu Mar  4 19:42:31 EST 1999 - matthew green <mrg@eterna.com.au>
	include/server.h, source/numbers.c, source/server.c,
	source/window.c:
		connect_to_server() and find_in_server_list() both
		take a "nick" argument now.  server lists are unique
		now only if the nickname is the same.
	source/icb.c:
		parse status messages for signon/signoff/arrive/depart
		and convert them to join/leave hooks.
	source/screen.c:
		deal with no current_screen.  helps with output
		functions run during client startup not dumping core.
		update fwrite() tests to be consistent.

Thu Mar  4 18:54:08 EST 1999 - matthew green <mrg@eterna.com.au>
	include/hook.h, include/hook.h.proto, source/edit.c,
	source/hook.c, source/icb.c, source/irc.c, source/server.c:
		add hooks for ICB stuff.  implement two new hooks
		for ICB only stuff: ICB_STATUS and ICB_ERROR, for
		icb status and error messages.  all others go via
		server_notice, msg, public, send_msg, send_public
		which exist.  more to come.

Thu Mar  4 17:56:26 EST 1999 - matthew green <mrg@eterna.com.au>
	source/irc.c, source/icb.c, source/server.c,
	include/server.h:
		fix -irc/-icb args to skip the rc/cb bit.  add
		a icb group concept, separate to the irc channels.

Thu Mar  4 14:24:25 EST 1999 - matthew green <mrg@eterna.com.au>
	include/irc.h, include/server.h, source/irc.c,
	source/server.c, source/window.c:
		if run as "icb", default to icb.  add -irc/-icb
		switch to the command line, and -irc to both
		/window server and /server.

Thu Mar  4 13:10:41 EST 1999 - matthew green <mrg@eterna.com.au>
	source/ctcp.c:
		dcc actions to the right window. from forcer.
	configure, configure.in:
		cast recv() address argument to (struct sockaddr *)
		to let it compile, and let the nonblock test have a
		chance at working.  from forcer.
	source/numbers.c:
		print a channel not available message even if we
		don't understand it properly, so that the user gets
		the message anyway.
	contrib/README, (removed contrib/colour and contrib/colour.orig),
	include/config.h*, include/irc.h include/vars.h.proto,
	include/vars.h, source/screen.c, source/vars.c:
		add a /set colour to mimic mIRC-style colours.  it
		does not use termcap colour stuff, as no one uses
		those anyway.  at least on IRC.  this is sarayans
		original patch as maintained by forcer, and what
		was originally in the contrib directory.
	source/dcc.c:
		print ip:port for dcc send.  from forcer.

Wed Mar  3 18:06:17 EST 1999 - matthew green <mrg@eterna.com.au>
	source/newio.c, include/newio.h:
		add a "dgets_separator" that lets you change the
		"end of line" charater. this is useful for ICB
		where it is a nul, not a newline.
	help/icb, include/icb.h, include/server.h, script/icb,
	source/Makefile.in, source/edit.c, source/icb.c, source/irc.c,
	source/notify.c, source/server.c, source/window.c:
		add elementary ICB support.  /server -icb host port
		should do the right thing, and let you join channels,
		see messages, send then.  a new /icb command lets you
		have access to all the icb commands, and most IRC
		commands that make sense in this context (/nick,
		/topic, /version, /msg, /join, etc) have been modified
		to know the are talking to an ICB server and pass the
		users request off to the icb code to handle.  this
		uses the new dgets_separator() for ICB server
		connection processing.
		this is missing hooks and stuff, but it should be at
		least usable for now.  i expect to add hooks and stuff
		shortly.  the script adds aliases for icb commands
		(/group, /boot, /pass, etc.), and the help file is
		fairly useless...

4.4G
Sun Feb 28 13:37:48 EST 1999 - matthew green <mrg@eterna.com.au>
	source/screen.c:
		use ssize_t for the length, and cast it to size_t
		where needed, to avoid it overflowing.
	various:
		use __SVR4 as the canonical SVR4 preprocessor
		define, as it is.
	source/hook.c, include/hook.h.proto, include/hook.h, help/on/join:
		/on join takes 3 args.
	configure.in, acconfig.h, source/dcc.c:
		add writev & <sys/uio.h> check and use it if possible.
	doc/ircII.1:
		document the -b flag.
	source/server.c:
		call the right parse_server() routine in all cases.
	source/ctcp.c:
		be saner about PARANOID.
	source/dcc.c, source/ctcp.c, source/crypt.c, source/cast.c,
	source/edit.c, include/crypt.h:
		convert to a "crypt_key" type for crypto keys, rather
		than passing around char *'s.  this lets the key be
		opaque and let the crypto engine hide in here.
	source/ctcp.c, source/crypt.c, source/cast.c source/sed.c,
	include/crypt.h, include/ctcp.h, help/encrypt:
		split SED code into sed.c.  allow more than one type
		of crypto system to be compiled in.  currently there
		is only support for SED and CAST-128.

4.4F
Tue Feb  9 21:30:37 EST 1999 - matthew green <mrg@eterna.com.au>
	source/crypt.c, source/ctcp.c, source/dcc.c:
		various bug fixes to crypto code.

Tue Feb 02 03:45:58 est 1999 - glen mccready <glen@qnx.com>
	source/exec.c, help/exec:
		add /exec -target.
		
Sun Jan 03 20:19:54 est 1999 - glen mccready <glen@qnx.com>
	source/alias.c:
		more functions, winsrvr() and winsrvrgrp() to return
		the windows server and server_group.
	source/window.c:
		make "window query" work like "query".

Sun Jan 03 17:21:02 est 1999 - glen mccready <glen@qnx.com>
	source/alias.c:
		add a couple of useful functions.  one, winvis(), to
		tell you if a window is visible.  another, querynick(),
		to tell you what nick, if any, a window is queried to.

Sun Jan 03 12:42:44 est 1999 - glen mccready <glen@qnx.com>
	source/window.c:
		allow "window channel #chan,key" to work.

4.4E
Sun Nov  8 16:23:19 EST 1998 - matthew green <mrg@eterna.com.au>
	source/cast.c:
		be defensive about putting the final nul back in
		to the string: it can never be >7 as the blocksize
		is 8...
	source/ctcp.c:
		quote ':' with a standard quote character in
		ctcp_quote_it() as do_ctcp() treats : specially (if
		it is the first char of a string).  the avoids
		accidentally losing the first character of a string.

Fri Nov  6 19:33:31 EST 1998 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/alias.h,
	include/ctcp.h, include/dcc.h, include/defs.h.in, include/edit.h,
	include/hold.h, include/hook.h, include/if.h, include/input.h,
	include/irc.h, include/irc_std.h, include/ircaux.h,
	include/ircterm.h, include/keys.h, include/keys.h.proto,
	include/menu.h, include/names.h, include/output.h,
	include/screen.h, include/server.h, include/translat.h,
	include/vars.h, include/window.h, source/alias.c, source/cast.c,
	source/crypt.c, source/ctcp.c, source/dcc.c, source/debug.c,
	source/edit.c, source/exec.c, source/file.c, source/flood.c,
	source/funny.c, source/help.c, source/history.c, source/hold.c,
	source/hook.c, source/if.c, source/ignore.c, source/input.c,
	source/irc.c, source/ircaux.c, source/ircflush.c, source/ircio.c,
	source/ircsig.c, source/keys.c, source/lastlog.c, source/list.c,
	source/log.c, source/mail.c, source/menu.c, source/names.c,
	source/newio.c, source/notice.c, source/notify.c,
	source/numbers.c, source/output.c, source/parse.c, source/queue.c,
	source/reg.c, source/scandir.c, source/screen.c, source/server.c,
	source/stack.c, source/status.c, source/term.c, source/translat.c,
	source/vars.c, source/whois.c, source/window.c, source/wserv.c:
		make (almost) compile with quite anal gcc flags under
		NetBSD 1.3H, quietly.  this adds support for finding
		a locally delcared "errno", and also removes a bunch of
		the old STDC crap with passing char's to functions.
		also fixed a few bugs that were found!

4.4D
Fri Nov  6 02:38:34 EST 1998 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		add untested code for using writev if available.
		also, fix dcc chat encryption.
	source/irc.c, source/notice.c, source/parse.c, source/whois.c:
		clean up "int sed;" processing.

Wed Oct 28 12:11:10 EST 1998 - matthew green <mrg@eterna.com.au>
	source/dcc.c, source/flood.c, source/irc.c, source/ircaux.c,
	source/numbers.c, source/parse.c, source/server.c,
	source/window.c, include/irc.h:
		remove NICKNAME_LEN. make nicks dynamically allocated.
		this is so ircII works on blundernet.
	source/dcc.c:
		fix some problems with encrypted dcc chat.  still not
		totally working...

4.4C
Sun Sep 27 12:18:08 EST 1998 - matthew green <mrg@eterna.com.au>
	source/screen.c:
		fix flash-style attacks, by checking for characters
		0-32 with the high-bit set (128->160) and performing
		the same alternation on those.
	contrib/README, contrib/colour, contrib/colour.orig:
		add the new colour patch from PR#332, moving the old
		one to colour.orig.  from forcer.
	source/alias.c:
		use the current server for $A and $N expansion, not
		the current window.  from flier@globecom.netin pr 300.

Sun Sep 27 02:28:08 EST 1998 - matthew green <mrg@eterna.com.au>
	translation/POLISH, translation/POLISH_NOPL:
		fixed polish translation tables, from Piotr Kucharski
		<chopin@sgh.waw.pl> in pr#344.
	source/edit.c, include/edit.h:
		make /timer server-aware.  from flier in pr#295.

Sat Sep 26 12:36:02 EST 1998 - matthew green <mrg@eterna.com.au>
	source/alias.c:
		fix $rindex(), using patch in pr335 from Tristan Horn
		<tristan@ethereal.net>.
	source/numbers.c:
		if we get end of motd, and we haven't seen a 002 or
		version notice, fake one up...

Sat Sep 26 03:58:30 EST 1998 - matthew green <mrg@eterna.com.au>
	source/server.c, source/window.c, source/numbers.c,
	source/help.c, source/dcc.c:
		change {save,restore}_message_from() into a queue so
		that now that we use them for every message_from(),
		info is not by too save_ callers before a restore_.
		fix some of the callers of these functions to work
		properly in the presence of a queue.

Wed Sep 23 00:51:22 EST 1998 - matthew green <mrg@eterna.com.au>
	source/notice.c:
		allow server notices to see the 1st parameter as it
		comes from the server, as it may be a channel.  from
		galibert@iria.mines.u-nancy.fr (Olivier Galibert) in
		pr#239.
	script/2.9script:
		deal with PR#217 sanely now we have the above.
	configure, configure.in:
		check for gcc on QNX (from glen).
	source/numbers.c:
		deal with number 405. fixes pr#336.
	source/alias.c:
		fix overflow in eval echo [3232235777/255].
	configure, configure.in: source/exec.c:
		don't go past the end of the signals array.
	source/log.c:
		fix core dump through nulref from flier in pr#334.

Tue Sep 22 20:38:16 EST 1998 - matthew green <mrg@eterna.com.au>
	source/alias.c, source/ctcp.c, source/dcc.c, source/edit.c,
	source/funny.c, source/help.c, source/lastlog.c, source/mail.c,
	source/names.c, source/notice.c, source/notify.c, source/numbers.c,
	source/parse.c, source/server.c, source/whois.c, source/window.c:
		rework message_from() usage:  now we use the two handy
		functions {save,restore}_message_from() a lot throughout
		the tree (when using message_from()).  this ensures that
		the from level/message level/from who/etc are all set
		correctly at all times.  also fix a few bugs here.
		/notify, /help, ctcp messages and several other systems
		were not properly restoring or setting the levels.  this,
		i believe, is the cause of random messages going to the
		wrong place, extremely rarely.  i belive i have fixed
		all of these problems now, and perhaps not broken anything.
		also fix temporary setting of from_server that did not
		restore the previous value.
	source/alias.c:
		avoid using from_server or parsing_server_index as an index
		if it is < 0.

Wed Sep 16 11:04:45 EST 1998 - matthew green <mrg@eterna.com.au>
	source/history.c:
		create the .irchist file mode 600.
	include/names.h, include/server.h, source/funny.c,
	source/names.c, source/parse.c, source/status.c:
		support irc 2.10 modes, from <kalt@stealth.net>.

4.4B
Tue Sep  8 00:43:18 EST 1998 - matthew green <mrg@eterna.com.au>
	INSTALL, Makefile.in, easyinst:
		remove easyinst, document --with[out]-cast.

Mon Sep  7 18:33:01 EST 1998 - matthew green <mrg@eterna.com.au>
	source/irc.v, doc/VERSIONS:
		bump version to 4.4B, due to the CAST-128 support.
	configure, configure.in:
		change --with-cast to support `=no', and also if we
		find source/cast.c, enable cast support.  fix alignment
		of some strings for --with-cast and --with-paranoid.

Mon Sep  7 15:11:57 EST 1998 - matthew green <mrg@eterna.com.au>
	source/cast.c, source/crypt.c, source/ctcp.c, include/crypt.h,
	include/cast_sbox.h, acconfig, configure configure.in:
		add a --with-cast switch to configure, to enable built-in
		CAST-128 encryption support, rather than the old broken
		crypt.  requires cast.c and cast_sbox.h that will *not*
		be distributed with ircII by default.

Sat Sep  5 21:39:36 EST 1998 - matthew green <mrg@eterna.com.au>
	source/crypt.c, help/encrypt, help/set/old_encrypt_program,
	help/set/encrypt_program:
		change encrypt_program to write key as first line,
		rather than insecure cmd line argument.  add a new
		`old_encrypt_program' (default off) variable to use
		the old API.  XXX the exec code here has lots of
		syscalls with no return values checked XXX.

Tue Jun  2 18:48:39 EST 1998 - matthew green <mrg@eterna.com.au>
	source/queue.c:
		fix core dumps.  pr#298.
	doc/ircII.1:
		document the "global" script.  pr#315.

Tue Jun  2 18:13:09 EST 1998 - matthew green <mrg@eterna.com.au>
	help/window/bind, help/window/unbind:
		new help files.
	script/nocolour:
		stop mIRC colour crap.
	source/server.c:
		match server name correctly.  noted in pr#301.
	source/dcc.c:
		print ip/port in dcc requests.  per pr#325.
	source/crypt.c:
		call setgid() before setuid().  call wait() after exec().
		there are still MANY system calls with unchecked return
		values here but at least it seems to work now.  at least
		with `/usr/games/caeser' as the encryption program, and 13
		as the key (rot13 :).
	configure.in, configure:
		AMS mail is ~/Mailbox as a directory, not a file.  this
		fixes problems with qmail installations.

Tue Jun  2 16:11:05 EST 1998 - matthew green <mrg@eterna.com.au>
	source/names.c:
		initialise new->status, which fixes the "channel leave"
		bug, noted in several PR's (fix from 328).
	source/mail.c:
		use my_strnicmp().  from mark.
	configure, configure.in, acconfig.h, include/defs.h.in, source/ctcp.c:
		add a --with-paranoid switch which disables the "bad" parts of
		ctcp version/finger replies.
	source/ctcp.c, source/dcc.c, source/edit.c:
		allow dcc channels to have (only) ctcp queries.  involved some
		interface changes to send_ctcp() and related functions.  for now,
		no replies are generated -- there is no privmsg/notice in a dcc
		chat connection.
	source/ctcp.c:
		ensure ctcp functions that return data return it in a malloced
		string, and ensure that the caller cleans this up.  should fix
		several problems noted over the last several years.
	source/dcc.c, include/irc.h:
		avoid buffer overflows in dcc chat connections.  noted by forcer.

Fri Jan 12 02:20:00 EST 1997 - glen mccready <glen@qnx.com>
	source/edit.c, source/exec.c, source/screen.c, source/server.c,
	source/status.c, source/ircio.c, source/ircflush.c, source/irc.c,
	source/wserv.c, source/names.c, source/dcc.c, source/scandir.c,
	source/help.c, include/scandir.h:
		clean up some warnings. prototype scandir. make sure
		notify_mark is prototyped where it's used.  fudge some
		qnx defaults further in configure.
	source/queue.c:
		fix segv (pr#292).
	source/vars.c:
		fix "/set logfile ~/blah".
	source/ircaux.c, source/alias.c, include/ircaux.h:
		add srindex() to compliment sindex().  used by $rindex().
	source/output.c:
		fix bug in end-of-string handling.

Fri Jan  9 23:44:00 EST 1997 - glen mccready <glen@qnx.com>
	source/ctcp.c:
		fix missing toupper().

4.4
Sun Dec  7 13:25:24 EST 1997 - matthew green <mrg@eterna.com.au>
	source/screen.c:
		fix PR211 from krys:  make scrolling work a bit better.

Thu Dec  4 11:25:13 EST 1997 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		fix PR280:  don't set SERVERREQ for /msg as it breaks
		dcc chat and /disconnect-ed.

Tue Nov 25 16:52:31 EST 1997 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		hack:  fix pr272:  set lastlog/loglevel to CRAP for
		xecho -window.
	source/numbers.c:
		fix pr273:  numerics 471, 473, 474, 475 and 476 need
		to be caught my the client before hooking.  do so.
	source/notice.c:
		fix pr274 (i think, i can not test this):  if the server
		doesn't give a 'normal' 002 numeric, don't totally lose.
		pretend it's a 2.9 server and go from there.
	source/ctcp.c, source/edit.c:
		from flier in pr275:  don't free the return value of
		crypt_msg().
	source/lastlog.c:
		fix pr276:  free the malloced copy, and use strncmp().

2.9beta2
Mon Nov 10 15:06:55 EST 1997 - matthew green <mrg@eterna.com.au>
	source/names.c, source/names.h:
		cleanup mode string code.  fix bug while i'm here...

2.9beta1
Mon Nov 10 11:36:56 EST 1997 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		giver user indication of SQUERY (idea from kalt).
	source/names.c:
		add modes a and q.  should parse server numeric for
		this info at connect time.  (from kalt) also, don't leak
		a channel (from flier).
	source/parse.c:
		if is_channel() is called with NULL, return 0  (from
		vps@unicorn.niimm.spb.su)
	source/window.c:
		make /window remove deal with ^foo as a nick (from flier).
	source/numbers.c:
		add a hook for numeric 437.
	source/irc.c, source/hook.c, source/notice.c, source/server.c:
		change get_connected() to take an oldconn parameter, that
		makes it set WIN_OLDCONN when moving channels.  update
		callers of this.
	script/dccchan, help/load/dccchan:
		add ian frechette's dccchan implementation.

Thu Oct  9 00:09:42 EST 1997 - matthew green <mrg@eterna.com.au>
	source/vars.c, source/alias.c:
		send output of non-singual versions of /set, /assign
		and /alias to window level crap, like it used to do.
		eg, '/set foo' will go to crap, but '/set foo bar'
		will go to the current window.

Thu Sep  4 13:45:03 EST 1997 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		use send_2comm() for squery.
	help/squery, help/servlist:
		document these new commands.
	README:
		duh! update my address to eterna, not mame.
	INSTALL:
		make a note about the fuckage that happens with
		BIND 8 being installed into /usr/local.

2.9alpha8
Sun Aug 31 15:21:53 EST 1997 - matthew green <mrg@eterna.com.au>
	script/2.9script, help/load/2.9script:
		new files:  contain code to deal with 2.9 server
		messages and stats p output.  from kalt in pr#217.
	source/names.c, source/edit.c, source/window.c:
		don't use a server index if it is -1.  fixes some
		crashes.  from flier@ferlin.fri.uni-lj.si in pr#222
		and pr#223.
	source/window.c:
		fix error in displays, from flier@ferlin.fri.uni-lj.si
		in pr#228.
	source/dcc.c, source/names.c:
		don't forget to free some things, from sarayan in pr's
		232 and 234.
	source/server.c:
		fix out-of-bounds bcopy() that was causing lots of havoc
		after /server -delete.  from sarayn in pr#238.
	source/server.c:
		don't trash parsing_server_index, from sarayan in pr#240.
	source/edit.c:
		add SERVLIST and SQUERY as comments (for ircd 2.9), using
		send_comm().  this may not be correct and these commands
		may simply fail.
	script/version:
		update for 2.9.

2.9alpha7
Tue Jun  3 22:34:10 EST 1997 - matthew green <mrg@eterna.com.au>
	source/keys.c:
		pass the args in /parse.  fixes PR#236.  from sarayan.
	source/server.c:
		don't send whois foo and whois !foo.  fixes PR#85.
		also from sarayan.
	source/parse.c:
		don't use `level' if we haven't set it!  also from
		sarayan.

Thu May 22 04:53:00 EST 1997 - glen mccready <glen@qnx.com>
	source/irc.c, source/ircaux.c:
		add '-h host' for specifying the local address for
		multi-homed boxes.

Wed May  7 17:55:56 EST 1997 - matthew green <mrg@eterna.com.au>
	source/edit.c, help/save:
		add new SERVERREQ flag to irc_commands[] that
		requires that we be connected to a server for this
		command to be run.  fixes problems noted in pr#222
		and pr#223.
		implement /save -force, to skip the question asking.

Mon May  5 19:13:32 EST 1997 - matthew green <mrg@eterna.com.au>
	source/ignore.c:
		rework a sentence.
	sourec/dcc.c:
		make dcc sent/read byte counts correct under systems
		with off_t > long (eg, NetBSD/sparc), by casting
		arguments for "%ld" to (long).

2.9alpha6
Mon Apr 21 16:35:57 EST 1997 - matthew green <mrg@eterna.com.au>
	source/hook.c:
		minor fix for previous.

Mon Apr 21 01:12:22 EST 1997 - matthew green <mrg@eterna.com.au>
	source/hook.c:
		fix Add_Remove_Check stuff, from Sarayan.
	source/names.c:
		fully initialise channel.  from sarayan.
	source/vars.c:
		handle DEFAULT_LOG being on.
	contrib/README, contrib/random_nick:
		Kalt's random nick patch.

2.9alpha5
Sun Apr 20 20:51:01 EST 1997 - matthew green <mrg@eterna.com.au>
	source/alias.c, source/crypt.c, source/dcc.c, source/edit.c,
	source/exec.c, source/hook.c, source/keys.c, source/lastlog.c,
	source/vars.c:
		purify found several memory leaks i introduced some
		months ago.  thanks sar.
	source/alias.c:
		alias_xxx() functions don't allocate their return value.

Sun Apr 20 19:41:53 EST 1997 - matthew green <mrg@eterna.com.au>
	contrib/README, contrib/japanese_support:
		put PR#203 from Sarayan into the contrib directory,
		so that people needing ISO2202 (japanese) support
		can have it.

Sun Apr 20 18:43:33 EST 1997 - matthew green <mrg@eterna.com.au>
	contrib/README, contrib/colour:
		put PR#202 from Sarayan into the contrib directory,
		so that people wanting colour can have it.

Tue Apr 15 01:58:44 CDT 1997 - scott reynolds <scottr@og.org>
	acconfig.h, include/defs.h.in:
		don't use non-blocking connects if SOCKS support
		is enabled.

2.9alpha4
Tue Apr 15 02:29:48 EST 1997 - matthew green <mrg@eterna.com.au>
	source/output.c:
		increase the buffer size, as suggested by
		<flier@ferlin.fri.uni-lj.si> in pr#201.

Tue Apr 15 02:13:11 EST 1997 - matthew green <mrg@eterna.com.au>
	source/window.c:
		handle /window double correctly.  from
		<flier@ferlin.fri.uni-lj.si> in pr#198 & pr#200.
		normalise some formats.
		when swapping channels and windows, don't do
		disconnected windows.  pr #182, pr#191 & pr#196
	help/window/sticky:
		initial document on this commmand.

Tue Apr 15 01:11:48 EST 1997 - matthew green <mrg@eterna.com.au>
	source/mail.c:
		minor optimisation.
	source/server.c:
		default to /WINDOW STICKY.
	source/screen.c, source/window.c, include/window.h:
		remove WIN_LOGLEVEL.

Wed Apr  2 16:04:04 EST 1997 - matthew green <mrg@eterna.com.au>
	include/ircterm.h
		add __GNU__ (the hurd) to the int/int putchar_x
		crowd.  this was the only change required!
	source/edit.c:
		patch from Sarayan to fix some errors caused by me,
		and some clean up, for the channel commands.  pr#190.

Wed Mar 26 18:11:22 EST 1997 - matthew green <mrg@eterna.com.au>
	include/ircterm.h:
		#ifdef __sgi, then int putchar_x(int) is correct.
		this works for IRIX5 and IRIX6.  if it doesn't
		work, blame sarayan.

2.9alpha3
Wed Mar 26 15:50:50 EST 1997 - matthew green <mrg@eterna.com.au>
	NEWS:
		updated for `2.9'

Wed Mar 26 14:33:56 EST 1997 - matthew green <mrg@eterna.com.au>
	source/names.c:
		leave kicked channels in CHAN_LIMBO.
	source/status.c:
		don't cut of domains of irc servers called "irc.".
	source/dcc.c, source/screen.c:
		deal with /window add =nick properly.
	source/window.c:
		change add_nicks_by_refnum() so that you can
		explicitly add/delete with a new parameter.  allows
		the caller to _NOT_ have to malloc a new string for
		prepending a ^ on it.
	help/help, help/load/help, help/set/help_pager,
	help/set/help_service, help/set/help_prompt, script/help,
	source/help.c, source/vars.c, include/vars.h.proto,
	include/vars.h:
		remove help_service, and re-implement it as a help
		script.
	source/server.c, source/window.c:
		finish /server . that glen started at my urging.
	include/ircterm.h:
		Linux and AIX use int/int for tputs.
	source/edit.c:
		fix a few commands, and make leave comments work
		properly.
	source/dcc.c:
		handle dcc send with "irc -S" by using MyIpAddr.
	source/numbers.c:
		reset the whois_queue() on numeric 001.
	source/dcc.c:
		don't use a filename if it's NULL.  from Sarayan.
	source/ircaux.c:
		don't free anything pointing as "empty_string".
		should prhaps do zero and one here also.
	configure, configure.in:
		look for /stand/vmunix as well as /hp-ux, before
		testing for HPUX.
	easyinst:
		deal with default server more sanely.

Sun Mar 23 03:24:48 EST 1997 - matthew green <mrg@eterna.com.au>
	help/alias/functions:
		fix index ^ desc.  from Stefan Le Breton
		<stlb@cs.tu-berlin.de>.

Sun Mar 23 01:59:45 EST 1997 - matthew green <mrg@eterna.com.au>
	source/parse.c, source/hook.c, include/hook.h.proto,
	include/irc.h:
		remove ON_KICK:  we always have it.
	Makefile.in:
		cp not ln config.h.dist to config.h.
	include/config.h.dist, include/config.h.lynx, include/vars.h,
	include/vars.h.proto, include/hook.h, include/hook.h.proto::
		add ctcp_reply* and status_group variables
	include/hook.h.proto, include/hook.h:
		add /on KICK as normal.

Wed Mar 19 06:10:03 METDST 1997 - Olivier Galibert  <galibert@loria.fr>
	source/ctcp.c, source/server.c, source/vars.c,
	include/server.h, include/vars.h, include/config.h,
	include/config.h.dist, include/config.h.lynx:
		Implement new way of doing CTCP reply flood
		protection. Read source/ctcp.c for details.
		Has been tested against multiple -- unasked for--
		flood attacks, never failed :-)

Fri Mar 21 16:26:45 EST 1997 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		from sarayan:  fix array out of bounds.
	source/lastlog.c:
		from StElb <stlb@cs.tu-berlin.de>: add lastlog
		-save <file>.
	source/numbers.c:
		handle number 437, for ircd 2.9.

Fri Mar 21 12:23:03 EST 1997 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		don't send "NAMES" for hostmasked channels (eg,
		#foo:*.edu).  fixes PR#187
	source/dcc.c:
		fix pr#131:  handle dcc send with irc -AS.

Thu Mar 20 17:56:47 EST 1997 - matthew green <mrg@eterna.com.au>
	translation/POLISH, translation/POLISH_NOPL,
	help/set/translation:
		add POLISH translation tables from Piotr 'Beeth'
		Kucharski <chopin@sgh.waw.pl>
	script/global, help/ison:
		add /ISON command.

2.9alpha2
Wed Mar 19 14:42:24 EST 1997 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		fix bug pointed out by sar:  don't use filename if
		it is NULL.
	source/vars.c:
		fix bug pointed out by shadow@tsatsos.math.auth.gr:
		/set -realname dumped core.
	help/server:
		clarify /server name:port:pass:nick
	source/ircaux.c:
		in new_free(), just reset the pointer to NULL it is
		really `empty_string'.
	source/parse.c:
		use STRING_CHANNEL not a hardcoded '+'.

Fri Jan 17 18:10:54 EST 1997 - matthew green <mrg@eterna.com.au>
	source/ctcp.c:
		change the way ctcp flood protection works.  for
		longer or faster messages, we ignore for longer.

2.9alpha1
Mon Nov 11 01:25:27 CST 1996 - scott reynolds <scottr@og.org>
	source/parse.c:
		fix reversed test for comment when leaving channel.

Wed Jul 24 11:42:12 EST 1996 - matthew green <mrg@eterna.com.au>
	source/lastlog.c, source/mail.c, source/window.c, source/notice.c,
	source/names.c, source/server.c, source/screen.c, source/edit.c,
	source/funny.c, source/irc.c, source/dcc.c, source/ctcp.c,
	source/parse.c, source/numbers.c, source/whois.c:
		more message_from() clean ups.
	source/parse.c, help/on/leave:
		implement part comments (from per).

Mon Jul 22 11:42:47 EST 1996 - matthew green <mrg@eterna.com.au>
	acconfig.h, include/defs.h.in, include/config.h:
		only define NON_BLOCKING_CONNECTS if we actually have
		a way of doing it.
	source/server.c, source/screen.c, source/dcc.c:
		fix some redirect lossage.

2.9_roof
Sun Jul 21 05:20:15 EST 1996 - matthew green <mrg@eterna.com.au>
	source/ctcp.c, source/dcc.c, source/edit.c, source/funny.c,
	source/lastlog.c, source/mail.c, source/numbers.c,
	source/server.c, source/whois.c, source/window.c,
	source/notice.c, source/names.c, source/parse.c:
		use message_from() consistantly across the board, except
		for a few places that set it explicitly to LOG_CURRENT
		(which _should_ be the default).  this should fix all the
		bugs with messages going to the wrong window, but there
		are also *lastlog*() functions that might affect this
		(and assignments tto `to_window', etc, etc).
	source/names.c, source/parse.c:
		move the notify_mark() calls to add_to_channel() and
		remove_from_channel().
	help/set/translation:
		update to reality.

Fri Jul 19 22:33:14 EST 1996 - matthew green <mrg@eterna.com.au>
	source/newio.c:
		it's FD_SETSIZE, _not_ FDSETSIZE.
	source/ctcp.c:
		in do_ctcp(), only call send_to_server() if there is
		actually something to send.  stops the client sending
		a blank line to the server for every ctcp recieved.
	source/server.c:
		when a connection fails, set connected = 0, and
		read = write = -1 in the server struct.  this stops the
		"looping failed connection" bug from happening.

Tue Jul  9 13:47:42 MET DST 1996 - Christophe Kalt  <kalt@syrk.ensta.fr>
	source/numbers.c:
		display numeric 366 (RPL_ENDOFNAMES) in the right window.

2.9_wall
Wed Jun 26 23:14:21 EST 1996 - matthew green <mrg@eterna.com.au>
	source/parse.c:
		don't notify_mark() when nick changes case only.
	source/numbers.c:
		don't set +sw with numeric 381.  why was this ever
		done, i dunno...
	source/numbers.c, source/funny.c, include/server.h:
		notice and care about usermode +r and numeric 484
		(ERR_RESTRICTED).
	include/ircterm.h:
		XXX more irix6 lossage.  give a tgetstr() proto.

Wed Jun 26 12:49:50 EST 1996 - matthew green <mrg@eterna.com.au>
	source/edit.c, source/input.c:
		ANSIification of some functions taking char arguments.
	source/dcc.c:
		__STDC_ -> __STDC__
	configure.in, configure, acconfig.h, include/config.h,
	include/config.h.lynx, include/defs.h.in:
		implement --with-default-server (scottr).
	source/irc.c, source/notice.c, include/irc.h:
		implement new -b switch: loads .ircrc before
		connecting to a server.
	source/edit.c:
		fix auto_unmark_away (pr#104).  check_away was always 0.
	configure.in, configure:
		impliment --with-non-blocking=(posix|bsd|sysv|none).
		make solaris test work on x86.

Thu Jun 20 15:32:03 EST 1996 - matthew green <mrg@eterna.com.au>
	source/term.c, include/ircterm.h:
		XXX HACK ALERT!
			made this work for irix6, kinda.  this
			needs to be replaced by something real.
	source/mail.c, source/help.c:
		NeXT bug fixes from Mark.
	script/2.8script:
		fix invite and ban reply.

Tue Jun 11 19:52:23 EST 1996 - matthew green <mrg@eterna.com.au>
	source/server.c:
		don't use sa_len anymore.  irix uses it and it
		makes Lossage!
	easyinst:
		deal with no config.h.dist
	source/keys.c:
		cast call to malloc_strcpy().  from fn.
	source/translat.c
		translation tables don't have spaces in their
		names.  from fn.
	include/output.h:
		refresh_screen returns RETSIGTYPE.  pr#92.
	contrib/README, contrib/check_load:
		added contrib section.
	include/lastlog.h:
		make default window level LOG_NONE, as per -DPHONE.

2.9_floor
Thu Jun  6 00:50:08 CDT 1996 - scott reynolds <scottr@og.org>
	source/if.c:
		fix a buffer overrun.  (from Karthik Gargi)

2.9_base
Sun Apr 14 14:55:15 CDT 1996 - scott reynolds <scottr@og.org>
	source/window.c:
		fix problem with /WINDOW SERVER ignoring the port
		from the server list under some conditions.

Sun Mar 31 08:45:47 CST 1996 - scott reynolds <scottr@og.org>
	Makefile.in:
		when installing, make sure to create $(mandir), if
		necessary.

Fri May 31 00:14:23 EST 1996 - matthew green <mrg@eterna.com.au>
	Makefile.in:
		don't delete config.h anymore.

Mon Mar 18 12:40:33 CST 1996 - scott reynolds <scottr@og.org>
	source/edit.c:
		don't try to use args to /PART if they weren't
		specified.  fixes pr 81, from krys.

Fri Mar 22 15:13:24 EST 1996 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		fix old bug in updating status clock.

2.8.16beta
Sun Mar 17 15:19:09 EST 1996 - matthew green <mrg@eterna.com.au>
	source/irc.c, doc/VERSIONS
		note beta release.

Thu Mar 14 11:08:53 EST 1996 - matthew green <mrg@eterna.com.au>
	source/window.c:
		backout previous change to window_get_connected().
		fix the bug by not calling realloc_channels() in
		set_window_server().

Wed Mar 13 23:45:53 EST 1996 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		backout one of the previous next_arg() changes that
		broke "/ foo".  from phil.
	source/window.c:
		fix pr#75.  don't be so intrusive looking for a channel
		for this window.  call set_window_server() with misc of 1
		from window_get_connected().  this fixes an annoying bug
		that made channels get reconnected to the wrong window.
		however, this may cause more lossage.
	source/parse.c:
		add signon/off detection in nick changes.  pr#77 from
		krys.

2.8.15
Fri Mar  1 21:44:00 EST 1996 - matthew green <mrg@eterna.com.au>
	include/whois.h:
		add WHOIS_ISON2 as required by scott's change below.
	source/dcc.c:
		#ifdef S_IFDIR:  some unix doesn't have this?
	source/edit.c:
		fix some memory leaks with expand_twiddle() usage.
		use next_arg().
	source/exec.c:
		bounds check in is_process_running().  from mark
		matthewson.
	source/help.c:
		count displayed help lines correctly.  from kalt.
	source/parse.c:
		display kick in correct window.  from kalt.
	source/server.c:
		don't allow send_to_server() to recurse.
	source/vars.c:
		add VF_EXPAND_PATH.  allows HELP_PATH to be ~/irc/help, eg.

Thu Feb 29 23:41:40 CST 1996 - scott reynolds <scottr@og.org>
	source/whois.c:
		more whois queue cleanup, from phil.
	source/window.c:
		fix definition of is_current_channel() to agree with
		prototype, and fix for SAME_WINDOW_ONLY, both from phil.

2.8.14
Thu Feb 15 10:16:20 EST 1996 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		don't use the ip address 127.0.0.1 for dcc connections.
	source/help.c, help/*:
		add copyright notices.

Wed Feb 14 17:11:44 EST 1996 - matthew green <mrg@eterna.com.au>
	source/server.c:
		be smarter about displaying server lists.  reworked
		change from phil.

Tue Feb 13 22:33:10 CST 1996 - scott reynolds <scottr@og.org>
	include/server.h, source/ctcp.c, source/names.c, source/server.c,
	source/whois.c:
		Changes from <Philippe.LEVAN@enst-bretagne.fr>:
		- initialize ctcp_last_reply_time when creating a
		  server in the list
		- significantly clean up the whois queue stuff
		- be more careful with servers we're waiting to
		  be reconnected

2.8.13beta
Wed Feb  7 21:55:36 EST 1996 - matthew green <mrg@eterna.com.au>
	source/ctcp.c:
		fix bugs introduced in new flood code.

Tue Jan 30 22:55:11 CST 199 - scott reynolds <scottr@og.org>6
	source/lastlog.c:
		extend LOG_BEEP beyond pr #56 to include normal
		lastlog operations.
	help/set/lastlog_level, help/window/notify_level:
		documentation for LOG_BEEP.

Tue Jan 30 00:13:17 CST 1996 - scott reynolds <scottr@og.org>
	include/lastlog.h, source/lastlog.c, source/screen.c:
		add LOG_BEEP, and clean up a bit.  closes pr #56,
		mostly from krys.

Mon Jan 29 16:32:00 EST 1996 - matthew green <mrg@eterna.com.au>
	source/ctcp.c:
		be smarted about ctcp floods (still allow non-replying commands).

Sun Jan 21 18:10:24 CST 1996 - scott reynolds <scottr@og.org>
	source/edit.c:
		compare the correct variable; fixes pr #45.
	source/term.c:
		check for and disable VDISCARD if present,  from
		<levan@rennes.enst-bretagne.fr>
	help/window/double:
		added.  closes related pr #28.

Fri Jan 05 11:22:29 EST 1996 - glen mccready <glen@qnx.com>
	source/dcc.c, source/server.c:
		put forth some effort in cleaning up the non-blocking
		connects - ideas for the cleanup stemmed from a chat
		with deraadt@theos.com

Thu Dec 21 15:56:55 CST 1995 - scott reynolds <scottr@og.org>
	source/irc.c:
		Add '&' expansion to the code that gets the user's
		name from the passwd file.

Wed Dec 13 17:04:52 CST 1995 - scott reynolds <scottr@og.org>
	include/struct.h, include/config.h.dist, include/config.h.lynx,
	include/config.h.phone, include/vars.h, include/vars.h.proto,
	source/screen.c, source/status.c, source/vars.c, source/window.c:
		pr #42, /SET DOUBLE -> /WINDOW DOUBLE, from krys.

Wed Dec 06 13:28:46 EST 1995 - glen mccready <glen@qnx.com>
	Makefile.in:
		fix `installman'
	configure.in:
		slightly modify the qnx compile/link options used
	source/alias.c:
		function_idle() now always exists, instead of only
		when strftime() was found by configure
	source/exec.c:
		POSIX doesn't define NSIG or anything like it; _SIGMAX
		is an extension from somewhere.. with POSIX.4 coming into
		being SIGRTMAX may be useful at some point.. until then..
	source/term.c, source/window.c:
		avoid name conflicts
	source/wserv.c, source/ircsig.c:
		cast signal handlers

Mon Nov 13 23:50:33 CST 1995 - scott reynolds <scottr@og.org>
	source/edit.c, source/hook.c:
		fix memory leaks, from krys. fixes PRs 38, 39.

Sun Nov 12 23:37:39 EST 1995 - matthew green <mrg@eterna.com.au>
	include/config.h.phone, include/config.h.lynx,
	include/config.h.dist:
		remove some old cruft.
	source/mail.c:
		count From_ lines correctly.
	source/count.l, include/count.l, include/Makefile.in:
		move count.l to include.
	configure.in, configure, aclocal.m4:
		update sendmail check to use macros.
	source/vars.c:
		comment last of help_service code.

Fri Nov 10 02:55:21 EST 1995 - matthew green <mrg@eterna.com.au>
	include/ircaux.h, source/alias.c, source/ctcp.c,
	source/dcc.c, source/edit.c, source/exec.c, source/hook.c,
	source/ignore.c, source/input.c, source/ircaux.c,
	source/keys.c, source/lastlog.c, source/names.c,
	source/stack.c, source/translat.c, source/vars.c,
	source/window.c:
		remove all occurances of my_stricmp/my_strnicmp
		in a loop where one string being compared was
		always upper or lower already.  convert some older
		changes like this to use upper() and lower().

Mon Nov  6 01:03:06 CST 1995 - scott reynolds <scottr@og.org>
	script/imap:
		updated mapper script from ian.

Sat Nov  4 21:06:29 EST 1995 - matthew green <mrg@eterna.com.au>
	Makefile.in, doc/ircbug.1 doc/query-pr.1:
		install manuals, and the ircbug program.

2.8.12beta
Wed Nov  1 23:27:33 EST 1995 - matthew green <mrg@eterna.com.au>
	include/config.h.dist, include/config.h.lynx,
	include/config.h.phone, source/help.c:
		#ifdef support for help services.  not enabled by default.

Wed Nov  1 23:17:10 EST 1995 - matthew green <mrg@eterna.com.au>
	help/window/same_window_only, include/vars.h,
	include/vars.h.proto, source/window.c, source/vars.c:
		add philippe's same_window_only set.

Wed Nov  1 22:21:46 EST 1995 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		call do_channel() with join -i; fixes pr#23
	configure.in, aclocal.m4, ircbug.in:
		look for sendmail now; don't assume it is in /usr/sbin.
	easyinst:
		don't call configure with ". ./configure".  export necessary
		variables (IRCLIB and bindir).
		remove all help service stuff -- they don't exist anymore.

Tue Oct 31 00:58:59 CST 1995 - scott reynolds <scottr@og.org>
	Makefile.in, acconfig, include/defs.h.in, configure.in, configure,
	source/irc.c, source/ircflush.c, source/ircio.c, source/wserv.c:
		add support for SOCKS firewall traversal library.
	INSTALL:
		SOCKS support, and a caveat.

Mon Oct 30 23:05:30 EST 1995 - matthew green <mrg@eterna.com.au>
	source/names.c:
		fix switch_channels; from philippe.

Fri Oct 27 20:23:29 CDT 1995 - scott reynolds <scottr@og.org>
	include/config.h.dist, include/struct.h, include/vars.h.proto,
	source/input.c, source/screen.c, source/status.c, source/vars.c,
	source/window.c:
		double status line, from Christophe Kalt.
	source/dcc.c:
		double status line, plus fix a bogon when compiling without
		NON_BLOCKING_CONNECTS.
	include/vars.h:
		from vars.h.proto above.
	include/irc.h:
		struct.h must be included only after INPUT_BUFFER_SIZE
		is defined.  fixes PR #21.

2.8.11beta
Wed Oct 25 15:14:49 EST 1995 - matthew green <mrg@eterna.com.au>
	source/alias.c, source/dcc.c, source/help.c, source/names.c:
		fix bug in alias_server(), missing #ifdef nonblocking,
		set use_help_service properly, call is_current_channel()
		correctly, and clear the server's channel list in a
		better way.  all from philippe.

Tue Oct 24 23:56:44 EST 1995 - matthew green <mrg@eterna.com.au>
	source/numbers.c:
		fix bug that made failed oper commands close the server.
		from philippe.

Fri Oct 13 01:15:25 EST 1995 - matthew green <mrg@eterna.com.au>
	include/dcc.h, include/ircterm.h, source/alias.c, source/ctcp.c,
	source/dcc.c, source/help.c, source/hold.c, source/if.c,
	source/menu.c, source/names.c, source/output.c, source/reg.c,
	source/scandir.c, source/server.c, source/status.c:
		more fixes for solaris warnings.

Fri Oct 13 01:14:59 EST 1995 - matthew green <mrg@eterna.com.au>
	source/parse.c, source/server.c, include/parse.h, include/server.h:
		begin framework for other parsers.

Fri Sep 22 11:01:28 CDT 1995 - scott reynolds <scottr@og.org>
	source/reg.c:
		enable new _wild_match(), remove old version.

Thu Sep 21 14:14:32 EST 1995 - matthew green <mrg@eterna.com.au>
	source/keys.c, source/edit.c, source/edit.h:
		rename clear_screen() to irc_clear_screen().

Tue Sep 12 23:25:00 CDT 1995 - scott reynolds <scottr@og.org>
	include/edit.h, source/edit.c, source/whois.c:
		ison_ison() -> ison_now(); add dummy arg and prototype
		it the way add_ison_to_whois() expects.
	source/reg.c:
		Integrate new version of _wild_match() from
		<dalewis@acsu.buffalo.edu> with minor changes, but don't
		enable/use it yet.

Fri Sep  8 12:57:14 CDT 1995 - scott reynolds <scottr@og.org>
	include/ircterm.h, source/edit.c, source/input.c, source/irc.c,
	source/menu.c, source/output.c, source/parse.c, source/screen.c,
	source/status.c, source/term.c:
		Move the #include <{curses.h|term.h}> into ircterm.h, and
		account for some nasty #define's in some lame <term.h>
		implementations.

Thu Sep  7 10:28:20 CDT 1995 - scott reynolds <scottr@og.org>
	source/hook.c, source/ircaux.c, source/ircio.c:
		More portability fixes pointed out by HP's cc.

Wed Sep  6 21:02:01 CDT 1995 - scott reynolds <scottr@og.org>
	include/irc_std.h:
		Remove unused TRUE/FALSE #defines.
	include/hook.h.proto:
		Finish up previous change.
	configure.in:
		Fix a comment.

Wed Sep  6 16:52:51 CDT 199 - scott reynolds <scottr@og.org>5
	include/irc.h:
		If we HAVE_STDARG_H but we're not __STDC__, just forget
		about <stdarg.h>.
	include/ctcp.h, include/debug.h, include/defs.h, include/hook.h,
	include/output.h, include/server.h, include/whois.h:
		Undo previous HAVE_STDARG_H changes.

Tue Sep  5 15:31:06 CDT 1995 - scott reynolds <scottr@og.org>
	source/alias.c:
		Fix "illegal pointer combination" warnings.

Tue Sep  5 14:57:59 CDT 1995 - scott reynolds <scottr@og.org>
	include/ircterm.h, include/term.c:
		HP-UX declares arg3 to tputs() differently.  Barf.

Wed Sep  6 01:34:53 EST 1995 - matthew green <mrg@eterna.com.au>
	configure, configure.in, include/defs.h, include/ircterm.h,
	include/term.h, source/edit.c, source/funny.c, source/help.c,
	source/input.c, source/irc.c, source/ircaux.c, source/keys.c,
	source/menu.c, source/output.c, source/parse.c, source/screen.c,
	source/status.c, source/term.c, source/vars.c, source/window.c,
	source/wserv.c:
		renamed term.h to ircterm.h so that it wouldn't conflict
		with <term.h>.  fixed test for term.h (sigh).

Tue Sep  5 07:30:14 CDT 1995 - scott reynolds <scottr@og.org>
	Makefile.in, configure, configure.in, source/Makefile.in:
		Move burden of generating vars.h, hook.h, and keys.h to
		developers.
	include/Makefile.in:
		Added.
	include/vars.h, include/hook.h, include/keys.h:
		Generated and added.

Tue Sep  5 21:29:02 EST 1995 - matthew green <mrg@eterna.com.au>
	acconfig.h, configure, configure.in, include/defs.h.in, include/irc.h,
	source/edit.c, source/input.c, source/irc.c, source/ircio.c,
	source/menu.c, source/output.c, source/parse.c, source/scandir.c,
	source/screen.c, source/status.c, source/term.c:
		quell some gcc warnings under solaris 2.

Sun Sep  3 13:22:38 CDT 1995 - scott reynolds <scottr@og.org>
	include/ctcp.h, include/debug.h, include/hook.h.proto,
	include/output.h, include/server.h, include/whois.h:
		Don't try using '...' in prototypes unless __STDC__ is
		defined.  Takes care of some brain-damaged stock compilers
		on otherwise ANSI-aware systems.  In particular, this
		takes care of HP-UX 9 and, presumably, SunOS 4 systems.

2.8.10
Sun Sep  3 23:41:33 EST 1995 - matthew green <mrg@eterna.com.au>
	include/alias.h, include/exec.h, include/irc.h, include/list.h,
	include/menu.h, include/names.h, include/screen.h, include/status.h,
	include/struct.h, include/whois.h, include/window.h, source/alias.c,
	source/crypt.c, source/ctcp.c, source/dcc.c, source/edit.c,
	source/exec.c, source/help.c, source/history.c, source/hook.c,
	source/ignore.c, source/irc.c, source/ircaux.c, source/ircio.c,
	source/keys.c, source/lastlog.c, source/list.c, source/mail.c,
	source/menu.c, source/names.c, source/numbers.c, source/parse.c,
	source/screen.c, source/server.c, source/stack.c, source/status.c,
	source/term.c, source/whois.c, source/window.c, doc/VERSIONS:
		fix most of -Wstrict-prototypes, a few more ansi c parameter
		promotion fixes (not sure if any are left), up version, fix
		a few more warnings, and remove some unused code.

Sun Sep  3 00:16:23 CDT 1995 - scott reynolds <scottr@og.org>
	source/edit.c, source/input.c, source/menu.c, source/output.c,
	source/parse.c, source/screen.c, source/status.c, source/term.c:
		Include <curses.h> if needed.
	include/term.h:
		Prototype putchar_x() properly.

Sat Sep  2 23:07:56 CDT 1995 - scott reynolds <scottr@og.org>
	acconfig.h, configure.in, configure, include/defs.h.in,
	source/irc.c, source/term.c:
		Test for tputs() declaration in <curses.h>.  Rename
		USING_CURSES to INCLUDE_CURSES_H, since the new
		use of this is a superset of the old.

Sun Sep  3 12:04:35 EST 1995 - matthew green <mrg@eterna.com.au>
	source/crypt.c, source/dcc.c, source/debug.c, source/exec.c,
	source/hook.c, source/irc.c, source/ircaux.c, source/ircflush.c,
	source/ircio.c, source/mail.c, source/menu.c, source/names.c,
	source/newio.c, source/screen.c, source/server.c, source/wserv.c,
	include/irc.h, include/newio.h, include/debug.h:
		move newio.c functions from irc.h to newio.h, and include
		this.  more prototypes and some style fixes.  removed some
		unused functions.

Fri Sep  1 10:31:02 CDT 1995 - scott reynolds <scottr@og.org>
	source/alias.c, source/dcc.c, source/exec.c, source/keys.c,
	source/reg.c, source/vars.c:
		Fix some inconsistencies for certain static functions.

Fri Sep  1 09:41:04 CDT 1995 - scott reynolds <scottr@og.org>
	include/ctcp.h, include/debug.h, include/hook.h.proto,
	include/server.h:
		Put some HAVE_STDARG_H lines back that I had deleted
		earlier.
	include/ircaux.h, source/ircaux.c:
		Another ANSI prototype.

Thu Aug 31 08:20:54 CDT 1995 - scott reynolds <scottr@og.org>
	include/ircaux.h, include/screen.h, include/whois.h,
	include/window.h, source/edit.c, source/ircaux.c,
	source/notice.c, source/notify.c, source/screen.c,
	source/stack.c, source/status.c:
		More ANSI prototyping.

Wed Aug 30 23:00:41 CDT 1995 - scott reynolds <scottr@og.org>
	include/alias.h, include/crypt.h, include/ctcp.h, include/dcc.h,
	include/debug.h, include/edit.h, include/exec.h, include/flood.h,
	include/funny.h, include/help.h, include/history.h, include/hold.h,
	include/hook.h.proto, include/if.h, include/input.h,
	include/ignore.h, include/irc.h, include/ircaux.h, include/keys.h,
	include/lastlog.h, include/list.h, include/log.h, include/mail.h,
	include/menu.h, include/names.h, include/notify.h,
	include/numbers.h, include/output.h, include/parse.h,
	include/queue.h, include/screen.h, include/server.h,
	include/stack.h, include/status.h, include/term.h,
	include/translat.h, include/vars.h.proto, include/whois.h:
		Consistency.

Wed Aug 30 12:45:32 CDT 1995 - scott reynolds <scottr@og.org>
	include/alias.h, include/dcc.h, include/list.h, include/names.h,
	include/notify.h, include/server.h, include/struct.h:
		ANSIfy some more prototypes.
	source/alias.c, source/ctcp.c, source/dcc.c, source/edit.c,
	source/exec.c, source/funny.c, source/history.c, source/hold.c,
	source/hook.c, source/if.c, source/ignore.c, source/input.c,
	source/irc.c, source/ircaux.c, source/keys.c, source/list.c,
	source/menu.c, source/names.c, source/newio.c, source/notice.c,
	source/numbers.c, source/output.c, source/parse.c, source/screen.c,
	source/server.c, source/status.c, source/term.c, source/vars.c,
	source/window.c:
		Various ANSI prototype-related cleaning, and some
		cosmetics to keep gcc -Wall from complaining.
	source/reg.c:
		Fix operator precedence problem in _wild_match() and
		the way it deals with backslash quoting.

Mon Aug 28 23:08:30 EST 1995 - matthew green <mrg@eterna.com.au>
	include/window.h, source/server.c, source/irc.c, source/window.c,
	include/irc.h, include/irc_std.h:
		finish server group stuff, remove couple more warnings with
		proper prototypes.
	configure, configure.in:
		redo signal processing and make AMS mail smarter.
	include/config.h.phone, include/config.h.lynx, include/config.h.old,
	include/config.h.lynx:
		remove DYNAMIC_SLIP, and, totally remove config.h.old.

Mon Aug 28 17:33:32 EST 1995 - matthew green <mrg@eterna.com.au>
	source/server.c, source/window.c, source/keys.h.proto, source/list.h,
	source/numbers.h, source/server.h, source/struct.h,
	source/vars.h.proto, source/window.h:
		add some of the server group stuff.  isn't use, but, the
		user interface is mostly done.  new window commands
		addgroup and delgroup exist.

Thu Aug 24 13:13:21 EST 1995 - matthew green <mrg@eterna.com.au>
	source/funny.c, source/keys.c, source/server.c, source/status.c:
		more casts.

Thu Aug 24 01:41:12 EST 1995 - matthew green <mrg@eterna.com.au>
	source/alias.c, source/dcc.c, source/edit.c, source/input.c,
	source/lastlog.c, source/newio.c, source/screen.c,
	source/server.c, source/status.c, source/keys.c, source/vars.c,
	source/window.c, source/if.c:
		more ansi function definitions, fix picky compiler
		warnings, and fix a few bogons in previous change.

Wed Aug 23 22:50:37 EST 1995 - matthew green <mrg@eterna.com.au>
	source/alias.c, source/edit.c, source/hold.c, source/if.c,
	source/input.c, source/keys.c, source/menu.c, source/names.c,
	source/output.c, source/screen.c, source/term.c, source/window.c,
	include/alias.h, include/window.h:
		add a lot of ansi function definitions.

Wed Aug 23 21:43:46 EST 1995 - matthew green <mrg@eterna.com.au>
	source/window.c:
		call window_check_servers() at the end of
		window_get_connected() to maybe ensure that all servers are
		actually connected.
	source/translat.c:
		add a couple of ansi function declarations.

2.8.9
Wed Aug 23 13:04:54 EST 1995 - matthew green <mrg@eterna.com.au>
	source/server.c:
		a quick hack to stop the spinning server loop bug.  needs
		to be revised.
	source/irc.c, doc/VERSIONS:
		update.

Mon Aug 14 09:54:10 CDT 1995 - scott reynolds <scottr@og.org>
	Makefile.in:
		Spelling correction.
	include/hook.h.proto, include/keys.h.proto, include/vars.h.proto:
		Add ANSI prototypes.
	include/edit.h, include/irc.h, include/ircaux.h, include/server.h,
	include/term.h, include/window.h:
		Clean up and add a few more ANSI prototypes.
	source/alias.c, source/edit.c, source/hook.c, source/irc.c,
	source/keys.c, source/numbers.c, source/screen.c, source/server.c,
	source/term.c, source/vars.c, source/window.c:
		First run through gcc -Wall -Wmissing-prototypes.  Lots
		more needs to be done.

Fri Aug 11 03:53:13 EST 1995 - matthew green <mrg@eterna.com.au>
	source/alias.h, source/crypt.h, source/ctcp.h, source/dcc.h,
	source/debug.h, source/edit.h, source/exec.h, source/flood.h,
	source/funny.h, source/history.h, source/hold.h, source/ignore.h,
	source/input.h, source/ircaux.h, source/list.h, log.h,
	source/mail.h, source/menu.h, source/names.h, source/notify.h,
	source/numbers.h, source/output.h, screen.h, source/server.h,
	source/status.h, source/struct.h, source/talkd.h, source/term.h,
	source/window.h:
		consistancy.

Thu Aug 10 01:43:01 EST 1995 - matthew green <mrg@eterna.com.au>
	source/debug.c, source/exec.c, source/flood.c, source/hook.c,
	source/ignore.c, source/menu.c, source/names.c, source/notify.c,
	source/numbres.c, source/screen.c, source/server.c, source/stack.c,
	source/window.c, source/alias.c, source/dcc.c, source/crypt.c,
	include/debug.h:
		fix prototype warnings and bogons in debug.c with -DDEBUG.

Wed Aug  9 08:50:51 EST 1995 - matthew green <mrg@eterna.com.au>
	source/irc.c, source/dcc.c, include/dcc.h:
		prototype dcc_check(), and attempt to make non blocking
		connects work more sanely.

Tue Aug  8 16:24:27 CDT 1995 - scott reynolds <scottr@og.org>
	include/alias.h, include/crypt.h, include/ctcp.h, include/dcc.h,
	include/debug.h, include/defs.h, include/edit.h, include/exec.h,
	include/flood.h, include/funny.h, include/help.h, include/history.h,
	include/hold.h, include/if.h, include/ignore.h, include/input.h,
	include/irc.h, include/irc_std.h, include/ircaux.h, include/lastlog.h,
	include/list.h, include/log.h, include/mail.h, include/menu.h,
	include/names.h, include/notify.h, include/numbers.h, include/output.h,
	include/parse.h, include/queue.h, include/screen.h, include/server.h,
	include/stack.h, include/status.h, include/struct.h, include/talkd.h,
	include/term.h, include/translat.h, include/whois.h, include/window.h,
	source/gzip.h:
		Add ANSI prototypes to a great many functions.
	source/irc.c:
		call to set_window_server was missing "all" arg
	source/screen.c:
		call to dgets() was missing "specials" arg

Tue Aug  8 12:16:25 EST 1995 - matthew green <mrg@eterna.com.au>
	source/server.c:
		fix a bogon glen left lying around in failed server
		connections.

2.8.8
Wed Aug 02 00:57:54 MDT 1995 - glen mccready <glen@qnx.com>
	source/irc.c, source/ircaux.c, source/dcc.c, source/screen.c,
	source/server.c, include/dcc.h, include/ircaux.h:
		mostly working non-blocking connect code
			define NON_BLOCKING_CONNECTS
		a start at "/server ."
			define SERVER_DOT
	source/alias.c, source/edit.c, source/exec.c, source/names.c,
	source/parse.c, source/stack.c, source/window.c, include/irc.h:
		use `zero' and `one' rather than "0" and "1"
		use my_stricmp() less to save tolower()ing the string
	source/newio.c:
		the new_free() mentioned below was necessary
	source/notify.c:
		the extra test broke /notify
	source/if.c, source/reg.c:
		cleaned up some warnings

Tue Jul 25 23:29:04 EST 1995 - matthew green <mrg@eterna.com.au>
	source/ircaux.c, source/newio.c:
		fix typo in ircaux.c.
		remove dated ESIX code (read/recv)
		make new_close() smarter:  doesn't matter if you
		call it with -1, and doesn't new_free() the io_rec,
		as it's likely we'll want it later anway.
	source/dcc.c, source/edit.c, source/file.c, source/flood.c,
	source/history.c, source/ignore.c, source/ircflush.c,
	ircsig.c, source/lastlog.c, source/list.c, source/log.c,
	source/mail.c, source/notify.c, source/reg.c, source/screen.c,
	stack.c, source/translat.c, source/vars.c, source/whois.c,
	source/wserv.c:
		for (;foo;) -> while (foo)
	source/ircserv.c, source/ircio.c, source/Makefile.in,
	doc/ircII.1, doc/SecureIRC, source/file.c, source/irc.c,
	source/server.c, Makefile.in:
		renamed ircserv to ircio.

Thu Jul 20 02:45:39 CDT 1995 - christopher williams <cgw@io.com>
	source/edit.c:
		fix bug in execute_timer() to set to_window
		to curr_scr_win

Wed Jul 19 22:57:57 MDT 1995 - glen mccready <glen@qnx.com>
	source/ctcp.c, include/server.h:
		fix for premature ctcp flood response

Tue Jul 18 23:19:35 CDT 1995 - scott reynolds <scottr@og.org>
	configure.in, configure, acconfig.h, include/defs.h.in,
	include/irc.h:
		check for varargs.h
	include/ctcp.h, include/debug.h, include/irc.h,
	include/output.h, include/server.h, include/whois.h,
	include/hook.h.proto, source/alias.c, source/ctcp.c,
	source/debug.c, source/help.c, source/hook.c,
	source/ircaux.c, source/output.c, source/server.c,
	source/term.c source/whois.c:
		use stdarg.h if available.

Tue Jul 18 00:38:02 MDT 1995 - glen mccready <glen@qnx.com>
	source/dcc.c:
		added dcc rename -chat

Tue Jul  4 23:21:17 CDT 1995 - scott reynolds <scottr@og.org>
	configure.in, configure:
		general organizational cleanup.

Tue Jul  4 13:47:22 CDT 1995 - scott reynolds <scottr@og.org>
	source/term.c, source/output.c:
		check for sys/ioctl.h; remove dead code.

Mon Jul  3 23:57:41 CDT 1995 - scott reynolds <scottr@og.org>
	source/term.c:
		set up termcap before twiddling tty settings.

2.8.7
Sat Jul  1 21:44:20 EST 1995 - matthew green <mrg@eterna.com.au>
	source/names.c:
		various fixes to previous changes.
	configure.in, configure:
		portability and style fixes.

Sat Jul  1 21:46:57 EST 1995 - scott reynolds <scottr@og.org>
	configure.in, configure, Makefile.in, source/term.c,
	acconfig.h:
		install help pages with pax/tar/cpio.  do termios
		stuff as termios/sgtty/termio.

Mon Jun 26 00:17:46 EST 1995 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		add errno to dcc send close message.
	configure, configure.in:
		fix bug in test for unsigned 32 bit int's.

Sat Jun 24 06:23:08 EST 1995 - matthew green <mrg@eterna.com.au>
	include/lastlog.h, include/names.h, source/edit.c,
	source/irc.c, source/names.c, source/numbers.c,
	source/screen.c, source/server.c, source/window.c:
		added connected member to ChannelList.  reworked
		some PHONE/NOPHONE things to be simpler, fix a
		couple of memory leaks in names.c

Sat Jun 24 04:31:05 EST 1995 - matthew green <mrg@eterna.com.au>
	source/edit.c:
		do st_mode in a more sane way.

Thu Jun 22 23:54:57 EST 1995 - matthew green <mrg@eterna.com.au>
	source/dcc.c, source/screen,c, source/server.c,
	source/window.c:
		remove dgets timed out messages.  reverse log on
		PHONE and call it NOPHONE for most.
	source/alias.c, help/alias/functions:
		idle() command, and doc for idle and strftime, from
		scottr@plexus.com.
	help/
		added.

Wed Jun  7 23:52:56 EST 1995 - matthew green <mrg@eterna.com.au>
	source/crypt.c, source/dcc.c, source/exec.c, source/irc.c,
	source/ircaux.c, source/ircserv.c, source/screen.c,
	source/server.c:
		use new_close() not close().

2.8.6
Wed Jun  7 00:24:34 EST 1995 - matthew green <mrg@eterna.com.au>
	source/server.c:
		couple of fixes from philippe i missed, and removal
		of old junk (local_ip_address).
	include/edit.h, include/hold.h, include/input.h,
	include/irc.h, include/keys.h.proto, include/menu.h,
	include/names.h, include/output.h, include/screen.h,
	include/term.h, include/window.h, source/edit.c,
	source/hold.c, source/input.c, source/irc.c,
	source/keys.c, source/menu.c, source/names.c,
	source/output.c, source/screen.c, source/term.c,
	source/window.c:
		don't ask.
	source/irc.c, doc/VERSIONS:
		release.

2.8.5

a big thanks to philippe for this version.

Sat May 27 00:02:13 EST 1995 - matthew green <mrg@eterna.com.au>
	configure configure.in:
		handle space or tab in version grovelling.
	source/edit.c:
		added phil to info.
	source/irc.c, doc/VERSIONS:
		release.

Fri May 26 23:55:35 EST 1995 - matthew green <mrg@eterna.com.au>
	include/funny.h, include/names.h, include/server.h,
	include/window.h, source/alias.c, source/ctcp.c,
	source/edit.c, source/funny.c, source/irc.c, source/names.c,
	source/notice.c, source/numbers.c, source/parse.c,
	source/screen.c, source/server.c, source/status,c,
	source/window.c:
		a bunch of changes from philippe relating to
		windows and servers and channels and other little
		things.  /window server, channel and bind all work
		MUCH better.

2.8.4
Fri May 26 23:54:19 EST 1995 - matthew green <mrg@eterna.com.au>
(actually 19950412)
	source/names.c:
		fix a buglet in previous.

2.8.3
Tue Apr 11 22:04:49 EST 1995 - matthew green <mrg@eterna.com.au>
	source/names.c:
		optimise a Hell of a lot of things.
	source/server.c:
		remove dyanmic slip stuff.  we do this a better
		way already..
	source/names.c, source/server.c, source/parse.c,
	source/notice.c, include/names.h:
		rework the channel_list to be a server-local thing
		(and thus attached to the server_list).  this lets
		multi-servers work better.

Sun Apr  9 23:20:17 EST 1995 - matthew green <mrg@eterna.com.au>
	script/tabkey:
		fix to allow nicks with \'s in them work.

2.8.2
Thu Apr  6 00:37:12 EST 1995 - matthew green <mrg@eterna.com.au>
	source/names.c:
		removed bogus patch.

Tue Apr  4 01:18:47 EST 1995 - matthew green <mrg@eterna.com.au>
	source/irc.c:
		patch for qnx's select lossage from glen@qnx.com.

2.8.1
Tue Apr  4 01:04:44 EST 1995 - matthew green <mrg@eterna.com.au>
	configure.in/configure:
		quick patch to fix message on sunos, and autoconf
		2.2.
	include/names.h, source/names.c:
		fix from levan@enstb.enst-bretagne.fr for cached
		mode strings and channel limits.
	include/window.h, source/edit.c, source/names.c,
	source/status.c, source/window.c:
		fixes from levan@enstb.enst-bretagne.fr for
		various window/server problems.
	source/help.c, source/numbers.c:
		fixes from levan@enstb.enst-bretagne.fr for dumb
		mode and wait prompts.  maybe this should be fixed
		in add_wait_prompt() instead...
	source/edit.c:
		update poxaV's address.
	source/irc.c:
		don't do the notify_list if we aren't connected!
	source/notify.c:
		fix core dump.
	source/screen.c:
		fixed select() return value.  duh.
	source/server.c:
		fixes from levan for port stuff.  fixes from me
		for a stupid core dump that shouldn't happen.  we
		reset the entire server connection list if we get
		this `impossible' case.  should warn the user too,
		i guess.

2.8
Thu Jan 26 18:13:57 EST 1995 - matthew green <mrg@eterna.com.au>
	released to the public.

2.7.3
Tue Jan 24 00:13:28 EST 1995 - matthew green <mrg@eterna.com.au>
	configure, configure.in, include/exec.h, include/irc_std.h
	source/exec.c:
		some fixes for next:  major lossage head damaged
		i don't know how to organise an operating system
		such that it works -or- i'm just a stupid git who
		has no idea about standards.  you choose.

2.7.2
Sat Jan 21 12:34:02 EST 1995 - matthew green <mrg@eterna.com.au>
	source/dcc.c:
		always make sure from_server is set in dcc_open.
	source/edit.c:
		some zcat fixes.
	configure, configure.in:
		-lc -lposix for NeXT.

2.7.1
Mon Jan 16 20:14:59 EST 1995 - matthew green <mrg@eterna.com.au>
	source/server.c, source/edit.c, include/server.h:
		added /disconnect.

Mon Jan 16 17:23:38 EST 1995 - matthew green <mrg@eterna.com.au>
	source/parse.c:
		can't use '\a' on broken compilers.  what a pile
		of shit they are.  found by comstud.

Sun Jan 15 12:14:39 EST 1995 - matthew green <mrg@eterna.com.au>
	source/newio.c:
		fixed bug caused with /flush sending a null rd
		value to new_select().  duh.  found by
		arnaud.girsch@insa-lyon.fr.

2.7
Thu Jan 12 21:20:04 EST 1995 - matthew green <mrg@eterna.com.au>
	2.7 released to the world.

Wed Jan 11 14:16:34 EST 1995 - matthew green <mrg@eterna.com.au>
	source/server.c:
		fixed for new dgets_errno being -1 for read == 0.
		broken strerror() on losing systems.

Tue Jan 10 23:40:24 EST 1995 - matthew green <mrg@eterna.com.au>
	source/whois.c:
		i hate c.  stdarg fixes me and glen bashed into
		working.
	source/window.c:
		doh!  thanks glen.

2.6.10
Sat Jan  7 01:30:11 EST 1995 - matthew green <mrg@eterna.com.au>
	configure.in:
		fixed typo.
	NEWS:
		updated for 2.7
	source/server.c:
		fixed bug in dcc send/chat and non-first server
		connected to.
	include/vars.h.proto, include/keys.h.proto,
	include/hook.h.proto:
		changed __P macro.
	source/ctcp.c source/debug.c source/file.c source/flood.c
	source/funny.c source/hold.c source/ircflush.c
	source/ircserv.c source/lastlog.c source/list.c
	source/menu.c source/notice.c source/output.c source/reg.c:
		reformat.  nothing else needed now.

2.6.9
Thu Jan  5 17:52:00 EST 1995 - matthew green <mrg@eterna.com.au>
	source/vars.c:
		fixed losing ansi stuff.
	Makefile.in:
		added cleandir and realclean targets.

Wed Jan  4 22:44:18 EST 1995 - matthew green <mrg@eterna.com.au>
	configure.in, source/help.c, source/mail.c:
		updated fully for autoconf 2.x.  this could lead
		to some breakage.  we'll see.
	source/edit.c:
		make `/topic * foo' work as expected.
	source/keys.c, source/term.c:
		fixed eight_bit_mode and /bind'ing char's with an
		eigth bit set.

2.6.8
Tue Jan  3 01:14:53 EST 1995 - matthew green <mrg@eterna.com.au>
	source/
		removed all occurances of "index" as a variable.
		move the ansi prototype macro from __P() to _()
	code "freeze" for 2.7

Mon Jan  2 16:44:10 EST 1995 - matthew green <mrg@eterna.com.au>
	source/names.c, source/funny.c, source/parse.c,
	include/names.h:
		added new method of user joining for irc 2.9 (
		JOIN #foo^G[ov]) handling.

Sun Jan  1 21:39:58 EST 1995 - matthew green <mrg@eterna.com.au>
	source/dcc.c, source/server.c, include/server.h
		added struct in_addr to server structure that is
		filled in with getsockname() and is used in dcc
		requests.
	source/dcc.c:
		added idea from mark to show unknown dcc requests.
	source/newio.c:
		fixed new_select() to call select with the correct
		first argument.

2.6.7
Thu Dec 29 22:22:34 EST 1994 - matthew green <mrg@eterna.com.au>
	source/Makefile.in:
		fixed lossage with wterm dependancies.
	source/irc.c:
		fixed "irc --" and "irc -q nick" core dumps.
	source/input.c:
		make transpose chars work at the end of line.
	doc/ircII.1:
		updated my email address.

2.6.6
Wed Dec 21 20:43:04 EST 1994 - matthew green <mrg@eterna.com.au>
	source/Makefile.in:
		updated dependancies.  (problems pointed out by
		daniel carosone).
	source/dcc.c:
		read in to the *end* of the buffer, dork.

2.6.5
Mon Dec 19 02:57:38 EST 1994 - matthew green <mrg@eterna.com.au>
	Makefile.in, configure.in:
		some changes as needed for autoconf 2.x.
	source/dcc.c, source/window.c, include/dcc.h:
		might have fixed the bug with bsd/dcc chat.

2.6.4
Mon Dec 19 01:47:21 EST 1994 - matthew green <mrg@eterna.com.au>
	source/irc.c, source/notice.c, include/irc.h:
		added -q option for quick startup.

Mon Dec 19 01:32:15 EST 1994 - matthew green <mrg@eterna.com.au>

	source/edit.c, source/names.c, source/screen.c,
	source/window.c, include/window.h
		added 'bind' and 'unbind' window commands.
	source/edit.c:
		moved NOVICE /part stuff to only be when we are
		actually sending a JOIN to the server.

Sun Dec 18 23:00:54 EST 1994 - matthew green <mrg@eterna.com.au>
	easyinst:
		fixed bug in question asking.
	source/server.c:
		fixed lossage with /server -delete, reported by
		scottr.
	source/parse.c:
		removed bogus fix from cjs@netcom.com.
	source/alias.c:
		still fixing chanusers().
	source/exec.c:
		close all unneeded fd's in /exec now.
	source/numbers.c:
		try to set the message_from level to the channel
		the numeric is about, if we can.
	source/screen.c:
		move closing in to close_all_screen() so we can
		call it for /exec also.

2.6.3
Sun Nov 27 03:16:16 EST 1994 - matthew green <mrg@eterna.com.au>

	source/alias.c:
		fix for chanusers() from Greg Jarman <amigo@deakin.edu.au>
	source/ctcp.c
		fix for do_echo() from taner
	source/window.c
		made default JOIN rather than CHANNEL for /win join
	source/parse.c
		fix for /server lossage from cjs@netcom.com
	source/translat.c:
		fix for /set -translation

Sun Nov 27 02:36:23 EST 1994 - matthew green <mrg@eterna.com.au>

	source/screen.c, source/vars.c, include/vars.h.proto:
		added dave leonard's screen_options stuff, as well
		as some bug fixes he found.

Fri Nov 25 16:58:00 EST 1994 - matthew green <mrg@eterna.com.au>

	source/dcc.c:
		got fix for dcc problems from Scott Johnson
		<scottj@neuron.cs.tamu.edu>

Tue Nov 15 01:27:40 EST 1994 - matthew green <mrg@eterna.com.au>

	source/dcc.c:
		added diagnostic to attempt to observe losing dcc
		chat and newer-bsd's.  it appears that somewhere
		between 2.5 and 2.6.2 it was fixed -- perhaps the
		edit.c lossage fixed in 2.6.1.
	source/edit.c:
		/join now defaults to sending a JOIN command rather
		than sending a CHANNEL command... duh!

2.6.2
Mon Nov 14 01:23:44 EST 1994 - matthew green <mrg@eterna.com.au>

	source/names.c, source/server.c:
		fixed bug avalon found where death of other
		servers would cause channel lists to be broken.
	source/screen.c:
		fully initialised struct timeval for window create.
		
2.6.1
Tue Nov 08 02:35:r9 EST 1994 - matthew green <mrg@eterna.com.au>

	Makefile.in, mkinstalldirs:
		removed old garbage, and we now use noah's
		mkinstalldirs..
	include/help.h, include/if.h, include/queue.h:
		added to help fix edit.c lossage.
	include/alias.h, include/crypt.h, include/edit.h,
	include/exec.h, include/history.h, include/hook.h.proto,
	include/ignore.h, include/irc.h, include/keys.h.proto,
	include/notify.h, include/parse.h, include/server.h,
	include/stack.h, include/parse.h, include/vars.h.proto,
	include/window.h, source/alias.c, source/crypt.c,
	source/edit.c, source/exec.c, source/help.c,
	source/history.c, source/hook.c, source/if.c,
	source/ignore.c, source/keys.c, source/match.c,
	source/names.c, source/notice.c, source/notify.c,
	source/queue.c, source/server.c, source/stack.c,
	source/translat.c, source/vars.c, source/window.c,
	source/irc.c:
		many of the functions in the edit.c command array
		were called with three args, but these functions
		only took 2 args.  all fixed up and prototyped now.
		who knows what lossage this caused.  found by
		diane bruce (db@diana.ocunix.on.ca).

2.6
Tue Oct 18 19:17:49 EST 1994 - matthew green <mrg@eterna.com.au>

	script/newformat
		does $R processing for stats l output.  works only
		on the local server, though.  from ian.

Mon Oct 17 21:59:21 EST 1994 - matthew green <mrg@eterna.com.au>

	source/reg.c:
		% was broken in pattern matching.  got a fix from
		ian and no_nick for this.  grumble.
	source/server.c, include/config.h.dist
		got a patch from ian to make ircii do dynamic
		ip number stuff.

2.5
Sun Oct 16 15:45:47 EST 1994 - matthew green <mrg@eterna.com.au>

	more general clean up.

2.4
Sun Oct 16 09:48:53 EST 1994 - matthew green <mrg@eterna.com.au>

	source/edit.c:
		turned on hop's for, fe and fec commands.

Sat Oct 15 13:25:47 EST 1994 - matthew green <mrg@eterna.com.au>

	general clean up of everything.

2.3.24
Wed Oct 12 09:24:36 EST 1994 - matthew green <mrg@eterna.com.au>

	source/debug.c:
		added fixes.
	source/irc.c, source/screen.c:
		added debugging info in forward_scroll. (not part
		of release tree).
	source/stack.c:
		begun finishing.

Sun Oct  9 16:42:44 EST 1994 - matthew green <mrg@eterna.com.au>

	configure.in source/crypt.c source/dcc.c source/debug.c
	source/edit.c source/exec.c source/help.c source/history.c
	source/hook.c source/ircaux.c source/server.c source/log.c
	source/term.c source/whois.c source/window.c source/output.c
	source/ctcp.c:
		stdarg.h patches from brianc@qnx.com and glen@qnx.com,
		plus some other minor fixes.  qnx support, also.

Thu Oct  6 22:16:42 EST 1994 - matthew green <mrg@eterna.com.au>

	source/server.c:
		fixed `bug' in -DPHONE where /window server + was
		setting the window level to ALL.  eeew.

Mon Sep 26 14:38:17 EST 1994 - matthew green <mrg@eterna.com.au>

	source/alias.c:
		fix for onchannel() from Scott Reynolds
		<scott@lisa.acs.nmu.edu>

2.3.23beta
Sun Sep  4 00:24:13 EST 1994 - matthew green <mrg@eterna.com.au>

	source/names.c:
		fixed /part bug,and a fix (finally!) for ischanop()
		from <cbehrens@iastate.edu>.
	source/dcc.c:
		fixed bug where you could not dcc send to one person
		more than once.
	source/screen.c:
		fixed resize bug when going to s smaller window and
		a line would be cut off.  how did this last so long?

Tue Aug  2 00:30:33 EST 1994 - matthew green <mrg@eterna.com.au>

	configure.in, include/irc.h, include/term.h, source/scandir.c,
	source/term.c:
		fixed hpux autoconf problems.
		configure now checks that -lresolv actually works,
		and doesn't break compiles.
		configure doesn't use BSDWAIT if POSIX is defined,
		so that newer bsd systems (like netbsd) will use the
		POSIX waitpid() stuff, not causes warnings..

Sun Jul 31 21:53:03 EST 1994 - matthew green <mrg@eterna.com.au>

	source/dcc.c:
		removed debug message, and a fix for DCC_RAW from
		jim_bob (jrg@doc.ic.ac.uk).

2.3.22beta
Sun Jul 31 03:07:00 EST 1994 - matthew green <mrg@eterna.com.au>

	source/names.c, source/parse.c, include/names.h
		fixed ircii not forgetting about remembered channel
		modes after the channel has been joined.
	source/queue.c, source/notify.c, source/mail.c:
		fixed compatibilty problems found with sunos cc.
	source/irc.c:
		versions.
	script/autoop, script/list, script/functions, script/imap,
	script/history-match:
		fixed autoop & list, cleaned up functions and imap,
		added history-match (Daemon).

Tue Jul 26 22:12:42 EST 1994 - matthew green <mrg@eterna.com.au>

	source/edit.c, source/alias.c:
		getcwd() fixes from cgw.
	source/dcc.h, include/dcc.h:
		added new member to the client struct, othername.
		it's currently only used by dcc_filesend() to save
		the name given as well as the full path - so that
		/dcc send file nick file works, without giving the
		full pathname for 'file'.

2.3.21b
Mon Jul 25 23:27:09 EST 1994 - matthew green <mrg@eterna.com.au>

	source/window.c:
		window() - added new commands REMOVE, which is the
		opposite of ADD, and NUMBER, which changes the refnum
		of a window, forcing a swap if needed.
	source/ircserv.c:
		removed printf()'s. no more lame messages at startup
		now.
	acconfig.h, configure.in, include/irc.h, source/alias.c,
	source/dcc.c, source/edit.c:
		configure now checks for getcwd() not getwd(), and
		everything now uses getcwd() not getwd().
	source/term.c:
		cleaned up a bit.
	script/uhnotify:
		got a fix from taner <taner@ucsd.edu>.


2.3.21a
Sat Jul 23 23:30:53 EST 1994 - matthew green <mrg@eterna.com.au>

	source/alias.c:
		fixed the broken $, bug introduced from hop's alias.c
		changes.  blah.

Sat Jul 23 18:37:25 EST 1994 - matthew green <mrg@eterna.com.au>

	source/alias.c, include/irc_std.h, source/term.c:
		removed sys/param.h, and moved it into irc_std.h.
		this was to get the newer bsd's define of BSD4_4
		(net/2 defines this as 0.5), which was then used
		in term.c to use termios.
	source/ctcp.c:
		also prints unix version (uname) in ctcp finger
		reply.
	source/scandir.c:
		removed sunos4 readdir_r() stuff.  it used to fail
		because we were getting the ucblib's readdir() but
		not using the right header files.
	include/irc_std.h, configure.in, acconfig.h:
		added a check for memmove(), which we now use if we
		are missing bcopy().


2.3.21
Sun Jul  3 17:03:52 EST 1994 - matthew green <mrg@eterna.com.au>

	source/alias.c:
		fixed bug that broke /if and chewed cpu time.

2.3.20
Sat Jul  2 17:36:41 EST 1994 - matthew green <mrg@eterna.com.au>

	this version was mostly updates from jeremy nelson
	(jnelson@iastate.edu), with a few other bits from me.

	configure, acconfig.h:
		bug fix for signal() test, and check for uname(2).
	include/dcc.h, source/notice.c, source/whois.c:
		added new hooks ENCRYPTED_NOTICE and
		ENCRYPTED_PRIVMSG from hop (jnelson@iastate.edu)
	include/names.h, source/names.c:
		fixed memory leak in recreate_mode() that hop found,
		but patched badly ;).  it now caches the string
		version of the mode for each channel, in each channel's
		channel struct.
	source/Makefile.in:
		updated dependancies.
	source/alias.c:
		reworked parser stuff from hop, plus a few new goodies.
	source/ctcp.c:
		added special parsing of ctcp SED.
		added posix uname() handling for ctcp FINGER.
	source/help.c:
		temporary fix for compressed help pages.
	source/hook.c:
		added hop's new do_hook() and assiciated routines that
		fix the bugs we had in serial numbers.
	source/if.c:
		added some of hop's if.c hacks
	source/ircaux.c:
		added hop's stristr() and rstristr() functions.
	source/parse.c:
		many bug fixes from hop.
	source/queue.c:
		added hop's queue.c after cleaning it up a bit.
	source/whois.c:
		various bug fixes from hop and myself.

version 2.3.19 never really existed.

2.3.18
Sun Mar 27 22:41:02 EST 1994 - matthew green <mrg@eterna.com.au>

	source/reg.c:
		fixed bug in matching where the string ended in \.
		found by avalon (avalon@coombs.anu.edu.au)
	source/input.c:
		fixed bug in transpose characters (avalon).
	source/alias.c:
		fixed pathetic code for showing aliases.
	source/dcc.c:
		fixed window level stuff.. bry (b@ctpm.org).
	source/hook.c
		removing all hooks with a specific serial number
		works now (/on #hook 1 -).
	source/parse.c, source/numbers.c:
		fixed bugs with missing args

2.3.17beta
Mon Mar 21 00:08:15 EST 1994 - matthew green <mrg@eterna.com.au>

	source/crypt.c, source/help.c, source/vars.c, source/screen.c,
	source/Makefile.in:
		fixed security bugs in /help and some /set's and in
		/window create.
	configure.in:
		moved AC_PROG_CPP.
	translation/RUSSIAN*:
		added this.  thanks to dima@demos.su (Dima Ruban)
		for these.

Sat Mar 19 00:04:42 EST 1994 - matthew green <mrg@eterna.com.au>

	source/window.c:
		fixed bug in /on window_kill
	source/help.c:
		fixed lame bug in freeing nonallocated memory
	source/exec.c:
		fixed bugs in getpgrp() stuff
	source/dcc.c:
		dcc requests with the port < 1024 are now rejceted.
	source/scandir.c
		hopefully got the solaris 2 stuff right here.  i
		hate solaris 2.

2.3.16beta
Thu Feb  3 20:11:11 EST 1994 - matthew green <mrg@eterna.com.au>

	source/ctcp.c:
		fixed stupid bug
	source/parse.c:
		fixed window level problems.

2.3.15beta
Tue Feb  1 19:18:23 EST 1994 - matthew green <mrg@eterna.com.au>

	source/config.h:
		updated for the beta release.
	source/scandir.c:
		memory leak fixes, and solaris fixes.
	source/status.c:
		'mode k' bug fixed.  any non printables chars are now
		hanlded properly in the status line..

Mon Jan 17 18:48:54 EST 1994 - matthew green <mrg@eterna.com.au>

	source/parse.c:
		fixed the level of topic changes
	source/server.c, source/notice.c:
		fixed resending away's on reconnect/changing servers.
	source/notify.c:
		made `notify -' delete all the nicks in the list.

Sun Jan  9 22:47:09 EST 1994 - matthew green <mrg@eterna.com.au>

	source/ctcp.c:
		fixed ctcp flooding so that we don't see multiple
		`ctcp flood from nick'.
	source/whois.c:
		added notify_mark() all for 401.
	source/screen.c, source/wserv.c, include/screen.h:
		added the ttyname stuff, but aren't using it yet.
	source/alias.c:
		fixed stupid bug in alias parsing that gave core dumps.
		how this lasted this long i have no idea.
	source/dcc.c:
		remove the broken-dcc-times stuff, and now we just use
		the anal-ultrix stuff.
	source/parse.c:
		added message_from() things for p_channel().
	source/stack.c, source/stack.h:
		played some more.  things actually compile again here,
		but nothing new works.

2.3.14
Wed Jan  5 22:43:08 EST 1994 - matthew green <mrg@eterna.com.au>

	source/notify.c, source/notice.c, source/parse.c, source/whois.c,
	source/vars.c, include/config.h*, include/vars.h.proto,
	include/notify.h
		added notify_handler variable.
	source/irc.c:
		fixed bug in /wait.  god, what a stupid bug.

Sun Jan  2 02:36:11 EST 1994 - matthew green <mrg@eterna.com.au>

	source/scandir.c:
		fixed for readdir_r() with solaris 2.  thanks to
		Travis L Priest <T.L.Priest@LaRC.NASA.GOV> for this one.
	source/names.c:
		fixed sending of modes to server on rejoin.
	source/alias.c:
		fixed bug in $N where from_server != current_screen->
		current_window->server.
	source/ctcp.c:
		made `ctcp time' more `date' like.
	source/window.c:
		made continued line be up to 1/2 the screen.

Thu Dec 30 23:47:01 EST 1993 - matthew green <mrg@eterna.com.au>

	source/unotify:
		updated to not show UNKNOWN crap.
	source/help.c:
		fixed set help_window.  i hate help.c
	source/numbers.c:
		changed reset_nickname() etc to not have more than
		one `Nickname:' prompt waiting at a time.

Wed Dec 29 01:08:13 EST 1993 - matthew green <mrg@eterna.com.au>

	script/uhnotify:
		added new script to do cached userhost lookups for
		notify.

2.3.13
Tue Dec 28 03:26:13 EST 1993 - matthew green <mrg@eterna.com.au>

	source/edit.c:
		userhost() - now lets any number of nick's for -cmd.
	configure.in:
		fixed lame bugs in 2.3.12 that prevented it from
		even compiling.

2.3.12
Fri Dec 24 00:50:11 EST 1993 - matthew green <mrg@eterna.com.au>

	source/vars.c, source/whois.c, source/notify.c, source/parse.c
	include/vars.h.proto, include/notify.h:
		added notify stuff from checking join's, etc.
	source/help.c
		fixed typo-bug.
	source/edit.c, source/server.c:
		added /clear -unhold

Wed Dec 22 23:30:15 EST 1993 - matthew green <mrg@eterna.com.au>

	source/exec.c, configure.in, acconfig.h:
		finished svr3/twg patches, fixed the UNIX_MAIL stuff,
		finished the auto-grok signals for exec.c.

2.3.11c
2.3.11b
	source/server.c:
		fixed all known bugs in server.c ;-)
2.3.11a
Thu Dec  2 21:05:56 EST 1993 - matthew green <mrg@eterna.com.au>

	source/server.c:
		added extra debugging to dgets stuff.

2.3.11
Thu Dec  2 01:50:31 EST 1993 - matthew green <mrg@eterna.com.au>

	source/dcc.c, source/exec,c, source/irc.c, source/server.c
	source/newioc, source/screen.c:
		fixed lame bug's introduced in 2.3.9 that caused
		bogus server connections closing.

2.3.10
Sun Nov 28 13:15:14 EST 1993 - matthew green <mrg@eterna.com.au>

	source/exec.c:
		fixed POSIX kill(-pid).

Mon Nov 15 23:32:22 EST 1993 - matthew green <mrg@eterna.com.au>

	source/crypt.c source/exec.c source/file.c source/help.c
	source/irc.c source/ircaux.c source/ircflush.c source/log.c
	source/mail.c source/notice.c source/parse.c source/scandir.c
	source/term.c include/irc.h:
		svr3/wollongong tcp/ip patches applied from entropy
		(entropy@parakeet.con.wesleyan.edu)

2.3.9
Mon Nov 15 00:58:56 EST 1993 - matthew green <mrg@eterna.com.au>

	source/..:
		various fixes to remove the `stricmp' stuff so that
		ircii always uses its own `my_stricmp'
	source/server.c, source/parse.c, source/window.c:
		fixed bug where ircii wouldn't let you /server after
		a oper kill.  removed the kludge `CLOSING_SERVER'
		code (oops, for got to remove the #define from server.h
		oh well).
	source/irc.c:
		fixed notify/clock scheluding.
	
Tue Nov  2 21:17:59 EST 1993 - matthew green <mrg@eterna.com.au>

	source/exec.c, include/irc.h:
		exec.c defines IN_EXEC_C so that in include/irc.h we
		don't include unistd.h

	source/dcc.c, source/ircserv.c, source/ircaux.c, source/newio.c
		added set_socket_options() which either calls the
		ESIX mark_socket() thing, or sets off linger and sets
		keepaline and reuseaddr on.

2.3.8
Mon Nov  1 00:45:13 EST 1993 - matthew green <mrg@eterna.com.au>

	source/edit.c:
		added /beep command which just beeps the terminal.
	source/edit.c, source/keys.c:
		added rbind command that is a reverse bind lookup.
		`/rbind parse_command' shows all keys bound to
		parse_command.
	source/status.c:
		fixed problem with alarm clock (shulick@indiana.edu)
	source/irc.c:
		handlers for SIGHUP/SIGTERM that call irc_exit().

Sun Oct 31 18:01:12 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/server.c:
		fixed bug where primary_server was -1 and used as an
		index.
	source/vars.c, source/hook.c, source/edit.c, source/alias.c,
	source/keys.c, source/notice.c:
		changed the way /save works.  you can use -bind -on
		-alias -digraph -set -notify to save just those types
		(default is all of them), and the -all switch also
		saves things that were generated by the global script.
		these are not saved by default.

Sun Oct 31 05:10:14 EST 1993 - Matthew Green <mrg@eterna.com.au>

	configure.in:
		updated for autoconf 1.7, couple of other small
		bugs fixed
	source/vars.c, include/vars.h.proto:
		added REALNAME varaible.

2.3.7
Sun Oct 24 21:47:10 EST 1993 - Matthew Green <mrg@eterna.com.au>

	too many to remember.  many bugs fixed.  hide_private_channels,
	mode #foo +l 0, away when changing servers.  on connect now has
	the port.  added posix signals when avaliable.  more real svr4
	support.  various little bits of other peoples patches added
	where still needed.

2.3.6
Mon Oct  4 02:37:27 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/status.c:
		yay!!!!!! fixed the `cursor gets lost with /window
		create' bug finally.  added a cursor_to_display() in
		update_status().
	source/alias.c:
		new funcitons pid() and ppid() (and thus function_pid()
		and function_ppid()).

Sat Sep 25 20:13:38 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/server.c:
		fixed the long know bug in bad link on /server.  also
		fixed setting of closed fd to -1.

Sun Sep  5 23:52:39 EST 1993 - Matthew Green <mrg@eterna.com.au>

	easyinst:
		shell script from end to configure that also sets up
		the default server and default help service.
	source/, include/
		removed `SCO' and replaced it with either `M_UNIX' or
		with `HAVE_SYS_UN_H'.
	source/dcc.c:
		now shows the port as well as the ip address.

Thu Aug 26 00:09:11 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/dcc.c, source/window.c, include/lastlog.h:
		fixed bugs in 2.3.3 relating to window level LOG_DCC.
		LOG_DCC is back in level LOG_ALL 'cause now only one
		window can have it at once.
		oh god i am so lame.  fixed /dcc get bug.
	
	configure.in:
		added tests for testing getpgrp() to grok non-posix
		getpgrp() regardless what <unistd.h> says.

2.3.3
Sun Aug 22 18:29:21 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/, include/irc.h
		removed all occurances of the lame null() macro.
	
2.3.2
Sun Aug  1 02:25:21 EST 1993 - Matthew Green <mrg@eterna.com.au>

	configure.in, source/Makefile.in, Makefile.in
		no longer creates source/Makefile from
		source/Makefile.proto, but rather configure does.  we
		call the make in source/ with the righ aruments.
	source/, include/dcc.h, include/irc.h
		general clean up with some header files, fixed time.h
		and sys/time.h, netinet/in.h (thanks 386bsd for broken
		header files)..

Wed Jul 28 23:39:51 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/stack.c:
		fixed stack pop on <number> so that the list from the
		stack is actually added to the numeric list, if it was
		empty, currently.

Tue Jul 27 23:59:45 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/ctcp.c:
		fixed bugs in send_action() where it was sending the
		message as the format string, and in do_sed() where it
		was calling crypt_msg() with a null key.

2.3.1
Sat Jul 24 03:47:26 EST 1993 - Matthew Green <mrg@eterna.com.au>

	script/dmsg
		added this finally..

2.3.0
Sun Jul 18 04:36:04 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/dcc.c:
		fixed lame bug with the dcc deadlists.
	source/ircaux.c:
		null() -=> NULL

2.3beta1.9
Mon Jul 12 20:43:55 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/stack.c source/hook.c, include/stack.h:
		got /stack working with on's.  yay
	configure.in, Makefile.in, acconfig.h:
		updated for use with autoheader, acconfig.h added for
		this purpose (thanks noah).  defs.h is much nicer than
		-DBLAH all the way across the screen.
	source/scandir.c, configure.in:
		whole thing put in a #ifdef HAVE_SCANDIR, that is grokked
		in configure ..

2.3beta1.8
Sat Jul 10 13:11:48 EST 1993 - Matthew Green <mrg@eterna.com.au>

	configure.in, Makefile.in:
		fiddled with, added questions for DEFAULT_SERVER and
		DEFAULT_HELP_SERVICE, unused so far..
	source/dcc.c, source/edit.c, source/numbers.c:
		fixed some level things.
	source/edit.c:
		made NUMBER_OF_COMMANDS groked automatically..

2.3beta1.7
Sun Jul  4 19:49:36 EST 1993 - Matthew Green <mrg@eterna.com.au>

	NeXT port for 2.3 ..  cleaned up all the .. `suggest parentheses'
	warnings from gcc -Wparentheses ..

2.3beta1.6
Thu Jul  1 23:06:14 EST 1993 - Matthew Green <matthew@valiant.vut.edu.au>

	hpux/osf1/sgi/osx/ptx stuff for 2.3 ..

2.3beta1.2
Tue Jun 29 14:14:29 EST 1993 - Matthew Green <mrg@eterna.com.au>

	.. added gnu's autoconf to ircII, it works for sunos, and mostly
	for sgi so far ..

2.2.9
Tue Jun 29 00:05:04 EST 1993 - Matthew Green <mrg@eterna.com.au>
	
	source/newio.c;
		new_select() - once again, linux proves to be painful.
		previous `fixes' to this routine were lame, and leaked
		memory.

2.2.8
Sat Jun 26 14:45:10 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/hook.c:
		fixed stupid bug in do_hook() which ignored the last
		/on in each list.

2.2.7
Sat Jun 26 05:15:35 EST 1993 - Matthew Green <mrg@eterna.com.au>

	.. clean up for release ..

Fri Jun 18 12:25:18 EST 1993 - Matthew Green <mrg@eterna.com.au>

	.. various bugs for dynix/ptx, linux, hpux .. fixed.. general
	clean up for the release.

(2.3beta1.1)
Sun Jun 13 01:10:07 EST 1993 - Matthew Green <mrg@eterna.com.au>

	Wow.  ircII is now under RCS.

2.2.7pre2
Fri Jun 11 03:44:25 EST 1993 - Matthew Green <mrg@eterna.com.au>

	ctcp.c:
		do_finger() - fixed type for replies for daemon clients..
	server.c:
		server() - fixed setting of away's, was causing core dumps,
		and general lossage.

Wed Jun  9 23:30:33 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/server.c:
		fixed sending AWAY's when reconnecting.. by adding the
		: prefix..

(2.3beta1.0)
Wed Jun  9 00:20:19 EST 1993 - Matthew Green <mrg@eterna.com.au>

	the lot,
		gah, huge clean up.  changed the lame alpha `port' Long
		stuff back to long, and started using the types for lots
		of things.. like time_t, etc..
		created include/ and moved every header in here..  major
		changes to source/Makefile.proto for this..
		added debug.c and debug.h..  and debug define to config.h

Wed Jun  2 23:07:25 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/term.c, source/irc.c:
		added support to reset signal handlers under ESIX.
	source/edit.c, source/server.h, source/server.c:
		made /redirect smarter about if it needs to wait on
		server output, by setting something in send_to_server(),
		that is checked after the end of the parse_line() in
		redirect().
	source/dcc.c:
		fixed varoius DYNIX/ptx problems that got introduced..
	source/window.c:
		create_additional_screen() - close() and unlink() when
		the create fails...

Tue Jun  1 23:41:08 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/term.c:
		term_cont() - added signal for linux..

2.2.7pre1
Tue Jun  1 20:00:02 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/vars.c, source/edit.c:
		Changed the way EIGHT_BIT_CHARACTERS works so that if you
		set it, its honoured.
	source/ctcp.c:
		fixed UTC bug.
	source/, Makefile.
		Added patch from Fuzzy to give SCO UNIX support.
		<adrian@cursci.co.uk>

Sun May 30 01:36:18 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/help.c:
		fixed the linux/help bug finally.  not exactly sure what
		was wrong with it, but Veep <eric@blahrvares.er.usgs.gov>
		found the problem, and i fixed it.

Fri May 28 23:10:47 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/parse.c:
		p_privmsg() - fixed beep_when_away with /on msg..

Thu May 20 03:25:57 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/irc.c:
		irc_io() - when reading from stdin (for any screen) we
		read up to BIG_BUFFER_SIZE chars at a time now.
	source/ctcp.c, source/dcc.c:
		added sizes to dcc send/get.
	source/names.c:
		decipher_mode() - bug with loosing track of mode string
		for mode's v and b (Aiken).
	source/alias.c:
		added randm(), a better random function (Sarayan) and
		fixed bug in function_srand() if input was an empty
		string.
	source/edit.c:
		load() - now allows \ at the end of a line to continue
		the line (Stargazer <spz@specklec.mpifr-bonn.mpg.de>)

Tue May 18 01:20:50 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/numbers.c:
		stupid stupid stupid bug in 433 handling fix.
	source/screen.c:
		over zealousness with unsigned char's removed.

2.2.6+
Wed May 12 20:39:01 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/numbers.c:
		fixed various bugs in the handling of some of the more
		important numerics.  every numeric should be able to
		be caught in a /on now.
	source/notice.c:
		parse_server_notice() - if from is null, use the server's
		name as far as its concerned, if it exists (.itsname).
	source/screen.c:
		change the handling of lines that are null being written to
		the screen, that was causing core dumps in places. (Rogue_F)
	source/keys.c:
		write_bindings() - changed char to unsigned char.

Fri May  7 22:54:58 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/names.c:
		blah, fixed show_channel() to not assume buffer isn't
		changed ever.

Thu May  6 04:41:24 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/numbers.c, source/parse.c, source/funny.c:
		fixed some numerics that were in accessable from /on
		<num> (353 and 366), and removed the away-time from
		the /on msg hook.
	script/finger:
		updated so it doesn't cause core dumps on AIX (Daemon)
	install:
		updated to work with the new config.h (Daemon)

Wed May  5 21:43:35 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/new_io.c:
		new_select() - if timeout == NULL, then we bzero() the
		newtimeval .. stops ircserv from hanging... thanks to
		Kenny Zalewski <zalewk@rpi.edu> for this.

2.2.5
Tue May  4 17:12:03 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/keys.h.proto, source/keys.c, source/screen.c
		Added new binding SCROLL_START, and new function
		scrollback_start() to do it.
	source/ircaux.c:
		check_nickname() - fixed bug where it was returning `s'.

Tue May  4 02:11:02 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/exec.c:
		various patches from avalon added to help speed up
		exec handling.

Mon May  3 21:32:49 EST 1993 - Matthew Green <mrg@eterna.com.au>

	aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaargh.
	Turning bold or inverse off turns everything off.  its a bug in
	termcap. sigh.

Mon May  3 01:26:18 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/irc.c:
		added HPUX and linux to the re-issue list for signals
		that are handled seeing the internal process handlers
		aren't always re-set properly -=> ^C making the client
		exit untimely.

Sun May  2 23:06:08 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/parse.c, source/notice.c, source/ignore.c, source/ignore.h:
		changed the handling of ignore_combo, introducing
		a new function double_ignore().
	source/parse.c, source/ignore.c
		moved IgnoreCombo() into ingore.c from parse.c and
		renamed it ignore_combo()
	source/window.c, source/screen.c, source/dcc.c:
		removed netinet/in.h and arpa/inet.h includes where they
		existed as dcc.h includes them, and 386BSD has lame
		header files.
	source/pares.c:
		p_nick() - if its mynick then its shown to the current
		window.
	source/lastlog.c:
		lastlog() - added -literal switch.

Sun May  2 05:03:27 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/names.c, source/names.h:
		Added channels keys to the channel stuff, and it also
		gets shown in the mode returned.
	source/numbers.c:
		Fixed bug in 002 handling with SHOW_NUMERICS on.

Fri Apr 30 18:48:04 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/ircux.c:
		check_nickname() - rewritten, and handles things better.
	source/irc.c:
		parse_args() - we now call check_nickname() to make
		sure the nick given is "ok".  If not, we don't start.

Wed Apr 28 19:55:43 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/ctcp.c:
		fixed bug in ctcp ping reply.
	source/parse.c, source/edit.c:
		prefixed duplicate funcion names with p_ and e_.
	source/screen.c:
		fixed lame bug in add_to_window() where the arguments
		to strmcat() were wrong.  (wall privmsg quit channel
		invite nick)
	source/keys.c:
		added emacs bindings to 0x80 + b/d/f/h/^? for people
		with meta keys.
	source/keys.h:
		removed.  wasn't used anywhere.
	source/dcc.c:
		DCC connections are now shown with the ip number, to
		provide a little extra security (Avalon).

Tue Apr 27 02:33:03 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/dcc.c:
		"blah". fixing put_it() et al, didn't fix the lame
		ultrix float bug after all.  stupid ultrix.

2.2.4
Mon Apr 26 12:01:58 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/ctcp.c:
		fixed lame bug in do_atmosphere() that was making channels
		leave windows because of a missing 2nd argument to
		is_current_channel().

2.2.3
Mon Apr 26 00:42:21 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/screen.c, source/irc.h, source/irc.c:
		added new global variable, char global_all_off[] that
		holds a string with the ALL_OFF character in it.  Fixes
		bug with crap getting on the screen.
	source/Makefile.proto:
		Added dependancies for crypt.o.

pre2.2.3
Sun Apr 25 11:17:29 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/exec.c:
		fixed lameness with wait3() arguements.
	source/screen.c:
		added a `:' to the send_to_server() call when redirecting.
		makes it so that 2.8 servers get everything.

Sun Apr 25 01:35:35 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/
		blah. fixed several problems in lots of stupid things
		i did for the release.
	source/screen.c, source/status.c, source/irc.h:
		changed bold, inverse and underline characters to
		^B, ^V and ^_ respectively.  wow.  it makes some sense
		now.
	Makefile:
		Some rearrangements, and general updating.  its now
		easier to install, or at least i hope so.
	config.h:
		several things updated, AUTO_RECONNECT removed..

2.2.2
Fri Apr 23 05:44:29 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/
		fixed all of the implicit functions declartions, and
		several other compiler warnings. wheeeeeeeeeee.

Thu Apr 22 14:42:07 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/numbers.c:
		fixed handling of RPL_LINKS (364) so that 2.8 servers
		would be cool.

Thu Apr 22 04:18:53 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/
		fixeds 1000's olf lines of warnings from gcc -Wall.

Tue Apr 20 22:29:05 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/term.c:
		fixed lame hpux bugs, got term.c back to working again.
	source/keys.c, source/edit.c:
		fixed 8-bit stuff again in edit_char(), by using
		unsigned char.

pre2.2.pl12
Mon Apr 19 21:54:09 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/term.c:
		blah.  i hate sun tty drivers.  we're back to sgtty.

Sat Apr 17 21:28:42 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/alias.c, source/alias.h, source/parse.c, source/ctcp.c,
	source/dcc.c, source/dcc.h, source/edit.c, source/edit.h,
	sourec/exec.c, source/flood.c, source/help.c, source/history.c,
	source/irc.c, source/irc.h, source/ircaux.c, source/log.c,
	source/mail.c, source/notice.c, source/scandir.c, source/server.c,
	source/status.c, source/whois.c, source/dcc.c.orig, source/screen.c:
		Added OSF/1 support.  Made `long' a define, Long.
	source/output.c, source/ctcp.c, source/server.c, source/hook.c:
		put_it(), say(), yell(), send_to_server(), do_hook(),
		send_ctcp() and send_ctcp_notice() - changed from being
		`int' to `char *' being passed.  Fixes several lame
		problems.

Thu Apr 15 17:09:16 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/whois.c:
		whois_operator() - fixed 313 reply, so that 2.8
		servers look cool.
	source/numbres.c
		cannot_join_channel() - now switch on -current_numeric,
		not current_numeric.
	source/term.c:
		Changed terminal handling from sgtty to termios for
		SUNOS.

Tue Apr 13 13:39:09 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/ctcp.c:
		fixed various bugs with ctcp floods,
	source/
		fixed lots of compiler warnings, thanks to Vesa.

pre2.2.2pl10
Mon Apr 12 18:39:55 EST 1993 - Matthew Green <mrg@eterna.com.au>

	all:
		fixed various .h and .c files, removing a few compiler
		warnings.
	source/alias.c:
		changed $channels() and $servers() to $mychannels and
		$myservers().
	source/edit.c:
		Added new command XTYPE [-LITERAL] <text>, function
		xtypecmd().

Mon Apr 12 03:26:44 EST 1993 - Matthew Green <mrg@eterna.com.au>

	Makefile, source/Makefile.proto
		Added LEX and LEXLIB.

Sat Apr 10 02:42:55 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/dcc.c;
		close_all_dcc() - fixed bug where the list was merely
		being lost, not removed (so not closing fd's)

pre2.2.2pl9
Fri Apr  9 02:27:26 EST 1993 - Matthew Green <mrg@eterna.com.au>

	Makefile, source/dcc.c:
		Added PTX patches.
	source/exec.c, source/edit.c, source/screen.c:
		changed test_to_process() to have switch if it would
		call put_it() or not - fixed recusive bug with /redirectign
		to a process.

Thu Apr  8 01:17:41 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c, source/server.c:
		Fixed /window server, and /server so that ircii would
		use the old port numbers.

Wed Apr  7 13:31:23 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/hook.c:
		Made save_hooks() include the serial number.
	source/edit.c:
		parse_line() - \r and \n are not treated as special from
		within a loaded script anymore.

pre2.2.2pl8
Tue Apr  6 23:37:27 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/history.c:
		Fixed history scrolling from the initial input line.
	source/server.c:
		Fixed bug in server -delete where Window->server's
		were left the old value.
	source/mail.c:
		Made it so mail type messages go to level CRAP.
	soucre/alias.c:
		Added poxaV's curpos patch.
	source/edit.c:
		Changed /WAIT to use unknown command, not WHOIS.
	
pre2.2.2pl7
Tue Apr  6 01:01:46 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/notice.c:
		fixed lame bug where the server version/name NOTICE was
		being shown twice.
	source/numbers.c:
		Added lastlog saving to all numeric messages.
	source/mail.c:
		init_mail() - fixed handling of env var MAIL where it was
		strcat()ing not strcpy()ing (Glenn!)
	source/status.c:
		Added Aiken's right justification patch to the status
		line (%>).
	source/screen.c, source/window.c, source/window.h:
		Fixed lame bug where I'd left variables in screen.c and
		window.c.
	source/?:
		Added various things from Lynx.

Mon Apr  5 05:15:16 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/numerics.c:
		made numerics 471 473 474 475 476 show what sort of
		cannot join channel they are.
	source/whois.c:
		made 313 replies (whois operator) only add the
		"(is an IRC operator)" if the server is < 2.8.

Tue Mar 30 03:58:27 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/dcc.c, Makefile:
		Added support for A/UX, thanks to Helen Rose for help
		with this (hrose@eff.org).

pre2.2.2pl6
Tue Mar 30 02:02:22 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/term.c, source/term.h:
		changed various things for hpux terminal emulation. .now
		uses sysV style (termio).  Fixes problem with getting
		info about the terminal out of the tty.  Also added
		support for irix.

pre2.2.2pl5
Mon Mar 29 18:50:25 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c, source/window.h, source/screen.c, source/screen.h
	source/names.c, source/lastlog.c, source/hold.c, source/exec.c,
	source/translat.c, source/term.c, source/status.c, source/menu.c,
	source/irc.c, source/input.c, source/help.c, source/edit.c,
	source/alias.c
		window.c was split into window.c and screen.c today, and
		these files had various changes to fit to this.

Mon Mar 29 01:13:30 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/count.l, source/count.c, source/Makefile.proto:
		Added count.l, removed count.c, and updated Makefile.proto
		to use these changes.
	
	source/irc.c, source/dcc.c, source/exec.c
		Fixed close_all_dcc(), and close_all_exec().  Added
		signal handlers for SIGUSR1 (sig_user1) and SIGUSR2
		(sig_user2).  USR1 closes all dcc and exec connections,
		and USR2 uses setjmp()/longjmp() to break out of where
		it is, and start processing from irc_io() again.  USR2
		doesn't seem to work.  sigh.

pre2.2.2pl4
Sat Mar 27 04:18:29 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c:
		fixed lame bugs for some commands losing parameters.
	source/window.h, source/window.c:
		Fixed bugs in scroll functions where wrong lines were
		displayed when new lines had been added to the window.
		New Window element int new_scrolled_lines.
	source/server.c:
		fixed ircserv to show the real name of the program in
		argv[0], not "ircserv".
	source/edit.c:
		Fixed handling of literal ^J and ^M's to the way they were
		originally documented in UPDATES (the same as \n used to do).
	source/hook.c:
		ugh, do_hook().  added a bzero().  see comments.  ha ha ha.
	source/lastlog.h:
		Added LOG_SNOTE to LOG_ALL.

Thu Mar 25 23:58:58 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/ctcp.c, source/parse.c:
		Finished the ignore ctcps and crap stuff.
	source/parse.c:
		ON PUBLIC has $1 as channel, and $2- as message.

Thu Mar 25 02:19:04 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c:
		fixed send_com() so that it would only use "%s :%s" when
		the argument existed.
	source/ignore.c, source/ignore.h:
		changed level from unsigned char to int, to allow more than
		8 level's of ignore to work.  Reformatted the  output ..

Wed Mar 24 19:57:03 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/numbers.c:
		Fixed motd numerics for 2.8 properly..
	source/vars.h.proto, source/vars.c, config.h, config.h.lynx:
		Added new variable NOTIFY_LEVEL, which is used by default
		for new windows.
	source/edit.c:
		Fixed bug in quote(), where the arguement was being sent
		as the format string.  Real dumb.
	source/ctcp.c, source/ignore.c, source/ignore.h, source/lastlog.c,
	source/lastlog.c:
		Added ignore levels CTCP and CRAP.

Tue Mar 23 01:58:34 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c, source/numbers.c, source/window.c, source/whois.c,
	source/irc.c:
		Changed redirect to use unknown command, and fixed some
		strange bugs.  Some still exist with 2.8 servers.  Also
		made all numerics work with /on <num>.  Some (318 eg)
		didn't have hook code for it.
	source/input.c:
		Fixed lame bug in write a character to the screen.

Mon Mar 22 02:24:43 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c, source/window.h:
		Added window notify levels, with /window notify_level
		level ..
	source/vars.h.proto, source/vars.c, source/window.c, source/keys.c,
	config.h, config.h.lynx:
		Added two new variables, XTERM_OPTIONS, whose value is
		passed to xterm, when using WINDOW CREATE, and
		EIGHT_BIT_CHARACTERS, which, if set, doesn't strip the
		8th bit off the input streams.
	source/alias.c, source/names.c, source/names.h, source/server.c,
	source/server.h:
		Added new functions $channels() and $servers().

Sun Mar 21 02:31:25 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c:
		privmsg() - changed so that /msg =nick and @nick both
		set from_server to -1.. fixes lame level bug..

Sat Mar 20 02:16:34 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c:
		window() - made /window server make the window level
		ALL -DCC, not just ALL.
	source/numbers.c:
		Fixed the INFO and MOTD numerics so that they will work
		with the new ones from ircd 2.8-7+ .. blah ..
	source/newio.c:
		new_select() - fixed so that select() wouldn't over right
		the struct timeval...
		

Fri Mar 12 18:27:31 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c:
		send_com() - wasn't prefixing the arguements with a
		: which meant ircd 2.8 was being lame ...  For some
		commands, using send_comm()

Mon Mar  8 10:22:03 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/exec.c:
		fixed bug in /exec -in
	source/server.c:
		added support for /server -delete
	source/edit.c, source/keys.c:
		Added support for 8 bit input.
	source/irc.c:
		Added command line option -v, version.

2.2.1.2
Sun Feb 28 13:35:19 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/whois.c:
		add_to_whois_queue() - finished fixing another bug in
		/userhost -cmd..
	source/names.c:
		ignore() - made /IGNORE use the HIGHLIGHT_CHARACTER.
		reconnect_all_channels() - fixed bug from 2.2.1

2.2.1.1
Wed Feb 24 17:43:55 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/whois.c:
		Fixed bug in /userhost.
	source/parse.c:
		Fixed bug in ON RAW_IRC.

Tue Feb 23 18:56:54 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/reg.c:
		Fixed bug in \escaping. (Troy)

Sun Feb 21 16:36:22 EST 1993 - Matthew Green <mrg@eterna.com.au>

	script/troy, script/killpath, script/kpstat, script/traces:
		Updatd scripts for 2.2.1.

Sat Feb 20 00:36:12 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c, source/irc.c
		Finally did The Right Thing (tm) with the wait key junk
		that help uses, and moved it from irc_io() to edit_char()
		where I should have put it originally.  Also fixes a bug
		in dumb mode.

Thu Feb 18 01:48:05 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c, source/window.h:
		window() - added new command LOGFILE for window logging.
	source/dcc.c:
		We now use wait_new_free() for dcc_erase().
	Makefile:
		Removed makehelps and changed installhelp.

Wed Feb 17 06:13:34 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/notice.c:
		changed ON SERVER_NOTICE for $0 to be the server name.
		Changed the AIX_370 #if's to BROKEN_SCANF.
	source/ctcp.c:
		Fixed bugs in CTCP PING.
	source/edit.c:
		Fixed bugs in me() and describe().

Thu Feb 11 14:57:10 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/server.c:
		do_server() - actually fixed the autoreconect problems
		when there is only one server in the server list this
		time. ugh.
	config.h, source/vars.h.proto, source/vars.c, source/parse.c
		Added new variable SHOW_WHO_HOPCOUNT, whoreply().

Wed Feb 10 19:53:32 EST 1993 - Matthew Green <mrg@eterna.com.au>

	script/whowas
		New whowas script for 2.2 from Mycroft.
	source/ctpc.c
		Fixed NO_CTCP_FLOOD, changed do_errmsg() to do_echo(),
		and moved do_ping() to this, and added CTCP ECHO.
	Numerous other bugs fixes from various people.

2.2
Tue Feb  9 16:46:39 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/dcc.c, source/scandir.c, source/help.c, source/edit.c:
		couple of bugs fixes here and there ...
	source/edit.c:
		bug in who() with -operator switch..

Sun Feb  7 17:35:03 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c, source/server.c, source/edit.c;
		Fixed away bugs..
	source/window.c:
		update_all_status() - doesn't call traverse_all_windows()
		anymore, as it was calling it recusively.  Should rewrite
		traverse_all_winodws().
	source/
		Support for Solaris 2 added (spot <raob@ee.mu.oz.au>)
	source/
		Support for 386BSD added (Mycroft)

Sun Feb  7 05:04:23 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/alias.c:
		alias_currdir(), and `$W' now return the current working
		directory. alias_version(), and '$V' give the version
		(poxaV).
	source/alias.c:
		alias_current_numeric(), and `$H' now return the current
		numeric.
	source/edit.c;
		fixed couple of memory leaks, made `:' not a special
		character in command mode, as it is now the no-op command.
		me(), describe() and prepare_action() - changed to not
		add the offensive period.
	source/window.c:
		window() - fixed bugs in WINDOW SERVER and WINDOW NAME.
	source/help.c:
		help() - bit of cleaning up..
	source/ctcp.c:
		do_version() - made it use IRCII_COMMENT if the value for
		CLIENT_INFORMATION is null.

Thu Feb  4 17:59:23 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/
		Various unused variables removed, uninitialised variables
		initilised..
	source/status.c, source/window.c, source/hook.c, source/edit.c,
	source/if.c:
		Few bug fixes here and there, and a couple of very nasty
		memory leaks..  thanks to jlemon..
	source/hook.c:
		do_hook() - fixed the `Dumb mode' bug that Daemon, then
		recently poxaV had trouble with (Mycroft)
		
Wed Feb  3 18:30:04 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/ctcp.c, source/vars.h.proto, source/vars.c, config.h:
		New variable NO_CTCP_FLOOD, which when set makes ircii
		only send one CTCP reply per second.
	source/numbers.c, source/whois.c, source/names.c, source/funny.c:
		Changed all the numerics replies so that $0 is now the
		server name (if it want't already), except for ISON and
		USERHOST, as these are server local anyway.

Tue Feb  2 21:40:46 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c, source/whois.c:
		Removed /msg -channel as it doesn't make sense anymore.
	source/dcc.c:
		process_dcc_request() - fixed start times in dcc requests.
	source/status.c:
		status_mail() - fixed stupid bug (Mycroft).
	source/whois.c:
		no_such_nickname() - fixed so that $0 is now the server name.

Sun Jan 31 23:33:18 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c:
		kill_screen() - fixed more lame bugs left for me to fix.
	source/term.h, source/scandir.c, source/ircflush.c:
		Fixed various hpux problems.
	Makefile, config.h, source/dcc.c, source/edit.c,source/exec.c,
	source/irc.c, source/irc.h, source/mail.c, source/scandir.c,
	source/term.c, source/hook.c:
		Fixed various AIX 3.1/3.2 problems.  (Mycroft)

Sat Jan 30 18:28:31 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c, source/ctcp.c:
		Added CTCP PING to ircII...  pingcmd() and special case
		handling for the reply .. convert_ping_args()..
	source/edit.c
		waitcmd() - fixed stupid bug that Troy left in the code
		to set up a WAIT -CMD.

Thu Jan 28 23:37:19 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/names.c:
		Fixed bug in irc -c that I broke when fixing the phone bug.

Wed Jan 27 22:48:46 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c, source/irc.c:
		Changed create_additional_screen() to select on the listening
		socket, and timeout after 5 seconds, returning an error,
		rather than just calling accept().  This stops the case where
		the wserv process doesn't get started, and the client will
		hang in the accept().  Removed the force arguement from
		kill_screen(), and all the calls to it.

	source/edit.c:
		renamed new_send_line() to sendlinecmd() so that it follows
		the general ircII pattern (is there such a thing ? - phone :)
		
Tue Jan 26 19:03:51 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/status.c
		Added poxaV's patch to put time in standard format.

Mon Jan 25 09:14:10 EST 1993 - Brian Koehmstedt <bpk@gnu.ai.mit.edu>

	source/crypt.c, source/dcc.c, source/exec.c, source/help.c,
	source/irc.c, source/ircaux.c, source/notice.c, source/scandir.c,
	source/term.c, source/ircflush.c:
		added support for Linux

Mon Jan 25 02:52:14 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/dcc.c, source/exec.c, source/server.c, source/window.c:
		added close_all_dcc(), close_all_exec() and close_all_server(),
		which are called from create_additional_screen(), from the
		forked process to close all unneeded file descriptors.
		create_screen() - fixed bug when create_screen() returns a
		screen that was marked as being !alive.
		Hmm, somewhere here I think I have fixed the bug with the
		position of the cursor, when using more than one screen.
		No idea if it is fixed, but I can't get it to happen.
	source/names.c:
		set_window_channel() - fixed bug when channel was NULL.

Mon Jan 25 11:44:20 EST 1993 - Charles Hannum <mycroft@gnu.ai.mit.edu>

	source/window.c:
		scroll_window() - fixed bug that deleted text from the
		input prompt

Thu Jan 21 18:16:16 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c, source/dcc.c:
		Added flag to dcc_message_transmit(), to indicate if the
		hook/put_it() call should be made.  Used when redirecting
		to a dcc chat connection, which is now possible.

Wed Jan 20 23:41:50 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c, source/edit.c, source/whois.c, source/window.h:
		Changed how REDIRECT works.  We now send a redirect token
		to the server when redirecting, not a wait token.  It is in
		the form of #RED#nnnn where nnnn is the screen's number
		(internal).  Redirect also is a property of the screen, not
		of the whole of ircII.  This means that there are no more
		valid reasons to call irc_io() recursively.
	source/mysetjmp.h, source/mysetjmp.c, source/irc.c, source/alias.c,
	source/window.c, source/window.h:
		Removed all the code that was applicable to the mysetjmp()
		code, as there are no need for it anymore - only /WAIT and
		$".." call irc_io() recursively, and they can be used in
		other (better) ways.

Tue Jan 19 14:05:52 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/help.c:
		You guessed it.. another bug.. fixed.
	source/window.c;
		window() - fixed bugs in WINDOW SERVER.
	source/parse.c, source/edit.c, source/exec.c:
		Added doing_privmsg, which makes ircII convert all attempts
		to PRIVMSG from a PRIVMSG in to a NOTICE.
	source/parse.c, source/whois.c:
		Added flag to HOST and USERHOST commands.  It allows a command
		to be executed when the the userhost (302) reply comes back
		from the server - userhost_cmd_returned().
	source/edit.c;
		Added new command INPUT.  Takes a ".." prompt as its first
		parameter, and displays this, and prompts for input that
		expanded, and passed to the command that is its second arg.
		(ie, /INPUT "prompt> " echo $*).  This should be used as
		a replacement for $".." type variables.

Sun Jan 17 22:01:34 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/help.c:
		help_prompt() - fixed another bug..  when will it end..?
	source/dcc.c:
		register_dcc_offer() - made dcc collisions for DCC CHAT
		automatically connect to the other party.  Impressed.
	source/window.h, source/window.c:
		Added new define in winodw.h SCROLL_AFTER_DISPLAY .. which
		makes the display scroll like it used to in 2.1.5.

Sun Jan 17 01:16:37 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/funny.c:
		Fixed lame bug in funny_list() which caused the wide list
		to be corrupted when more than 50 in it.

Sat Jan 16 17:42:41 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c:
		Fixed stupid bug in window(), in the CHANNEL command.
	source/dcc.c:
		Forgot dcc get for lame ultrix - fixed.
	source/lastlog.c:
		lastlog() - made it possible to /lastlog <pattern> <count>
		now.
	source/help.c:
		help_me() - fixed a stupid bug that would cause help to
		become trapped, and unusable for that session.

Fri Jan 15 16:26:13 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/irc.c, source/window.c:
		Finally got irc_io() knowing when a socket connection to
		a wserv process closes, and to kill that screen, I know
		don't know of any pending bugs directly related to
		WINDOW CREATE.

	source/irc.c, source/help.c:
		Got help working properly again (I think), and all the
		checking to make sure ircII won't get confused, etc.

Fri Jan 15 03:07:48 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/help.c:
		Added variable help_screen, that is set when we enter a
		help command, and is set to NULL when we exit.  In help(),
		I made it illegal to call help from more then one screen
		at the same time.
	source/irc.c, source/window.c:
		Added new function is_main_screen(), and added code to
		irc_io() to detect if a screen is closed from something
		other than window delete.

Thu Jan 14 12:37:10 EST 1993 - Matthew Green <mrg@eterna.com.au>

	Makefile, source/Makefile.proto:
		Removed the INSTALL section of this, replacing it with a
		cp, strip, and chmod, as not all machines support install.
		Also added new target `everything' to the Makefile.. that
		does the same as `make all ircflush ircserv wserv'.

Wed Jan 13 18:19:26 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/alias.c, source/edit.c:
		Smallish revamp of the whole modules, formatting for 80 columns
		and smallish optimizations here and there.  Could be bugs here
		I guess.
	source/crypt.c, source/ctcp.c, source/dcc.c, source/exec.c,
	source/flood.c, source/funny.c, source/help.c, source/history.c,
	source/hold.c, source/hook.c, source/if.c, source/ignore.c,
	source/input.c, source/irc.c, source/ircaux.c, source/ircflush.c,
	source/ircserv.c, source/key.c, source/lastlog.c, source/list.c,
	source/log.c, source/mail.c, source/menu.c, source/mysetjmp.c
	source/names.c, source/newio.c, source/notice.c, source/notify.c
	source/numbers.c, source/output.c, source/parse.c source/reg.c,
	source/status.c, source/server.c, source/term.c source/translat.c,
	source/vars.c, source/whois.c, source/window.c, source/wserv.c:
		reformatted for 80 columns, hopefully thats the end of the
		formatting saga..  :)

Tue Jan 12 16:42:55 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/dcc.c:
		Changed the call to put_it() for ultrix machines so that
		the floating pointers won't get garbled.
	source/ctcp.c, source/ctcp.h:
		Fixed send_ctcp_reply(), and removed Transmit_CTCP() moving
		the 2 lines to the only place it was called from.
	source/translat.c, source/term.c, source/ignore.c:
		reformatted.

Mon Jan 11 16:40:14 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c:
		Changed window() so that the handling of HOLD_MODE called
		set_int_var() rather than reset_line_cnt().  Fixed a problem
		with /flush.

Mon Jan 11 01:35:22 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/lastlog.c, source/file.c, source/crypt.c, source/list.c:
		reformatted.

Mon Jan 11 00:29:41 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/names.h, source/names.c, source/window.c, source/window.h,
	source/edit.c, source/parse.c:
		Changed the handing of WINDOW CHANNEL, and JOIN so that
		ircII now remembers what window a channel was joined on.
		channel() in both parse.c and edit.c were changed,
		add_channel() in names.c.  New function, set_channel_window()
		added, in names.c thats sets a channel's window, and as such,
		Window * added to ChannelList.  This sometimes helps ircII
		remember what channels were on which windows, when
		re-connecting to a server.  Sometimes.

	source/ctcp.c, source/output.c, source/hook.h.proto, source/parse.c,
	source/output.h:
		Moved the ctcp_* functions in output.c to ctcp.c, where they
		belong, and also put in_on_who in hook.h.proto, and fixed
		those fucntions that used it.

Sun Jan 10 10:30:20 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/funny.c:
		Changed funny_list(), fixing the -TOPIC argument to the
		LIST command.  Changed the functionality of -TOPIC so
		that it works *with* the other arguements, not against
		them.

Sun Jan 10 09:23:43 EST 1993 - poxaV <cgw@unt.edu>

	source/vars.h.proto, source/vars.c, source/status.c, config.h:
		renamed status_user() to status_user0(), and added 3
		new functions, status_user[123]()..  New variables
		STATUS_USER[0-3] ..  to go with the new status line
		functions, %X, %Y and %Z.

Thu Jan  7 00:13:14 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/status.c:
		Fixed status_oper() so that it wouldn't show
		if SHOW_STATUS_ALL wasn't set.

Wed Jan  6 19:04:42 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/funny.c:
		Changed funny_print_widelist() ..  it now works
		again, I don't know when I broke it.

Wed Jan  6 11:59:11 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/term.c, source/wserv.c:
		Made the term_init() call used in wserv to set the
		line discipline to RAW, so I could forget about
		having to worry about signals, and removed the
		SIGINT handling from wserv.c.  Hopefully this means
		that wserv works properly now.  (thanks to Dizzy
		<nathan@eas.gatech.edu> for help with this).

Wed Jan  6 00:03:00 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/Makefile.proto:
		updated depandancies, and re-organised the
		SOURCES and OBJECTS.

	source/timer.c, source/edit.c, source/irc.c, source/irc.h,
	source/mysetjmp.c, source/mysetjmp.h, source/window.c:
		Moved everything from timer.c into either edit.c
		or irc.c.  Made WINDOW_CREATE define more parts
		out, in irc.c, mysetjmp.[ch], and window.c.

Tue Jan  5 20:59:36 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/exec.c:
		Reformatted, and new element of the process list
		added, server, to allow /exec -out/msg/notice
		to go to the right server.

	source/newio.c:
		reformatted.

Tue Jan  5 18:06:25 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c, source/keys.c:
		Added new function parsekeycmd(), and new command,
		PARSEKEY which calls it - does the same as typing
		a key which is bound the the arguement.

Tue Jan  5 17:03:04 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/window.c:
		Changed window() so that the WINDOW CHANNEL
		command with no arguments make the current
		window's channel null.

Tue Jan  5 16:15:51 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/wserv.c:
		Changed got_sigint() to send the ^C down the pipe,
		rather than kill SIGINT the ircII process, as this
		was causing the ^C to be read as though it was from
		the main screen.

Tue Jan  5 01:57:58 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/edit.c:
		Changed new_send_line() to set the display on.

Mon Jan  4 23:46:58 EST 1993 - Matthew Green <mrg@eterna.com.au>

	source/vars.h.proto, source/vars.c, source/hook.c, source/edit.c,
	config.h:
		New variable INPUT_PROTECTION.  Doesn't allow any
		ON INPUT's to be added when set.  ON INPUT moved to
		send_line(), so that all input is caught in the hook,
		SENDLINE command added, that calls the new function,
		new_send_line, that does a simliar thing to the send_line
		command, except, no handling for prompts, or ON INPUT is
		done during this.

Mon Jan  4 15:23:34 EST 1993 - Matthew Green <mrg@eterna.com.au>

	hook.c:
		reformatted.

Fri Jan  1 23:46:03 EST 1993 - Matthew Green <mrg@eterna.com.au>

	*.h:
		Fixed all the header files, so that if included more than
		once, they are only parsed once.
